var J=Object.defineProperty;var X=(n,t,s)=>t in n?J(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var p=(n,t,s)=>(X(n,typeof t!="symbol"?t+"":t,s),s);import{p as u}from"./chunks/Button.55d65ad9.js";import{p as q}from"./chunks/Input.001cfc48.js";import"./chunks/Checkbox.vue_vue_type_style_index_0_lang.e822a4b1.js";import{U as P,_ as L,a9 as z,u as F,aa as E,g as b,r as Q,o as Z,c as ss,a as r,w as c,b as h,e as d,m as C,y as k}from"./app.52d810e0.js";import{H}from"./chunks/hook.64405bb6.js";import{i as U,b as B}from"./chunks/isObjectLike.53b0037d.js";import{u as ts,r as as}from"./chunks/use-singleton.9883de9b.js";import{f as ns}from"./chunks/focus.419a5f01.js";import{i as es}from"./chunks/isArray.513c67aa.js";import{q as os}from"./chunks/index.8ea06e53.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.e5c571b6.js";import"./chunks/Input.vue_vue_type_style_index_0_lang.fc2bce6f.js";import"./chunks/index.73269776.js";import"./chunks/utils-6ba05f5b.2a3610bb.js";import"./chunks/index.7e692c5e.js";import"./chunks/value.830bdabd.js";var ls="[object String]";function N(n){return typeof n=="string"||!es(n)&&U(n)&&B(n)==ls}var rs="[object Number]";function ps(n){return typeof n=="number"||U(n)&&B(n)==rs}var m=(n=>(n[n.FORWARD=1]="FORWARD",n[n.BACKWARD=-1]="BACKWARD",n))(m||{});class S{constructor(t){p(this,"name");p(this,"direction");p(this,"parent");p(this,"options");p(this,"onNextHooks");p(this,"onPrevHooks");p(this,"runOnPrevHooks");p(this,"runOnNextHooks");var s;this.direction=1,this.name=(s=t==null?void 0:t.name)!=null?s:Symbol("TourID"),this.options=t,this.onPrevHooks=new H,this.onNextHooks=new H,typeof(t==null?void 0:t.onBeforePrev)=="function"&&this.onPrevHooks.add(t.onBeforePrev),typeof(t==null?void 0:t.onBeforeNext)=="function"&&this.onNextHooks.add(t.onBeforeNext),this.runOnPrevHooks=async(...a)=>await this.onPrevHooks.run(...a),this.runOnNextHooks=async(...a)=>await this.onNextHooks.run(...a)}setParent(t){return this.parent=t,this}getOptions(){var t;return P(this.options,(t=this.parent)==null?void 0:t.getOptions())}setDirection(t){return this.direction=t,this}attach(t){return t.onPrevHooks.add(this.runOnPrevHooks),t.onNextHooks.add(this.runOnNextHooks),this}detach(t){return t.onPrevHooks.remove(this.runOnPrevHooks),t.onNextHooks.remove(this.runOnNextHooks),this}}class cs extends S{constructor(s){super(s);p(this,"index");p(this,"steps");p(this,"onFinishedHooks");p(this,"running");this.running=!1,this.index=-1,this.steps=[],this.onFinishedHooks=[],this.options=P(s,{highlight:!0,dismissable:!0,prevLabel:"Previous",nextLabel:"Next",dismissLabel:"Dismiss",finishLabel:"Finish",waitTimeout:3e3,skipOnError:!1}),typeof(s==null?void 0:s.onFinished)=="function"&&this.onFinishedHooks.unshift(s.onFinished)}getIndex(){var s,a;return this.getRealIndex()+((a=(s=this.parent)==null?void 0:s.getIndex())!=null?a:0)}getTotal(){var s,a;return(a=(s=this.parent)==null?void 0:s.getTotal())!=null?a:this.getTotalChild()}getSteps(){return this.steps}isRunning(){return this.running}getTotalChild(){let s=0;for(const a of this.steps)s+="getTotalChild"in a?a.getTotalChild():1;return s}getRealIndex(){let s=this.index;for(let a=0;a<this.index;a++){const e=this.steps[a];"getTotalChild"in e&&(s+=e.getTotalChild()-1)}return s}getCurrentStep(){return this.steps.at(this.index)}async runOnFinishedHooks(){await Promise.allSettled(this.onFinishedHooks.map(s=>s()))}async run(){const s=this.getCurrentStep();try{await s.setDirection(this.direction).start()}catch(a){if(this.getOptions().skipOnError||s.getOptions().skipOnError)await(this.direction===m.BACKWARD?this.prev(!0):this.next(!0));else{if(this.parent)throw a;await this.stop()}}}async prev(s=!1){const a=this.index-1,e=this.steps.at(this.index),l=this.steps.at(a);a<0&&this.parent?await this.parent.prev():a>-1&&(s||await this.runOnPrevHooks(l,e))&&(await e.stop(),this.index=a,this.direction=m.BACKWARD,await this.run())}async next(s=!1){const a=this.index+1,e=this.steps.at(this.index),l=this.steps.at(a);(s||await this.runOnNextHooks(l,e))&&(a<this.steps.length?(await e.stop(),this.index=a,this.direction=m.FORWARD,await this.run()):await this.finish())}async finish(){await this.runOnFinishedHooks(),await(this.parent?this.parent.next():this.stop())}async start(){this.running=!0,this.index=this.direction===m.BACKWARD?this.steps.length-1:0,this.parent&&this.attach(this.parent),await this.run()}async stop(){await this.getCurrentStep().stop(),this.parent&&this.detach(this.parent),this.running=!1}findIndex(s){return s instanceof S?this.steps.indexOf(s):this.steps.findIndex(a=>a.name===s)}add(s){return this.steps.push(s.setParent(this)),this}remove(s){if(!s&&this.parent)this.parent.remove(this);else{const a=ps(s)?s:this.findIndex(s);a>-1&&this.steps.splice(a,1)}}}class v extends S{constructor(){super(...arguments);p(this,"cleanFns",[])}async dispose(){return await Promise.allSettled(this.cleanFns.map(s=>s()))}onCleanup(s){this.cleanFns.push(s)}async start(){this.attach(this.parent),await this.run()}async stop(){await this.dispose(),this.detach(this.parent)}async next(){await this.parent.next()}async prev(){await this.parent.prev()}async ahead(){return await(this.direction===m.BACKWARD?this.prev():this.next())}}function is(n){if(!(n instanceof Element))return!1;const t=getComputedStyle(n);if(t.display==="none"||t.visibility!=="visible"||Number.parseFloat(t.opacity)<.1)return!1;const s=n.getBoundingClientRect();if(n.offsetWidth+n.offsetHeight+s.height+s.width===0)return!1;const a=s.left+s.width/2,e=s.top+s.height/2,l=document.documentElement.clientWidth||window.innerWidth,y=document.documentElement.clientHeight||window.innerHeight;if(a<0||e<0||a>l||e>y)return!1;let i=document.elementFromPoint(a,e);do{if(i===n)return!0;i=i.parentNode}while(i);return!1}async function R(n){const t=document.querySelector(n);if(t&&(await ns(t),!is(t)))throw new Error(`Target: "${n}" not visible`);return t}async function W(n,t=3e4){return await new Promise((s,a)=>{let e;const l=new MutationObserver(([i])=>{i.type==="childList"&&R(n).then(f=>{f&&(y(),s(f))}).catch(a)}),y=()=>{e&&clearTimeout(e),l&&l.disconnect()};t>0&&(e=setTimeout(()=>{y(),a(new Error("Target: timeout"))},t)),l.observe(document.body,{childList:!0,subtree:!0}),R(n).then(i=>{i&&(y(),s(i))}).catch(a)})}class V extends v{async dismiss(){await this.parent.stop()}async run(){const t=this.getOptions(),{default:s}=await L(()=>import("./chunks/Tour.722f3ae5.js"),["assets/chunks/Tour.722f3ae5.js","assets/chunks/Subheading.8cd98ac7.js","assets/app.52d810e0.js","assets/chunks/Caption.c2f605e2.js","assets/chunks/Caption.vue_vue_type_style_index_0_lang.7cf498df.js","assets/chunks/Button.55d65ad9.js","assets/chunks/Button.vue_vue_type_style_index_0_lang.e5c571b6.js","assets/chunks/index.3c2ea8e3.js","assets/chunks/marked.esm.cc7a9e87.js","assets/chunks/vite-browser-external_commonjs-proxy.d68985fa.js","assets/chunks/16.e1cfb7af.js","assets/chunks/utils-6ba05f5b.2a3610bb.js","assets/chunks/floating-ui.dom.esm.9d13274a.js","assets/chunks/index.5ce1dbfa.js","assets/chunks/index.8ea06e53.js"]),a=await ts(s),e=await W(t.target,t.waitTimeout);a.show(e,P({step:this.parent.getIndex()+1,totalStep:this.parent.getTotal(),onNext:this.next.bind(this),onPrev:this.prev.bind(this),onDismiss:this.dismiss.bind(this)},t)),this.onCleanup(async()=>{await as(s)})}}let ds=(n,t)=>new Promise(s=>{setTimeout(s,n,t)});class ys extends v{async run(){const t=this.getOptions();await ds(t.duration),await this.ahead()}}class O extends v{async run(){var i;const t=this.getOptions(),{default:s}=await L(()=>import("./chunks/index.2c6391c5.js"),["assets/chunks/index.2c6391c5.js","assets/app.52d810e0.js"]),a=await W(t.target,t.waitTimeout),e=s.setup({document}),l=t.action,y=(i=t.params)!=null?i:[];await e[l].apply(void 0,[a,...y]),await this.ahead()}}class Ds extends v{constructor(){super(...arguments);p(this,"lastURL","")}async run(){var y;const s=z(),a=this.getOptions(),e=this.lastURL,l=this.direction===m.FORWARD?a.url:(y=a.backUrl)!=null?y:e;this.lastURL=s.getURL(),await s.toURL(l),await this.ahead()}}var I=(n=>(n[n.IF=1]="IF",n[n.ELSE_IF=2]="ELSE_IF",n[n.ELSE=3]="ELSE",n))(I||{});class w extends v{constructor(s){super(s);p(this,"routines");this.routines=[{type:1,condition:s.condition,tour:s.tour}]}canChain(){return this.routines.at(-1).type!==3}chain(s){return this.routines.push(s),this}getTotalChild(){return Math.max(...this.routines.map(s=>s.tour.getTotalChild()))}getRoutines(){return this.routines}async run(){let s=!1;for(const a of this.routines){const e=F(a.condition);try{s=typeof e=="function"?await e():e}catch(l){s=!1}if(s){const l=a.tour;await l.setParent(this.parent).setDirection(this.direction).start(),this.onCleanup(async()=>{await l.stop()});break}}s||await this.ahead()}}class x extends cs{dialog(t,s="",a,e){return N(t)?this.add(new V({target:t,text:s,title:a,image:e})):this.add(new V(t))}delay(t){return this.add(new ys({duration:t}))}action(t,s,...a){return N(t)?this.add(new O({target:t,action:s,params:a})):this.add(new O(t))}click(t){return this.action(t,"click")}dblClick(t){return this.action(t,"dblClick")}tripleClick(t){return this.action(t,"tripleClick")}hover(t){return this.action(t,"hover")}unhover(t){return this.action(t,"unhover")}blur(t){return this.unhover(t)}type(t,s){return this.action(t,"type",s)}clear(t){return this.action(t,"clear")}visit(t,s){return this.add(new Ds({url:t,backUrl:s}))}runIf(t,s){var e;const a=new x;return this.add(new w({condition:t,tour:(e=s(a))!=null?e:a}))}runElseIf(t,s){var l;const a=this.steps.at(-1);if(!(a instanceof w)||!a.canChain())throw new Error(".runElseIf only can be use after .runIf or .runElseIf");const e=new x;return a.chain({type:I.ELSE_IF,condition:t,tour:(l=s(e))!=null?l:e}),this}runElse(t){var e;const s=this.steps.at(-1);if(!(s instanceof w)||!s.canChain())throw new Error(".runElse only can be use after .runIf or .runElseIf");const a=new x;return s.chain({type:I.ELSE,condition:!0,tour:(e=t(a))!=null?e:a}),this}}function g(n){return new x(n)}const us=h("",4),Fs=C("div",{class:"w-full max-w-xs overflow-y-auto h-52"},[d(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita explicabo necessitatibus eius architecto, similique quibusdam sed consequuntur? Esse, praesentium quidem. Dolorem repellendus numquam laudantium nisi labore animi. Iusto maxime exercitationem voluptatem molestias dolorum? Beatae minima deleniti tenetur quo ullam numquam, ab officiis id odio optio ipsam sed, "),C("span",{id:"sample",class:"text-accent"},"sample text"),d(", repellendus, voluptat. ")],-1),Cs=h("",2),As=h("",5),hs=h("",3),gs={class:"space-gap-2"},ms=h("",3),fs={class:"space-x-2"},bs=h("",3),xs=h("",3),vs={class:"space-gap-3"},Ts=C("span",{"data-tour":"if-more-than-5"},"≥5",-1),_s=C("span",{"data-tour":"if-more-than-3"},"≥3",-1),ks=C("span",{"data-tour":"if-less-than-3"},"<3",-1),Es=h("",38),js=JSON.parse('{"title":"Tour · Components","description":"Give a tour for new user.","frontmatter":{"title":"Tour · Components","description":"Give a tour for new user."},"headers":[{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[{"level":3,"title":"Simple Usage","slug":"simple-usage","link":"#simple-usage","children":[]},{"level":3,"title":"Advance Usage","slug":"advance-usage","link":"#advance-usage","children":[]}]},{"level":2,"title":"Defining Tour Stories","slug":"defining-tour-stories","link":"#defining-tour-stories","children":[{"level":3,"title":"Show Dialog","slug":"show-dialog","link":"#show-dialog","children":[]},{"level":3,"title":"User Action","slug":"user-action","link":"#user-action","children":[]},{"level":3,"title":"Delay","slug":"delay","link":"#delay","children":[]},{"level":3,"title":"Visiting Page","slug":"visiting-page","link":"#visiting-page","children":[]}]},{"level":2,"title":"Conditional Step","slug":"conditional-step","link":"#conditional-step","children":[]},{"level":2,"title":"API","slug":"api","link":"#api","children":[{"level":3,"title":"createTour","slug":"createtour","link":"#createtour","children":[]},{"level":3,"title":".dialog","slug":"dialog","link":"#dialog","children":[]},{"level":3,"title":".action","slug":"action","link":"#action","children":[]},{"level":3,"title":".delay","slug":"delay-1","link":"#delay-1","children":[]},{"level":3,"title":".visit","slug":"visit","link":"#visit","children":[]},{"level":3,"title":".runIf","slug":"runif","link":"#runif","children":[]},{"level":3,"title":".runElseIf","slug":"runelseif","link":"#runelseif","children":[]},{"level":3,"title":".runElse","slug":"runelse","link":"#runelse","children":[]},{"level":3,"title":".start","slug":"start","link":"#start","children":[]},{"level":3,"title":".stop","slug":"stop","link":"#stop","children":[]}]}],"relativePath":"components/tour/index.md"}'),ws={name:"components/tour/index.md"},Ys=Object.assign(ws,{setup(n){const t=g().dialog({target:"#sample",title:"Step 1",text:"Hello World"}).dialog({target:".pager-link.prev",title:"Step 2",text:"Ini Prev button"}).dialog({target:".pager-link.next",title:"Step 3",text:"Ini Next button"}),s=g().visit(E("/docs/getting-started")).click('[data-tour="theme-dashboard"] > summary').dialog('[data-tour="theme-dashboard"]',"This is tutorial for install persona dashboard theme").click('[data-tour="theme-dashboard"] > summary').delay(100).click('[data-tour="theme-docs"] > summary').dialog('[data-tour="theme-docs"]',"This is tutorial for install persona docs theme").click('[data-tour="theme-docs"] > summary').delay(100).visit(E("/components/tour/")).delay(100).runIf(()=>window.matchMedia("(max-width: 700px)").matches,A=>A.dialog(".VPLocalNav > .menu","Click this to show sidebar")).dialog('[data-tour="start-advance"]',"Click this to restart the tutorial"),a=g().dialog({target:'[data-tour="sample-dialog"]',title:"This is title",text:"This is text",image:"https://picsum.photos/400/244"}),e=g().click('[data-tour="action-click"]').dblClick('[data-tour="action-dblClick"]').tripleClick('[data-tour="action-tripleClick"]').clear('[data-tour="action-type"]').type('[data-tour="action-type"]',"Hello World"),l=b(0),y=b(0),i=b(0),f=b(""),{counter:$,pause:G,resume:K}=os(1e3,{controls:!0,immediate:!1}),M=g().click('[data-tour="delay-start"]').delay(5e3).click('[data-tour="delay-stop"]'),j=g().visit(E("/")).dialog('[data-tour="github"]',"Don't forget to hit the star on Github"),T=b(5),Y=g().runIf(()=>T.value>=5,A=>A.dialog('[data-tour="if-more-than-5"]',"This only run if number >= 5")).runElseIf(()=>T.value>=3,A=>A.dialog('[data-tour="if-more-than-3"]',"This only run if number >= 3 and <= 5")).runElse(A=>A.dialog('[data-tour="if-less-than-3"]',"This only run if number < 3"));return(A,o)=>{const _=Q("preview");return Z(),ss("div",null,[us,r(u,{class:"mt-3",onClick:o[0]||(o[0]=D=>F(t).start()),color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),r(_,{class:"flex-col space-y-2",label:"sample"},{default:c(()=>[Fs]),_:1}),Cs,r(u,{class:"mt-3",onClick:o[1]||(o[1]=D=>F(s).start()),"data-tour":"start-advance",color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),As,r(u,{class:"mt-3",onClick:o[2]||(o[2]=D=>F(a).start()),"data-tour":"sample-dialog",color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),hs,r(u,{class:"mt-3",onClick:o[3]||(o[3]=D=>F(e).start()),color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),r(_,{class:"flex-col space-y-2",label:"sample"},{default:c(()=>[C("div",gs,[r(u,{"data-tour":"action-click",onClick:o[4]||(o[4]=D=>l.value++)},{default:c(()=>[d(" Click: "+k(l.value),1)]),_:1}),r(u,{"data-tour":"action-dblClick",onClick:o[5]||(o[5]=D=>y.value++)},{default:c(()=>[d(" Click: "+k(y.value),1)]),_:1}),r(u,{"data-tour":"action-tripleClick",onClick:o[6]||(o[6]=D=>i.value++)},{default:c(()=>[d(" Click: "+k(i.value),1)]),_:1})]),r(q,{"data-tour":"action-type",modelValue:f.value,"onUpdate:modelValue":o[7]||(o[7]=D=>f.value=D)},null,8,["modelValue"])]),_:1}),ms,r(u,{class:"mt-3",onClick:o[8]||(o[8]=D=>F(M).start()),color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),r(_,{class:"flex-col space-y-2",label:"sample"},{default:c(()=>[C("div",null,"Timer: "+k(F($))+"s",1),C("div",fs,[r(u,{"data-tour":"delay-start",onClick:F(K)},{default:c(()=>[d(" Start ")]),_:1},8,["onClick"]),r(u,{"data-tour":"delay-stop",onClick:F(G)},{default:c(()=>[d(" Stop ")]),_:1},8,["onClick"])])]),_:1}),bs,r(u,{class:"mt-3",onClick:o[9]||(o[9]=D=>F(j).start()),color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),xs,r(u,{class:"mt-3",onClick:o[10]||(o[10]=D=>F(Y).start()),color:"primary"},{default:c(()=>[d(" Try It ")]),_:1}),r(_,{class:"flex-col space-y-2",label:"sample"},{default:c(()=>[C("div",vs,[r(q,{modelValue:T.value,"onUpdate:modelValue":o[11]||(o[11]=D=>T.value=D)},null,8,["modelValue"]),Ts,_s,ks])]),_:1}),Es])}}});export{js as __pageData,Ys as default};
