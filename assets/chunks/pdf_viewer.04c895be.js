var qe=(ue,pe,ce)=>{if(!pe.has(ue))throw TypeError("Cannot "+ce)};var x=(ue,pe,ce)=>(qe(ue,pe,"read from private field"),ce?ce.call(ue):pe.get(ue)),H=(ue,pe,ce)=>{if(pe.has(ue))throw TypeError("Cannot add the same private member more than once");pe instanceof WeakSet?pe.add(ue):pe.set(ue,ce)},ne=(ue,pe,ce,Te)=>(qe(ue,pe,"write to private field"),Te?Te.call(ue,ce):pe.set(ue,ce),ce);var U=(ue,pe,ce)=>(qe(ue,pe,"access private method"),ce);import{P as Ot}from"../app.8aab0a2c.js";import{a as Ft}from"./pdf.55080a82.js";function Vt(ue,pe){for(var ce=0;ce<pe.length;ce++){const Te=pe[ce];if(typeof Te!="string"&&!Array.isArray(Te)){for(const se in Te)if(se!=="default"&&!(se in ue)){const He=Object.getOwnPropertyDescriptor(Te,se);He&&Object.defineProperty(ue,se,He.get?He:{enumerable:!0,get:()=>Te[se]})}}}return Object.freeze(Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}))}var Je={},kt={get exports(){return Je},set exports(ue){Je=ue}};(function(ue,pe){(function(Te,se){ue.exports=se()})(globalThis,()=>(()=>{var ce=[,(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=s.DefaultAnnotationEditorLayerFactory=void 0;var r=E(2),l=E(5),I=E(4),y=E(7),h=E(8),n=E(9),d=E(10);class p{createAnnotationLayerBuilder({pageDiv:i,pdfPage:u,annotationStorage:f=null,imageResourcesPath:T="",renderForms:A=!0,l10n:S=I.NullL10n,enableScripting:k=!1,hasJSActionsPromise:Q=null,mouseState:te=null,fieldObjectsPromise:_=null,annotationCanvasMap:N=null,accessibilityManager:M=null}){return new l.AnnotationLayerBuilder({pageDiv:i,pdfPage:u,imageResourcesPath:T,renderForms:A,linkService:new y.SimpleLinkService,l10n:S,annotationStorage:f,enableScripting:k,hasJSActionsPromise:Q,fieldObjectsPromise:_,mouseState:te,annotationCanvasMap:N,accessibilityManager:M})}}s.DefaultAnnotationLayerFactory=p;class b{createAnnotationEditorLayerBuilder({uiManager:i=null,pageDiv:u,pdfPage:f,accessibilityManager:T=null,l10n:A,annotationStorage:S=null}){return new r.AnnotationEditorLayerBuilder({uiManager:i,pageDiv:u,pdfPage:f,accessibilityManager:T,l10n:A,annotationStorage:S})}}s.DefaultAnnotationEditorLayerFactory=b;class m{createStructTreeLayerBuilder({pdfPage:i}){return new h.StructTreeLayerBuilder({pdfPage:i})}}s.DefaultStructTreeLayerFactory=m;class t{createTextLayerBuilder({textLayerDiv:i,pageIndex:u,viewport:f,eventBus:T,highlighter:A,accessibilityManager:S=null}){return new n.TextLayerBuilder({textLayerDiv:i,pageIndex:u,viewport:f,eventBus:T,highlighter:A,accessibilityManager:S})}}s.DefaultTextLayerFactory=t;class a{createXfaLayerBuilder({pageDiv:i,pdfPage:u,annotationStorage:f=null}){return new d.XfaLayerBuilder({pageDiv:i,pdfPage:u,annotationStorage:f,linkService:new y.SimpleLinkService})}}s.DefaultXfaLayerFactory=a},(W,s,E)=>{var y;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var r=E(3),l=E(4);class I{constructor(n){H(this,y,void 0);this.pageDiv=n.pageDiv,this.pdfPage=n.pdfPage,this.annotationStorage=n.annotationStorage||null,this.accessibilityManager=n.accessibilityManager,this.l10n=n.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,ne(this,y,n.uiManager)}async render(n,d="display"){if(d!=="display"||this._cancelled)return;const p=n.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:p}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new r.AnnotationEditorLayer({uiManager:x(this,y),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:p});const b={viewport:p,div:this.div,annotations:null,intent:d};this.annotationEditorLayer.render(b)}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}y=new WeakMap,s.AnnotationEditorLayerBuilder=I},W=>{let s;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?s=window["pdfjs-dist/build/pdf"]:s=Ft,W.exports=s},(W,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=I,s.getL10nFallback=r;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading…",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};E.print_progress_percent="{{progress}}%";function r(n,d){switch(n){case"find_match_count":n=`find_match_count[${d.total===1?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${d.limit===1?"one":"other"}]`;break}return E[n]||""}const l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function I(n){return l[n==null?void 0:n.toLowerCase()]||n}function y(n,d){return d?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(p,b)=>b in d?d[b]:"{{"+b+"}}"):n}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(n,d=null,p=r(n,d)){return y(p,d)},async translate(n){}};s.NullL10n=h},(W,s,E)=>{var h,n,et;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var r=E(3),l=E(4),I=E(6);class y{constructor({pageDiv:b,pdfPage:m,linkService:t,downloadManager:a,annotationStorage:c=null,imageResourcesPath:i="",renderForms:u=!0,l10n:f=l.NullL10n,enableScripting:T=!1,hasJSActionsPromise:A=null,fieldObjectsPromise:S=null,mouseState:k=null,annotationCanvasMap:Q=null,accessibilityManager:te=null}){H(this,n);H(this,h,null);this.pageDiv=b,this.pdfPage=m,this.linkService=t,this.downloadManager=a,this.imageResourcesPath=i,this.renderForms=u,this.l10n=f,this.annotationStorage=c,this.enableScripting=T,this._hasJSActionsPromise=A,this._fieldObjectsPromise=S,this._mouseState=k,this._annotationCanvasMap=Q,this._accessibilityManager=te,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render(b,m="display"){var u;const[t,a=!1,c=null]=await Promise.all([this.pdfPage.getAnnotations({intent:m}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||t.length===0)return;const i={viewport:b.clone({dontFlip:!0}),div:this.div,annotations:t,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:a,fieldObjects:c,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?r.AnnotationLayer.update(i):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),i.div=this.div,r.AnnotationLayer.render(i),this.l10n.translate(this.div),this.linkService.isInPresentationMode&&U(this,n,et).call(this,I.PresentationModeState.FULLSCREEN),x(this,h)||(ne(this,h,f=>{U(this,n,et).call(this,f.state)}),(u=this._eventBus)==null||u._on("presentationmodechanged",x(this,h))))}cancel(){var b;this._cancelled=!0,x(this,h)&&((b=this._eventBus)==null||b._off("presentationmodechanged",x(this,h)),ne(this,h,null))}hide(){this.div&&(this.div.hidden=!0)}}h=new WeakMap,n=new WeakSet,et=function(b){if(!this.div)return;let m=!1;switch(b){case I.PresentationModeState.FULLSCREEN:m=!0;break;case I.PresentationModeState.NORMAL:break;default:return}for(const t of this.div.childNodes)t.hasAttribute("data-internal-link")||(t.inert=m)},s.AnnotationLayerBuilder=y},(W,s)=>{var he,Ae,fe;Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=xe,s.apiPageModeToSidebarView=ke,s.approximateFraction=M,s.backtrackBeforeAllVisibleElements=j,s.binarySearchFirstItem=N,s.docStyle=void 0,s.getActiveOrFocusedElement=Ie,s.getPageSizeInches=X,s.getVisibleElements=g,s.isPortraitOrientation=Ce,s.isValidRotation=_e,s.isValidScrollMode=be,s.isValidSpreadMode=me,s.noContextMenuHandler=Y,s.normalizeWheelEventDelta=de,s.normalizeWheelEventDirection=ae,s.parseQueryString=k,s.removeNullCharacters=_,s.roundToDivide=P,s.scrollIntoView=A,s.watchScroll=S;const E="auto";s.DEFAULT_SCALE_VALUE=E;const r=1;s.DEFAULT_SCALE=r;const l=1.1;s.DEFAULT_SCALE_DELTA=l;const I=.1;s.MIN_SCALE=I;const y=10;s.MAX_SCALE=y;const h=0;s.UNKNOWN_SCALE=h;const n=1.25;s.MAX_AUTO_SCALE=n;const d=40;s.SCROLLBAR_PADDING=d;const p=5;s.VERTICAL_PADDING=p;const b={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=b;const m={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=m;const t={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=t;const a={CANVAS:"canvas",SVG:"svg"};s.RendererType=a;const c={DISABLE:0,ENABLE:1};s.TextLayerMode=c;const i={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=i;const u={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=u;const f=/\bprint\s*\(/;s.AutoPrintRegExp=f;class T{constructor(){const O=window.devicePixelRatio||1;this.sx=O,this.sy=O}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=T;function A(L,O,K=!1){let e=L.offsetParent;if(!e){console.error("offsetParent is not set -- cannot scroll");return}let o=L.offsetTop+L.clientTop,v=L.offsetLeft+L.clientLeft;for(;e.clientHeight===e.scrollHeight&&e.clientWidth===e.scrollWidth||K&&(e.classList.contains("markedContent")||getComputedStyle(e).overflow==="hidden");)if(o+=e.offsetTop,v+=e.offsetLeft,e=e.offsetParent,!e)return;O&&(O.top!==void 0&&(o+=O.top),O.left!==void 0&&(v+=O.left,e.scrollLeft=v)),e.scrollTop=o}function S(L,O){const K=function(v){o||(o=window.requestAnimationFrame(function(){o=null;const R=L.scrollLeft,V=e.lastX;R!==V&&(e.right=R>V),e.lastX=R;const B=L.scrollTop,$=e.lastY;B!==$&&(e.down=B>$),e.lastY=B,O(e)}))},e={right:!0,down:!0,lastX:L.scrollLeft,lastY:L.scrollTop,_eventHandler:K};let o=null;return L.addEventListener("scroll",K,!0),e}function k(L){const O=new Map;for(const[K,e]of new URLSearchParams(L))O.set(K.toLowerCase(),e);return O}const Q=/\x00/g,te=/[\x01-\x1F]/g;function _(L,O=!1){return typeof L!="string"?(console.error("The argument must be a string."),L):(O&&(L=L.replace(te," ")),L.replace(Q,""))}function N(L,O,K=0){let e=K,o=L.length-1;if(o<0||!O(L[o]))return L.length;if(O(L[e]))return e;for(;e<o;){const v=e+o>>1,D=L[v];O(D)?o=v:e=v+1}return e}function M(L){if(Math.floor(L)===L)return[L,1];const O=1/L,K=8;if(O>K)return[1,K];if(Math.floor(O)===O)return[1,O];const e=L>1?O:L;let o=0,v=1,D=1,R=1;for(;;){const B=o+D,$=v+R;if($>K)break;e<=B/$?(D=B,R=$):(o=B,v=$)}let V;return e-o/v<D/R-e?V=e===L?[o,v]:[v,o]:V=e===L?[D,R]:[R,D],V}function P(L,O){const K=L%O;return K===0?L:Math.round(L-K+O)}function X({view:L,userUnit:O,rotate:K}){const[e,o,v,D]=L,R=K%180!==0,V=(v-e)/72*O,B=(D-o)/72*O;return{width:R?B:V,height:R?V:B}}function j(L,O,K){if(L<2)return L;let e=O[L].div,o=e.offsetTop+e.clientTop;o>=K&&(e=O[L-1].div,o=e.offsetTop+e.clientTop);for(let v=L-2;v>=0&&(e=O[v].div,!(e.offsetTop+e.clientTop+e.clientHeight<=o));--v)L=v;return L}function g({scrollEl:L,views:O,sortByVisibility:K=!1,horizontal:e=!1,rtl:o=!1}){const v=L.scrollTop,D=v+L.clientHeight,R=L.scrollLeft,V=R+L.clientWidth;function B(C){const w=C.div;return w.offsetTop+w.clientTop+w.clientHeight>v}function $(C){const w=C.div,F=w.offsetLeft+w.clientLeft,z=F+w.clientWidth;return o?F<V:z>R}const Z=[],ge=new Set,oe=O.length;let Me=N(O,e?$:B);Me>0&&Me<oe&&!e&&(Me=j(Me,O,v));let ve=e?V:-1;for(let C=Me;C<oe;C++){const w=O[C],F=w.div,z=F.offsetLeft+F.clientLeft,G=F.offsetTop+F.clientTop,J=F.clientWidth,q=F.clientHeight,le=z+J,ee=G+q;if(ve===-1)ee>=D&&(ve=ee);else if((e?z:G)>ve)break;if(ee<=v||G>=D||le<=R||z>=V)continue;const re=Math.max(0,v-G)+Math.max(0,ee-D),ye=Math.max(0,R-z)+Math.max(0,le-V),Oe=(q-re)/q,Fe=(J-ye)/J,Ve=Oe*Fe*100|0;Z.push({id:w.id,x:z,y:G,view:w,percent:Ve,widthPercent:Fe*100|0}),ge.add(w.id)}const Be=Z[0],ie=Z.at(-1);return K&&Z.sort(function(C,w){const F=C.percent-w.percent;return Math.abs(F)>.001?-F:C.id-w.id}),{first:Be,last:ie,views:Z,ids:ge}}function Y(L){L.preventDefault()}function ae(L){let O=Math.hypot(L.deltaX,L.deltaY);const K=Math.atan2(L.deltaY,L.deltaX);return-.25*Math.PI<K&&K<.75*Math.PI&&(O=-O),O}function de(L){let O=ae(L);const K=0,e=1,o=30,v=30;return L.deltaMode===K?O/=o*v:L.deltaMode===e&&(O/=v),O}function _e(L){return Number.isInteger(L)&&L%90===0}function be(L){return Number.isInteger(L)&&Object.values(i).includes(L)&&L!==i.UNKNOWN}function me(L){return Number.isInteger(L)&&Object.values(u).includes(L)&&L!==u.UNKNOWN}function Ce(L){return L.width<=L.height}const we=new Promise(function(L){window.requestAnimationFrame(L)});s.animationStarted=we;const Ee=document.documentElement.style;s.docStyle=Ee;function Ue(L,O,K){return Math.min(Math.max(L,O),K)}class De{constructor(O){H(this,he,null);H(this,Ae,0);H(this,fe,!0);const K=document.getElementById(O);ne(this,he,K.classList)}get percent(){return x(this,Ae)}set percent(O){if(ne(this,Ae,Ue(O,0,100)),isNaN(O)){x(this,he).add("indeterminate");return}x(this,he).remove("indeterminate"),Ee.setProperty("--progressBar-percent",`${x(this,Ae)}%`)}setWidth(O){if(!O)return;const e=O.parentNode.offsetWidth-O.offsetWidth;e>0&&Ee.setProperty("--progressBar-end-offset",`${e}px`)}hide(){x(this,fe)&&(ne(this,fe,!1),x(this,he).add("hidden"))}show(){x(this,fe)||(ne(this,fe,!0),x(this,he).remove("hidden"))}}he=new WeakMap,Ae=new WeakMap,fe=new WeakMap,s.ProgressBar=De;function Ie(){let L=document,O=L.activeElement||L.querySelector(":focus");for(;O!=null&&O.shadowRoot;)L=O.shadowRoot,O=L.activeElement||L.querySelector(":focus");return O}function xe(L){let O=i.VERTICAL,K=u.NONE;switch(L){case"SinglePage":O=i.PAGE;break;case"OneColumn":break;case"TwoPageLeft":O=i.PAGE;case"TwoColumnLeft":K=u.ODD;break;case"TwoPageRight":O=i.PAGE;case"TwoColumnRight":K=u.EVEN;break}return{scrollMode:O,spreadMode:K}}function ke(L){switch(L){case"UseNone":return t.NONE;case"UseThumbs":return t.THUMBS;case"UseOutlines":return t.OUTLINE;case"UseAttachments":return t.ATTACHMENTS;case"UseOC":return t.LAYERS}return t.NONE}},(W,s,E)=>{var d,p,tt,m,pt;Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var r=E(6);const l="noopener noreferrer nofollow",I={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=I;function y(c,{url:i,target:u,rel:f,enabled:T=!0}={}){if(!i||typeof i!="string")throw new Error('A valid "url" parameter must provided.');const A=(0,r.removeNullCharacters)(i);T?c.href=c.title=A:(c.href="",c.title=`Disabled: ${A}`,c.onclick=()=>!1);let S="";switch(u){case I.NONE:break;case I.SELF:S="_self";break;case I.BLANK:S="_blank";break;case I.PARENT:S="_parent";break;case I.TOP:S="_top";break}c.target=S,c.rel=typeof f=="string"?f:l}const a=class{constructor({eventBus:i,externalLinkTarget:u=null,externalLinkRel:f=null,ignoreDestinationZoom:T=!1}={}){H(this,p);H(this,d,new Map);this.eventBus=i,this.externalLinkTarget=u,this.externalLinkRel=f,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=T,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(i,u=null){this.baseUrl=u,this.pdfDocument=i,x(this,d).clear()}setViewer(i){this.pdfViewer=i}setHistory(i){this.pdfHistory=i}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(i){this.pdfViewer.currentPageNumber=i}get rotation(){return this.pdfViewer.pagesRotation}set rotation(i){this.pdfViewer.pagesRotation=i}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(i){if(!this.pdfDocument)return;let u,f;if(typeof i=="string"?(u=i,f=await this.pdfDocument.getDestination(i)):(u=null,f=await i),!Array.isArray(f)){console.error(`PDFLinkService.goToDestination: "${f}" is not a valid destination array, for dest="${i}".`);return}U(this,p,tt).call(this,i,u,f)}goToPage(i){if(!this.pdfDocument)return;const u=typeof i=="string"&&this.pdfViewer.pageLabelToPageNumber(i)||i|0;if(!(Number.isInteger(u)&&u>0&&u<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${i}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(u)),this.pdfViewer.scrollPageIntoView({pageNumber:u})}addLinkAttributes(i,u,f=!1){y(i,{url:u,target:f?I.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(i){if(typeof i=="string"){if(i.length>0)return this.getAnchorUrl("#"+escape(i))}else if(Array.isArray(i)){const u=JSON.stringify(i);if(u.length>0)return this.getAnchorUrl("#"+escape(u))}return this.getAnchorUrl("")}getAnchorUrl(i){return(this.baseUrl||"")+i}setHash(i){var T;if(!this.pdfDocument)return;let u,f;if(i.includes("=")){const A=(0,r.parseQueryString)(i);if(A.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:A.get("search").replace(/"/g,""),phraseSearch:A.get("phrase")==="true"}),A.has("page")&&(u=A.get("page")|0||1),A.has("zoom")){const S=A.get("zoom").split(","),k=S[0],Q=parseFloat(k);k.includes("Fit")?k==="Fit"||k==="FitB"?f=[null,{name:k}]:k==="FitH"||k==="FitBH"||k==="FitV"||k==="FitBV"?f=[null,{name:k},S.length>1?S[1]|0:null]:k==="FitR"?S.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):f=[null,{name:k},S[1]|0,S[2]|0,S[3]|0,S[4]|0]:console.error(`PDFLinkService.setHash: "${k}" is not a valid zoom value.`):f=[null,{name:"XYZ"},S.length>1?S[1]|0:null,S.length>2?S[2]|0:null,Q?Q/100:k]}f?this.pdfViewer.scrollPageIntoView({pageNumber:u||this.page,destArray:f,allowNegativeOffset:!0}):u&&(this.page=u),A.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:A.get("pagemode")}),A.has("nameddest")&&this.goToDestination(A.get("nameddest"))}else{f=unescape(i);try{f=JSON.parse(f),Array.isArray(f)||(f=f.toString())}catch{}if(typeof f=="string"||U(T=a,m,pt).call(T,f)){this.goToDestination(f);return}console.error(`PDFLinkService.setHash: "${unescape(i)}" is not a valid destination.`)}}executeNamedAction(i){var u,f;switch(i){case"GoBack":(u=this.pdfHistory)==null||u.back();break;case"GoForward":(f=this.pdfHistory)==null||f.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:i})}async executeSetOCGState(i){const u=this.pdfDocument,f=await this.pdfViewer.optionalContentConfigPromise;if(u!==this.pdfDocument)return;let T;for(const A of i.state){switch(A){case"ON":case"OFF":case"Toggle":T=A;continue}switch(T){case"ON":f.setVisibility(A,!0);break;case"OFF":f.setVisibility(A,!1);break;case"Toggle":const S=f.getGroup(A);S&&f.setVisibility(A,!S.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(f)}cachePageRef(i,u){if(!u)return;const f=u.gen===0?`${u.num}R`:`${u.num}R${u.gen}`;x(this,d).set(f,i)}_cachedPageNumber(i){if(!i)return null;const u=i.gen===0?`${i.num}R`:`${i.num}R${i.gen}`;return x(this,d).get(u)||null}isPageVisible(i){return this.pdfViewer.isPageVisible(i)}isPageCached(i){return this.pdfViewer.isPageCached(i)}};let h=a;d=new WeakMap,p=new WeakSet,tt=function(i,u=null,f){const T=f[0];let A;if(typeof T=="object"&&T!==null){if(A=this._cachedPageNumber(T),!A){this.pdfDocument.getPageIndex(T).then(S=>{this.cachePageRef(S+1,T),U(this,p,tt).call(this,i,u,f)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid page reference, for dest="${i}".`)});return}}else if(Number.isInteger(T))A=T+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid destination reference, for dest="${i}".`);return}if(!A||A<1||A>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${A}" is not a valid page number, for dest="${i}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:u,explicitDest:f,pageNumber:A})),this.pdfViewer.scrollPageIntoView({pageNumber:A,destArray:f,ignoreDestinationZoom:this._ignoreDestinationZoom})},m=new WeakSet,pt=function(i){if(!Array.isArray(i))return!1;const u=i.length;if(u<2)return!1;const f=i[0];if(!(typeof f=="object"&&Number.isInteger(f.num)&&Number.isInteger(f.gen))&&!(Number.isInteger(f)&&f>=0))return!1;const T=i[1];if(!(typeof T=="object"&&typeof T.name=="string"))return!1;let A=!0;switch(T.name){case"XYZ":if(u!==5)return!1;break;case"Fit":case"FitB":return u===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(u!==3)return!1;break;case"FitR":if(u!==6)return!1;A=!1;break;default:return!1}for(let S=2;S<u;S++){const k=i[S];if(!(typeof k=="number"||A&&k===null))return!1}return!0},H(h,m),s.PDFLinkService=h;class n{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(i){}get rotation(){return 0}set rotation(i){}get isInPresentationMode(){return!1}async goToDestination(i){}goToPage(i){}addLinkAttributes(i,u,f=!1){y(i,{url:u,enabled:this.externalLinkEnabled})}getDestinationHash(i){return"#"}getAnchorUrl(i){return"#"}setHash(i){}executeNamedAction(i){}executeSetOCGState(i){}cachePageRef(i,u){}isPageVisible(i){return!0}isPageCached(i){return!0}}s.SimpleLinkService=n},(W,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;const E={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;class l{constructor({pdfPage:y}){this.pdfPage=y}render(y){return this._walk(y)}_setAttributes(y,h){y.alt!==void 0&&h.setAttribute("aria-label",y.alt),y.id!==void 0&&h.setAttribute("aria-owns",y.id),y.lang!==void 0&&h.setAttribute("lang",y.lang)}_walk(y){if(!y)return null;const h=document.createElement("span");if("role"in y){const{role:n}=y,d=n.match(r);d?(h.setAttribute("role","heading"),h.setAttribute("aria-level",d[1])):E[n]&&h.setAttribute("role",E[n])}if(this._setAttributes(y,h),y.children)if(y.children.length===1&&"id"in y.children[0])this._setAttributes(y.children[0],h);else for(const n of y.children)h.append(this._walk(n));return h}}s.StructTreeLayerBuilder=l},(W,s,E)=>{var I,_t,h,mt;Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var r=E(3);class l{constructor({textLayerDiv:p,eventBus:b,pageIndex:m,viewport:t,highlighter:a=null,accessibilityManager:c=null}){H(this,I);H(this,h);this.textLayerDiv=p,this.eventBus=b,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=m+1,this.viewport=t,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=a,this.accessibilityManager=c,U(this,h,mt).call(this)}render(p=0){var m,t;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(m=this.highlighter)==null||m.setTextMapping(this.textDivs,this.textContentItemsStr),(t=this.accessibilityManager)==null||t.setTextMapping(this.textDivs);const b=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:b,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:p}),this.textLayerRenderTask.promise.then(()=>{var a,c;this.textLayerDiv.append(b),U(this,I,_t).call(this),(a=this.highlighter)==null||a.enable(),(c=this.accessibilityManager)==null||c.enable()},function(a){})}cancel(){var p,b;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(p=this.highlighter)==null||p.disable(),(b=this.accessibilityManager)==null||b.disable()}setTextContentStream(p){this.cancel(),this.textContentStream=p}setTextContent(p){this.cancel(),this.textContent=p}}I=new WeakSet,_t=function(){this.renderingDone=!0;const p=document.createElement("div");p.className="endOfContent",this.textLayerDiv.append(p),this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},h=new WeakSet,mt=function(){const p=this.textLayerDiv;p.addEventListener("mousedown",b=>{const m=p.querySelector(".endOfContent");if(!m)return;let t=b.target!==p;if(t&&(t=getComputedStyle(m).getPropertyValue("-moz-user-select")!=="none"),t){const a=p.getBoundingClientRect(),c=Math.max(0,(b.pageY-a.top)/a.height);m.style.top=(c*100).toFixed(2)+"%"}m.classList.add("active")}),p.addEventListener("mouseup",()=>{const b=p.querySelector(".endOfContent");b&&(b.style.top="",b.classList.remove("active"))})},s.TextLayerBuilder=l},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var r=E(3);class l{constructor({pageDiv:y,pdfPage:h,annotationStorage:n=null,linkService:d,xfaHtml:p=null}){this.pageDiv=y,this.pdfPage=h,this.annotationStorage=n,this.linkService=d,this.xfaHtml=p,this.div=null,this._cancelled=!1}render(y,h="display"){if(h==="print"){const n={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:h},d=document.createElement("div");this.pageDiv.append(d),n.div=d;const p=r.XfaLayer.render(n);return Promise.resolve(p)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const d={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:h};return this.div?r.XfaLayer.update(d):(this.div=document.createElement("div"),this.pageDiv.append(this.div),d.div=this.div,r.XfaLayer.render(d))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=l},(W,s,E)=>{var y;Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var r=E(3);function l(h,n){const d=document.createElement("a");if(!d.click)throw new Error('DownloadManager: "a.click()" is not supported.');d.href=h,d.target="_parent","download"in d&&(d.download=n),(document.body||document.documentElement).append(d),d.click(),d.remove()}class I{constructor(){H(this,y,new WeakMap)}downloadUrl(n,d){if(!(0,r.createValidAbsoluteUrl)(n,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${n}`);return}l(n+"#pdfjs.action=download",d)}downloadData(n,d,p){const b=URL.createObjectURL(new Blob([n],{type:p}));l(b,d)}openOrDownloadData(n,d,p){const b=(0,r.isPdfFile)(p),m=b?"application/pdf":"";if(b){let t=x(this,y).get(n);t||(t=URL.createObjectURL(new Blob([d],{type:m})),x(this,y).set(n,t));let a;a="?file="+encodeURIComponent(t+"#"+p);try{return window.open(a),!0}catch(c){console.error(`openOrDownloadData: ${c}`),URL.revokeObjectURL(t),x(this,y).delete(n)}}return this.downloadData(d,p,m),!1}download(n,d,p){const b=URL.createObjectURL(n);l(b,p)}}y=new WeakMap,s.DownloadManager=I},(W,s)=>{var y;Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=r;const E={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=E;function r({target:h,name:n,delay:d=0}){return new Promise(function(p,b){if(typeof h!="object"||!(n&&typeof n=="string")||!(Number.isInteger(d)&&d>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function m(i){h instanceof l?h._off(n,t):h.removeEventListener(n,t),c&&clearTimeout(c),p(i)}const t=m.bind(null,E.EVENT);h instanceof l?h._on(n,t):h.addEventListener(n,t);const a=m.bind(null,E.TIMEOUT),c=setTimeout(a,d)})}class l{constructor(){H(this,y,Object.create(null))}on(n,d,p=null){this._on(n,d,{external:!0,once:p==null?void 0:p.once})}off(n,d,p=null){this._off(n,d,{external:!0,once:p==null?void 0:p.once})}dispatch(n,d){const p=x(this,y)[n];if(!p||p.length===0)return;let b;for(const{listener:m,external:t,once:a}of p.slice(0)){if(a&&this._off(n,m),t){(b||(b=[])).push(m);continue}m(d)}if(b){for(const m of b)m(d);b=null}}_on(n,d,p=null){var m;((m=x(this,y))[n]||(m[n]=[])).push({listener:d,external:(p==null?void 0:p.external)===!0,once:(p==null?void 0:p.once)===!0})}_off(n,d,p=null){const b=x(this,y)[n];if(b){for(let m=0,t=b.length;m<t;m++)if(b[m].listener===d){b.splice(m,1);return}}}}y=new WeakMap,s.EventBus=l;class I extends l{dispatch(n,d){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=I},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,E(14);var r=E(4);const l=document.webL10n;class I{constructor(h){this._lang=h,this._ready=new Promise((n,d)=>{l.setLanguage((0,r.fixupLangCode)(h),()=>{n(l)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(h,n=null,d=(0,r.getL10nFallback)(h,n)){return(await this._ready).get(h,n,d)}async translate(h){return(await this._ready).translate(h)}}s.GenericL10n=I},()=>{document.webL10n=function(W,s,E){var r={},l="",I="textContent",y="",h={},n="loading",d=!0;function p(){return s.querySelectorAll('link[type="application/l10n"]')}function b(){var _=s.querySelector('script[type="application/l10n"]');return _?JSON.parse(_.innerHTML):null}function m(_){return _?_.querySelectorAll("*[data-l10n-id]"):[]}function t(_){if(!_)return{};var N=_.getAttribute("data-l10n-id"),M=_.getAttribute("data-l10n-args"),P={};if(M)try{P=JSON.parse(M)}catch{console.warn("could not parse arguments for #"+N)}return{id:N,args:P}}function a(_,N,M){N=N||function(j){},M=M||function(){};var P=new XMLHttpRequest;P.open("GET",_,d),P.overrideMimeType&&P.overrideMimeType("text/plain; charset=utf-8"),P.onreadystatechange=function(){P.readyState==4&&(P.status==200||P.status===0?N(P.responseText):M())},P.onerror=M,P.ontimeout=M;try{P.send(null)}catch{M()}}function c(_,N,M,P){var X=_.replace(/[^\/]*$/,"")||"./";function j(Y){return Y.lastIndexOf("\\")<0?Y:Y.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function g(Y,ae){var de={},_e=/^\s*|\s*$/,be=/^\s*#|^\s*$/,me=/^\s*\[(.*)\]\s*$/,Ce=/^\s*@import\s+url\((.*)\)\s*$/i,we=/^([^=\s]*)\s*=\s*(.+)$/;function Ee(De,Ie,xe){var ke=De.replace(_e,"").split(/[\r\n]+/),he="*",Ae=N.split("-",1)[0],fe=!1,L="";function O(){for(;;){if(!ke.length){xe();return}var K=ke.shift();if(!be.test(K)){if(Ie){if(L=me.exec(K),L){he=L[1].toLowerCase(),fe=he!=="*"&&he!==N&&he!==Ae;continue}else if(fe)continue;if(L=Ce.exec(K),L){Ue(X+L[1],O);return}}var e=K.match(we);e&&e.length==3&&(de[e[1]]=j(e[2]))}}}O()}function Ue(De,Ie){a(De,function(xe){Ee(xe,!1,Ie)},function(){console.warn(De+" not found."),Ie()})}Ee(Y,!0,function(){ae(de)})}a(_,function(Y){l+=Y,g(Y,function(ae){for(var de in ae){var _e,be,me=de.lastIndexOf(".");me>0?(_e=de.substring(0,me),be=de.substring(me+1)):(_e=de,be=I),r[_e]||(r[_e]={}),r[_e][be]=ae[de]}M&&M()})},P)}function i(_,N){_&&(_=_.toLowerCase()),N=N||function(){},u(),y=_;var M=p(),P=M.length;if(P===0){var X=b();if(X&&X.locales&&X.default_locale){if(console.log("using the embedded JSON directory, early way out"),r=X.locales[_],!r){var j=X.default_locale.toLowerCase();for(var g in X.locales)if(g=g.toLowerCase(),g===_){r=X.locales[_];break}else g===j&&(r=X.locales[j])}N()}else console.log("no resource to load, early way out");n="complete";return}var Y=null,ae=0;Y=function(){ae++,ae>=P&&(N(),n="complete")};function de(me){var Ce=me.href;this.load=function(we,Ee){c(Ce,we,Ee,function(){console.warn(Ce+" not found."),console.warn('"'+we+'" resource not found'),y="",Ee()})}}for(var _e=0;_e<P;_e++){var be=new de(M[_e]);be.load(_,Y)}}function u(){r={},l="",y=""}function f(_){var N={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function M(g,Y){return Y.indexOf(g)!==-1}function P(g,Y,ae){return Y<=g&&g<=ae}var X={0:function(g){return"other"},1:function(g){return P(g%100,3,10)?"few":g===0?"zero":P(g%100,11,99)?"many":g==2?"two":g==1?"one":"other"},2:function(g){return g!==0&&g%10===0?"many":g==2?"two":g==1?"one":"other"},3:function(g){return g==1?"one":"other"},4:function(g){return P(g,0,1)?"one":"other"},5:function(g){return P(g,0,2)&&g!=2?"one":"other"},6:function(g){return g===0?"zero":g%10==1&&g%100!=11?"one":"other"},7:function(g){return g==2?"two":g==1?"one":"other"},8:function(g){return P(g,3,6)?"few":P(g,7,10)?"many":g==2?"two":g==1?"one":"other"},9:function(g){return g===0||g!=1&&P(g%100,1,19)?"few":g==1?"one":"other"},10:function(g){return P(g%10,2,9)&&!P(g%100,11,19)?"few":g%10==1&&!P(g%100,11,19)?"one":"other"},11:function(g){return P(g%10,2,4)&&!P(g%100,12,14)?"few":g%10===0||P(g%10,5,9)||P(g%100,11,14)?"many":g%10==1&&g%100!=11?"one":"other"},12:function(g){return P(g,2,4)?"few":g==1?"one":"other"},13:function(g){return P(g%10,2,4)&&!P(g%100,12,14)?"few":g!=1&&P(g%10,0,1)||P(g%10,5,9)||P(g%100,12,14)?"many":g==1?"one":"other"},14:function(g){return P(g%100,3,4)?"few":g%100==2?"two":g%100==1?"one":"other"},15:function(g){return g===0||P(g%100,2,10)?"few":P(g%100,11,19)?"many":g==1?"one":"other"},16:function(g){return g%10==1&&g!=11?"one":"other"},17:function(g){return g==3?"few":g===0?"zero":g==6?"many":g==2?"two":g==1?"one":"other"},18:function(g){return g===0?"zero":P(g,0,2)&&g!==0&&g!=2?"one":"other"},19:function(g){return P(g,2,10)?"few":P(g,0,1)?"one":"other"},20:function(g){return(P(g%10,3,4)||g%10==9)&&!(P(g%100,10,19)||P(g%100,70,79)||P(g%100,90,99))?"few":g%1e6===0&&g!==0?"many":g%10==2&&!M(g%100,[12,72,92])?"two":g%10==1&&!M(g%100,[11,71,91])?"one":"other"},21:function(g){return g===0?"zero":g==1?"one":"other"},22:function(g){return P(g,0,1)||P(g,11,99)?"one":"other"},23:function(g){return P(g%10,1,2)||g%20===0?"one":"other"},24:function(g){return P(g,3,10)||P(g,13,19)?"few":M(g,[2,12])?"two":M(g,[1,11])?"one":"other"}},j=N[_.replace(/-.*$/,"")];return j in X?X[j]:(console.warn("plural form unknown for ["+_+"]"),function(){return"other"})}h.plural=function(_,N,M,P){var X=parseFloat(N);if(isNaN(X)||P!=I)return _;h._pluralRules||(h._pluralRules=f(y));var j="["+h._pluralRules(X)+"]";return X===0&&M+"[zero]"in r?_=r[M+"[zero]"][P]:X==1&&M+"[one]"in r?_=r[M+"[one]"][P]:X==2&&M+"[two]"in r?_=r[M+"[two]"][P]:M+j in r?_=r[M+j][P]:M+"[other]"in r&&(_=r[M+"[other]"][P]),_};function T(_,N,M){var P=r[_];if(!P){if(console.warn("#"+_+" is undefined."),!M)return null;P=M}var X={};for(var j in P){var g=P[j];g=A(g,N,_,j),g=S(g,N,_),X[j]=g}return X}function A(_,N,M,P){var X=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,j=X.exec(_);if(!j||!j.length)return _;var g=j[1],Y=j[2],ae;if(N&&Y in N?ae=N[Y]:Y in r&&(ae=r[Y]),g in h){var de=h[g];_=de(_,ae,M,P)}return _}function S(_,N,M){var P=/\{\{\s*(.+?)\s*\}\}/g;return _.replace(P,function(X,j){return N&&j in N?N[j]:j in r?r[j]:(console.log("argument {{"+j+"}} for #"+M+" is undefined."),X)})}function k(_){var N=t(_);if(N.id){var M=T(N.id,N.args);if(!M){console.warn("#"+N.id+" is undefined.");return}if(M[I]){if(Q(_)===0)_[I]=M[I];else{for(var P=_.childNodes,X=!1,j=0,g=P.length;j<g;j++)P[j].nodeType===3&&/\S/.test(P[j].nodeValue)&&(X?P[j].nodeValue="":(P[j].nodeValue=M[I],X=!0));if(!X){var Y=s.createTextNode(M[I]);_.prepend(Y)}}delete M[I]}for(var ae in M)_[ae]=M[ae]}}function Q(_){if(_.children)return _.children.length;if(typeof _.childElementCount<"u")return _.childElementCount;for(var N=0,M=0;M<_.childNodes.length;M++)N+=_.nodeType===1?1:0;return N}function te(_){_=_||s.documentElement;for(var N=m(_),M=N.length,P=0;P<M;P++)k(N[P]);k(_)}return{get:function(_,N,M){var P=_.lastIndexOf("."),X=I;P>0&&(X=_.substring(P+1),_=_.substring(0,P));var j;M&&(j={},j[X]=M);var g=T(_,N,j);return g&&X in g?g[X]:"{{"+_+"}}"},getData:function(){return r},getText:function(){return l},getLanguage:function(){return y},setLanguage:function(_,N){i(_,function(){N&&N()})},getDirection:function(){var _=["ar","he","fa","ps","ur"],N=y.split("-",1)[0];return _.indexOf(N)>=0?"rtl":"ltr"},translate:te,getReadyState:function(){return n},ready:function(_){if(_)n=="complete"||n=="interactive"?W.setTimeout(function(){_()}):s.addEventListener&&s.addEventListener("localized",function N(){s.removeEventListener("localized",N),_()});else return}}}(window,document)},(W,s,E)=>{var N,vt,P,it,j,nt,Y,yt,de,Pt,be,bt,Ce,rt,Ee,Et,De,St,xe,Ze,he,je,fe,We,O,Lt,e,st,v,at,R,Ke,B,wt,Z,ot,oe,At,ve,$e;Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var r=E(6),l=E(3),I=E(16);const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=y;const h=250,n=-50,d=-400,p={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},b=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let m;const t=/\p{M}+/gu,a=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,c=/([^\p{M}])\p{M}*$/u,i=/^\p{M}*([^\p{M}])/u,u=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,f=new Map,T="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",A=new Map;let S=null,k=null;function Q(ie){const C=[];let w;for(;(w=u.exec(ie))!==null;){let{index:Fe}=w;for(const Ve of w[0]){let Re=f.get(Ve);Re||(Re=Ve.normalize("NFD").length,f.set(Ve,Re)),C.push([Re,Fe++])}}let F;if(C.length===0&&S)F=S;else if(C.length>0&&k)F=k;else{const Re=`([${Object.keys(p).join("")}])|([①-⑳Ⓐ-⓿㉄-㊿㋐-㋾＀-￯])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\p{Ideographic}\\n)|(\\n)`;C.length===0?F=S=new RegExp(Re+"|(\\u0000)","gum"):F=k=new RegExp(Re+`|(${T})`,"gum")}const z=[];for(;(w=t.exec(ie))!==null;)z.push([w[0].length,w.index]);let G=ie.normalize("NFD");const J=[[0,0]];let q=0,le=0,ee=0,re=0,ye=0,Oe=!1;return G=G.replace(F,(Fe,Ve,Re,ze,ct,dt,Nt,Dt,Ne)=>{var ft,gt;if(Ne-=re,Ve){const Pe=p[Ve],Se=Pe.length;for(let Le=1;Le<Se;Le++)J.push([Ne-ee+Le,ee-Le]);return ee-=Se-1,Pe}if(Re){let Pe=A.get(Re);Pe||(Pe=Re.normalize("NFKC"),A.set(Re,Pe));const Se=Pe.length;for(let Le=1;Le<Se;Le++)J.push([Ne-ee+Le,ee-Le]);return ee-=Se-1,Pe}if(ze){const Pe=ze.endsWith(`
`),Se=Pe?ze.length-2:ze.length;Oe=!0;let Le=Se;Ne+ye===((ft=z[q])==null?void 0:ft[1])&&(Le-=z[q][0],++q);for(let Xe=1;Xe<=Le;Xe++)J.push([Ne-1-ee+Xe,ee-Xe]);return ee-=Le,re+=Le,Pe?(Ne+=Se-1,J.push([Ne-ee+1,1+ee]),ee+=1,re+=1,ye+=1,ze.slice(0,Se)):ze}if(ct)return J.push([Ne-ee+1,1+ee]),ee+=1,re+=1,ye+=1,ct.charAt(0);if(dt)return J.push([Ne-ee+1,ee]),re+=1,ye+=1,dt.charAt(0);if(Nt)return J.push([Ne-ee+1,ee-1]),ee-=1,re+=1,ye+=1," ";if(Ne+ye===((gt=C[le])==null?void 0:gt[1])){const Pe=C[le][0]-1;++le;for(let Se=1;Se<=Pe;Se++)J.push([Ne-(ee-Se),ee-Se]);ee-=Pe,re+=Pe}return Dt}),J.push([G.length,ee]),[G,J,Oe]}function te(ie,C,w){if(!ie)return[C,w];const F=C,z=C+w;let G=(0,r.binarySearchFirstItem)(ie,q=>q[0]>=F);ie[G][0]>F&&--G;let J=(0,r.binarySearchFirstItem)(ie,q=>q[0]>=z,G);return ie[J][0]>z&&--J,[F+ie[G][1],w+ie[J][1]-ie[G][1]]}class _{constructor({linkService:C,eventBus:w}){H(this,N);H(this,P);H(this,j);H(this,Y);H(this,de);H(this,be);H(this,Ce);H(this,Ee);H(this,De);H(this,xe);H(this,he);H(this,fe);H(this,O);H(this,e);H(this,v);H(this,R);H(this,B);H(this,Z);H(this,oe);H(this,ve);this._linkService=C,this._eventBus=w,U(this,P,it).call(this),w._on("find",U(this,N,vt).bind(this)),w._on("findbarclose",U(this,B,wt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(C){this._pdfDocument&&U(this,P,it).call(this),C&&(this._pdfDocument=C,this._firstPageCapability.resolve())}scrollMatchIntoView({element:C=null,selectedLeft:w=0,pageIndex:F=-1,matchIndex:z=-1}){if(!this._scrollMatches||!C)return;if(z===-1||z!==this._selected.matchIdx)return;if(F===-1||F!==this._selected.pageIdx)return;this._scrollMatches=!1;const G={top:n,left:w+d};(0,r.scrollIntoView)(C,G,!0)}}N=new WeakSet,vt=function(C){if(!C)return;const w=this._pdfDocument,{type:F}=C;(this._state===null||U(this,Y,yt).call(this,C))&&(this._dirtyMatch=!0),this._state=C,F!=="highlightallchange"&&U(this,ve,$e).call(this,y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||w&&this._pdfDocument!==w)return;U(this,De,St).call(this);const z=!this._highlightMatches,G=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),F?this._dirtyMatch?U(this,fe,We).call(this):F==="again"?(U(this,fe,We).call(this),z&&this._state.highlightAll&&U(this,he,je).call(this)):F==="highlightallchange"?(G?U(this,fe,We).call(this):this._highlightMatches=!0,U(this,he,je).call(this)):U(this,fe,We).call(this):this._findTimeout=setTimeout(()=>{U(this,fe,We).call(this),this._findTimeout=null},h)})},P=new WeakSet,it=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()},j=new WeakSet,nt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Q(this._state.query)),this._normalizedQuery},Y=new WeakSet,yt=function(C){if(C.query!==this._state.query)return!0;switch(C.type){case"again":const w=this._selected.pageIdx+1,F=this._linkService;return w>=1&&w<=F.pagesCount&&w!==F.page&&!F.isPageVisible(w);case"highlightallchange":return!1}return!0},de=new WeakSet,Pt=function(C,w,F){let z=C.slice(0,w).match(c);if(z){const G=C.charCodeAt(w),J=z[1].charCodeAt(0);if((0,I.getCharacterType)(G)===(0,I.getCharacterType)(J))return!1}if(z=C.slice(w+F).match(i),z){const G=C.charCodeAt(w+F-1),J=z[1].charCodeAt(0);if((0,I.getCharacterType)(G)===(0,I.getCharacterType)(J))return!1}return!0},be=new WeakSet,bt=function(C,w,F,z){const G=[],J=[],q=this._pageDiffs[F];let le;for(;(le=C.exec(z))!==null;){if(w&&!U(this,de,Pt).call(this,z,le.index,le[0].length))continue;const[ee,re]=te(q,le.index,le[0].length);re&&(G.push(ee),J.push(re))}this._pageMatches[F]=G,this._pageMatchesLength[F]=J},Ce=new WeakSet,rt=function(C,w){const{matchDiacritics:F}=this._state;let z=!1;C=C.replace(a,(J,q,le,ee,re,ye)=>q?`[ ]*\\${q}[ ]*`:le?`[ ]*${le}[ ]*`:ee?"[ ]+":F?re||ye:re?b.has(re.charCodeAt(0))?re:"":w?(z=!0,`${ye}\\p{M}*`):ye);const G="[ ]*";return C.endsWith(G)&&(C=C.slice(0,C.length-G.length)),F&&w&&(m||(m=String.fromCharCode(...b)),z=!0,C=`${C}(?=[${m}]|[^\\p{M}]|$)`),[z,C]},Ee=new WeakSet,Et=function(C){let w=x(this,j,nt);if(w.length===0)return;const{caseSensitive:F,entireWord:z,phraseSearch:G}=this._state,J=this._pageContents[C],q=this._hasDiacritics[C];let le=!1;if(G)[le,w]=U(this,Ce,rt).call(this,w,q);else{const ye=w.match(/\S+/g);ye&&(w=ye.sort().reverse().map(Oe=>{const[Fe,Ve]=U(this,Ce,rt).call(this,Oe,q);return le||(le=Fe),`(${Ve})`}).join("|"))}const ee=`g${le?"u":""}${F?"":"i"}`;w=new RegExp(w,ee),U(this,be,bt).call(this,w,z,C,J),this._state.highlightAll&&U(this,xe,Ze).call(this,C),this._resumePageIdx===C&&(this._resumePageIdx=null,U(this,e,st).call(this));const re=this._pageMatches[C].length;re>0&&(this._matchesCountTotal+=re,U(this,oe,At).call(this))},De=new WeakSet,St=function(){if(this._extractTextPromises.length>0)return;let C=Promise.resolve();for(let w=0,F=this._linkService.pagesCount;w<F;w++){const z=(0,l.createPromiseCapability)();this._extractTextPromises[w]=z.promise,C=C.then(()=>this._pdfDocument.getPage(w+1).then(G=>G.getTextContent()).then(G=>{const J=[];for(const q of G.items)J.push(q.str),q.hasEOL&&J.push(`
`);[this._pageContents[w],this._pageDiffs[w],this._hasDiacritics[w]]=Q(J.join("")),z.resolve()},G=>{console.error(`Unable to get text content for page ${w+1}`,G),this._pageContents[w]="",this._pageDiffs[w]=null,this._hasDiacritics[w]=!1,z.resolve()}))}},xe=new WeakSet,Ze=function(C){this._scrollMatches&&this._selected.pageIdx===C&&(this._linkService.page=C+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:C})},he=new WeakSet,je=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},fe=new WeakSet,We=function(){const C=this._state.findPrevious,w=this._linkService.page-1,F=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=w,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,U(this,he,je).call(this);for(let G=0;G<F;G++)this._pendingFindMatches.has(G)||(this._pendingFindMatches.add(G),this._extractTextPromises[G].then(()=>{this._pendingFindMatches.delete(G),U(this,Ee,Et).call(this,G)}))}if(x(this,j,nt)===""){U(this,ve,$e).call(this,y.FOUND);return}if(this._resumePageIdx)return;const z=this._offset;if(this._pagesToSearch=F,z.matchIdx!==null){const G=this._pageMatches[z.pageIdx].length;if(!C&&z.matchIdx+1<G||C&&z.matchIdx>0){z.matchIdx=C?z.matchIdx-1:z.matchIdx+1,U(this,R,Ke).call(this,!0);return}U(this,v,at).call(this,C)}U(this,e,st).call(this)},O=new WeakSet,Lt=function(C){const w=this._offset,F=C.length,z=this._state.findPrevious;return F?(w.matchIdx=z?F-1:0,U(this,R,Ke).call(this,!0),!0):(U(this,v,at).call(this,z),w.wrapped&&(w.matchIdx=null,this._pagesToSearch<0)?(U(this,R,Ke).call(this,!1),!0):!1)},e=new WeakSet,st=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let C=null;do{const w=this._offset.pageIdx;if(C=this._pageMatches[w],!C){this._resumePageIdx=w;break}}while(!U(this,O,Lt).call(this,C))},v=new WeakSet,at=function(C){const w=this._offset,F=this._linkService.pagesCount;w.pageIdx=C?w.pageIdx-1:w.pageIdx+1,w.matchIdx=null,this._pagesToSearch--,(w.pageIdx>=F||w.pageIdx<0)&&(w.pageIdx=C?F-1:0,w.wrapped=!0)},R=new WeakSet,Ke=function(C=!1){let w=y.NOT_FOUND;const F=this._offset.wrapped;if(this._offset.wrapped=!1,C){const z=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,w=F?y.WRAPPED:y.FOUND,z!==-1&&z!==this._selected.pageIdx&&U(this,xe,Ze).call(this,z)}U(this,ve,$e).call(this,w,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,U(this,xe,Ze).call(this,this._selected.pageIdx))},B=new WeakSet,wt=function(C){const w=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||w&&this._pdfDocument!==w||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),U(this,ve,$e).call(this,y.FOUND),this._highlightMatches=!1,U(this,he,je).call(this))})},Z=new WeakSet,ot=function(){var G;const{pageIdx:C,matchIdx:w}=this._selected;let F=0,z=this._matchesCountTotal;if(w!==-1){for(let J=0;J<C;J++)F+=((G=this._pageMatches[J])==null?void 0:G.length)||0;F+=w+1}return(F<1||F>z)&&(F=z=0),{current:F,total:z}},oe=new WeakSet,At=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:U(this,Z,ot).call(this)})},ve=new WeakSet,$e=function(C,w=!1){var F;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:C,previous:w,matchesCount:U(this,Z,ot).call(this),rawQuery:((F=this._state)==null?void 0:F.query)??null})},s.PDFFindController=_},(W,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=t;const E={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=E;function r(a){return a<11904}function l(a){return(a&65408)===0}function I(a){return a>=97&&a<=122||a>=65&&a<=90}function y(a){return a>=48&&a<=57}function h(a){return a===32||a===9||a===13||a===10}function n(a){return a>=13312&&a<=40959||a>=63744&&a<=64255}function d(a){return a>=12448&&a<=12543}function p(a){return a>=12352&&a<=12447}function b(a){return a>=65376&&a<=65439}function m(a){return(a&65408)===3584}function t(a){return r(a)?l(a)?h(a)?E.SPACE:I(a)||y(a)||a===95?E.ALPHA_LETTER:E.PUNCT:m(a)?E.THAI_LETTER:a===160?E.SPACE:E.ALPHA_LETTER:n(a)?E.HAN_LETTER:d(a)?E.KATAKANA_LETTER:p(a)?E.HIRAGANA_LETTER:b(a)?E.HALFWIDTH_KATAKANA_LETTER:E.ALPHA_LETTER}},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=b,s.isDestHashesEqual=p;var r=E(6),l=E(12);const I=1e3,y=50,h=1e3;function n(){return document.location.hash}class d{constructor({linkService:t,eventBus:a}){this.linkService=t,this.eventBus=a,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",c=>{this._isPagesLoaded=!!c.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:a=!1,updateUrl:c=!1}){if(!t||typeof t!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const i=this._fingerprint!==""&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=c===!0,this._initialized=!0,this._bindEvents();const u=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(u,!0)||a){const{hash:T,page:A,rotation:S}=this._parseCurrentHash(!0);if(!T||i||a){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:T,page:A,rotation:S},!0);return}const f=u.destination;this._updateInternalState(f,u.uid,!0),f.rotation!==void 0&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark=`page=${f.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:a,pageNumber:c}){if(!this._initialized)return;if(t&&typeof t!="string"){console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);return}else if(Array.isArray(a)){if(!this._isValidPage(c)&&(c!==null||this._destination)){console.error(`PDFHistory.push: "${c}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${a}" is not a valid explicitDest parameter.`);return}const i=t||JSON.stringify(a);if(!i)return;let u=!1;if(this._destination&&(p(this._destination.hash,i)||b(this._destination.dest,a))){if(this._destination.page)return;u=!0}this._popStateInProgress&&!u||(this._pushOrReplaceState({dest:a,hash:i,page:c,rotation:this.linkService.rotation},u),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){var a;if(this._initialized){if(!this._isValidPage(t)){console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);return}((a=this._destination)==null?void 0:a.page)!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,a=!1){const c=a||!this._destination,i={fingerprint:this._fingerprint,uid:c?this._uid:this._uid+1,destination:t};this._updateInternalState(t,i.uid);let u;if(this._updateUrl&&(t!=null&&t.hash)){const f=document.location.href.split("#")[0];f.startsWith("file://")||(u=`${f}#${t.hash}`)}c?window.history.replaceState(i,"",u):window.history.pushState(i,"",u)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let a=this._position;if(t&&(a=Object.assign(Object.create(null),this._position),a.temporary=!0),!this._destination){this._pushOrReplaceState(a);return}if(this._destination.temporary){this._pushOrReplaceState(a,!0);return}if(this._destination.hash===a.hash||!this._destination.page&&this._numPositionUpdates<=y)return;let c=!1;if(this._destination.page>=a.first&&this._destination.page<=a.page){if(this._destination.dest!==void 0||!this._destination.first)return;c=!0}this._pushOrReplaceState(a,c)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,a=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint)if(a){if(typeof t.fingerprint!="string"||t.fingerprint.length!==this._fingerprint.length)return!1;const[c]=performance.getEntriesByType("navigation");if((c==null?void 0:c.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(t.uid)||t.uid<0||t.destination===null||typeof t.destination!="object")}_updateInternalState(t,a,c=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),c&&(t!=null&&t.temporary)&&delete t.temporary,this._destination=t,this._uid=a,this._maxUid=Math.max(this._maxUid,a),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const a=unescape(n()).substring(1),c=(0,r.parseQueryString)(a),i=c.get("nameddest")||"";let u=c.get("page")|0;return(!this._isValidPage(u)||t&&i.length>0)&&(u=null),{hash:a,page:u,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},h))}_popState({state:t}){const a=n(),c=this._currentHash!==a;if(this._currentHash=a,!t){this._uid++;const{hash:u,page:f,rotation:T}=this._parseCurrentHash();this._pushOrReplaceState({hash:u,page:f,rotation:T},!0);return}if(!this._isValidState(t))return;this._popStateInProgress=!0,c&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:I}).then(()=>{this._blockHashChange--}));const i=t.destination;this._updateInternalState(i,t.uid,!0),(0,r.isValidRotation)(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=d;function p(m,t){return typeof m!="string"||typeof t!="string"?!1:m===t||(0,r.parseQueryString)(m).get("nameddest")===t}function b(m,t){function a(c,i){if(typeof c!=typeof i||Array.isArray(c)||Array.isArray(i))return!1;if(c!==null&&typeof c=="object"&&i!==null){if(Object.keys(c).length!==Object.keys(i).length)return!1;for(const u in c)if(!a(c[u],i[u]))return!1;return!0}return c===i||Number.isNaN(c)&&Number.isNaN(i)}if(!(Array.isArray(m)&&Array.isArray(t))||m.length!==t.length)return!1;for(let c=0,i=m.length;c<i;c++)if(!a(m[c],t[c]))return!1;return!0}},(W,s,E)=>{var p,b;Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var r=E(3),l=E(6),I=E(19),y=E(4),h=E(20);const n=I.compatibilityParams.maxCanvasPixels||16777216;class d{constructor(t){H(this,p,r.AnnotationMode.ENABLE_FORMS);H(this,b,{initialOptionalContent:!0,regularAnnotations:!0});var u,f;const a=t.container,c=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||l.DEFAULT_SCALE,this.viewport=c,this.pdfPageRotate=c.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=t.textLayerMode??l.TextLayerMode.ENABLE,ne(this,p,t.annotationMode??r.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||n,this.pageColors=t.pageColors||null,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.annotationEditorLayerFactory=t.annotationEditorLayerFactory,this.xfaLayerFactory=t.xfaLayerFactory,this.textHighlighter=(u=t.textHighlighterFactory)==null?void 0:u.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=t.structTreeLayerFactory,this.renderer=t.renderer||l.RendererType.CANVAS,this.l10n=t.l10n||y.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((f=this.renderingQueue)!=null&&f.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");if(i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(T=>{i.setAttribute("aria-label",T)}),this.div=i,a==null||a.append(i),this._isStandalone){const{optionalContentConfigPromise:T}=t;T&&T.then(A=>{T===this._optionalContentConfigPromise&&(x(this,b).initialOptionalContent=A.hasInitialVisibility)})}}setPdfPage(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;const a=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:a}),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}async _renderAnnotationLayer(){let t=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(a){console.error(`_renderAnnotationLayer: "${a}".`),t=a}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t})}}async _renderAnnotationEditorLayer(){let t=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(a){console.error(`_renderAnnotationEditorLayer: "${a}".`),t=a}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:t})}}async _renderXfaLayer(){let t=null;try{const a=await this.xfaLayer.render(this.viewport,"display");a!=null&&a.textDivs&&this.textHighlighter&&this._buildXfaTextContentItems(a.textDivs)}catch(a){console.error(`_renderXfaLayer: "${a}".`),t=a}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:t})}}async _buildXfaTextContentItems(t){const a=await this.pdfPage.getTextContent(),c=[];for(const i of a.items)c.push(i.str);this.textHighlighter.setTextMapping(t,c),this.textHighlighter.enable()}_resetZoomLayer(t=!1){if(!this.zoomLayer)return;const a=this.zoomLayer.firstChild;this.paintedViewportMap.delete(a),a.width=0,a.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:t=!1,keepAnnotationLayer:a=!1,keepAnnotationEditorLayer:c=!1,keepXfaLayer:i=!1}={}){var Q,te,_,N;this.cancelRendering({keepAnnotationLayer:a,keepAnnotationEditorLayer:c,keepXfaLayer:i}),this.renderingState=l.RenderingStates.INITIAL;const u=this.div;u.style.width=Math.floor(this.viewport.width)+"px",u.style.height=Math.floor(this.viewport.height)+"px";const f=u.childNodes,T=t&&this.zoomLayer||null,A=a&&((Q=this.annotationLayer)==null?void 0:Q.div)||null,S=c&&((te=this.annotationEditorLayer)==null?void 0:te.div)||null,k=i&&((_=this.xfaLayer)==null?void 0:_.div)||null;for(let M=f.length-1;M>=0;M--){const P=f[M];switch(P){case T:case A:case S:case k:continue}P.remove()}u.removeAttribute("data-loaded"),A&&this.annotationLayer.hide(),S?this.annotationEditorLayer.hide():(N=this.annotationEditorLayer)==null||N.destroy(),k&&this.xfaLayer.hide(),T||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(M=>{var P;(P=this.loadingIconDiv)==null||P.setAttribute("aria-label",M)}),u.append(this.loadingIconDiv)}update({scale:t=0,rotation:a=null,optionalContentConfigPromise:c=null}){this.scale=t||this.scale,typeof a=="number"&&(this.rotation=a),c instanceof Promise&&(this._optionalContentConfigPromise=c,c.then(f=>{c===this._optionalContentConfigPromise&&(x(this,b).initialOptionalContent=f.hasInitialVisibility)}));const i=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:i}),this._isStandalone&&l.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let u=!1;if(this.canvas&&this.maxCanvasPixels>0){const f=this.outputScale;(Math.floor(this.viewport.width)*f.sx|0)*(Math.floor(this.viewport.height)*f.sy|0)>this.maxCanvasPixels&&(u=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&u){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:a=!1,keepXfaLayer:c=!1}={}){var i;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!a||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!c||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(i=this.textHighlighter)==null||i.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:t,redrawAnnotationLayer:a=!1,redrawAnnotationEditorLayer:c=!1,redrawXfaLayer:i=!1}){const u=this.viewport.width,f=this.viewport.height,T=this.div;t.style.width=t.parentNode.style.width=T.style.width=Math.floor(u)+"px",t.style.height=t.parentNode.style.height=T.style.height=Math.floor(f)+"px";const A=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,S=Math.abs(A);let k=1,Q=1;if((S===90||S===270)&&(k=f/u,Q=u/f),t.style.transform=`rotate(${A}deg) scale(${k}, ${Q})`,this.textLayer){const te=this.textLayer.viewport,_=this.viewport.rotation-te.rotation,N=Math.abs(_);let M=u/te.width;(N===90||N===270)&&(M=u/te.height);const P=this.textLayer.textLayerDiv;let X,j;switch(N){case 0:X=j=0;break;case 90:X=0,j="-"+P.style.height;break;case 180:X="-"+P.style.width,j="-"+P.style.height;break;case 270:X="-"+P.style.width,j=0;break;default:console.error("Bad rotation value.");break}P.style.transform=`rotate(${N}deg) scale(${M}) translate(${X}, ${j})`,P.style.transformOrigin="0% 0%"}a&&this.annotationLayer&&this._renderAnnotationLayer(),c&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),i&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,a){return this.viewport.convertToPdfPoint(t,a)}toggleLoadingIconSpinner(t=!1){var a;(a=this.loadingIconDiv)==null||a.classList.toggle("notVisible",!t)}draw(){var k,Q,te;this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,pdfPage:a}=this;if(!a)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;const c=document.createElement("div");c.style.width=t.style.width,c.style.height=t.style.height,c.classList.add("canvasWrapper");const i=((k=this.annotationLayer)==null?void 0:k.div)||((Q=this.annotationEditorLayer)==null?void 0:Q.div);i?i.before(c):t.append(c);let u=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new h.TextAccessibilityManager);const _=document.createElement("div");_.className="textLayer",_.style.width=c.style.width,_.style.height=c.style.height,i?i.before(_):t.append(_),u=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:_,pageIndex:this.id-1,viewport:this.viewport,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=u,x(this,p)!==r.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:t,pdfPage:a,imageResourcesPath:this.imageResourcesPath,renderForms:x(this,p)===r.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(te=this.xfaLayer)!=null&&te.div&&t.append(this.xfaLayer.div);let f=null;this.renderingQueue&&(f=_=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=l.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,_()};return}_()});const T=async(_=null)=>{if(A===this.paintTask&&(this.paintTask=null),_ instanceof r.RenderingCancelledException){this._renderError=null;return}if(this._renderError=_,this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),this._resetZoomLayer(!0),x(this,b).regularAnnotations=!A.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this._renderError}),_)throw _},A=this.renderer===l.RendererType.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);A.onRenderContinue=f,this.paintTask=A;const S=A.promise.then(()=>T(null).then(()=>{if(u){const _=a.streamTextContent({includeMarkedContent:!0});u.setTextContentStream(_),u.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:t,pdfPage:a,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(_){return T(_)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:t,pdfPage:a})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=_=>{_.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(N=>{if(!N||!this.canvas)return;const M=this.structTreeLayer.render(N);M.classList.add("structTree"),this.canvas.append(M)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:a})),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),S}paintOnCanvas(t){const a=(0,r.createPromiseCapability)(),c={promise:a.promise,onRenderContinue(M){M()},cancel(){N.cancel()},get separateAnnots(){return N.separateAnnots}},i=this.viewport,u=document.createElement("canvas");u.setAttribute("role","presentation"),u.hidden=!0;let f=!0;const T=function(){f&&(u.hidden=!1,f=!1)};t.append(u),this.canvas=u;const A=u.getContext("2d",{alpha:!1}),S=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){const M=i.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});S.sx*=M.width/i.width,S.sy*=M.height/i.height}if(this.maxCanvasPixels>0){const M=i.width*i.height,P=Math.sqrt(this.maxCanvasPixels/M);S.sx>P||S.sy>P?(S.sx=P,S.sy=P,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const k=(0,l.approximateFraction)(S.sx),Q=(0,l.approximateFraction)(S.sy);u.width=(0,l.roundToDivide)(i.width*S.sx,k[0]),u.height=(0,l.roundToDivide)(i.height*S.sy,Q[0]),u.style.width=(0,l.roundToDivide)(i.width,k[1])+"px",u.style.height=(0,l.roundToDivide)(i.height,Q[1])+"px",this.paintedViewportMap.set(u,i);const te=S.scaled?[S.sx,0,0,S.sy,0,0]:null,_={canvasContext:A,transform:te,viewport:this.viewport,annotationMode:x(this,p),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},N=this.pdfPage.render(_);return N.onContinue=function(M){T(),c.onRenderContinue?c.onRenderContinue(M):M()},N.promise.then(function(){T(),a.resolve()},function(M){T(),a.reject(M)}),c}paintOnSvg(t){let a=!1;const c=()=>{if(a)throw new r.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,u=this.viewport.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:x(this,p)}).then(T=>(c(),new r.SVGGraphics(i.commonObjs,i.objs).getSVG(T,u).then(S=>{c(),this.svg=S,this.paintedViewportMap.set(S,u),S.style.width=t.style.width,S.style.height=t.style.height,this.renderingState=l.RenderingStates.FINISHED,t.append(S)}))),onRenderContinue(T){T()},cancel(){a=!0},get separateAnnots(){return!1}}}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:t,regularAnnotations:a}=x(this,b);return t&&a?this.canvas:null}}p=new WeakMap,b=new WeakMap,s.PDFPageView=d},(W,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;const E=Object.create(null);s.compatibilityParams=E;{const h=navigator.userAgent||"",n=navigator.platform||"",d=navigator.maxTouchPoints||1,p=/Android/.test(h),b=/\b(iPad|iPhone|iPod)(?=;)/.test(h)||n==="MacIntel"&&d>1;(function(){(b||p)&&(E.maxCanvasPixels=5242880)})()}const r={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=r;const l={annotationEditorMode:{value:0,kind:r.VIEWER+r.PREFERENCE},annotationMode:{value:2,kind:r.VIEWER+r.PREFERENCE},cursorToolOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},defaultZoomValue:{value:"",kind:r.VIEWER+r.PREFERENCE},disableHistory:{value:!1,kind:r.VIEWER},disablePageLabels:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePermissions:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableScripting:{value:!0,kind:r.VIEWER+r.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:r.VIEWER},externalLinkTarget:{value:0,kind:r.VIEWER+r.PREFERENCE},historyUpdateUrl:{value:!1,kind:r.VIEWER+r.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},imageResourcesPath:{value:"./images/",kind:r.VIEWER},maxCanvasPixels:{value:16777216,kind:r.VIEWER},forcePageColors:{value:!1,kind:r.VIEWER+r.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:r.VIEWER+r.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:r.VIEWER+r.PREFERENCE},pdfBugEnabled:{value:!1,kind:r.VIEWER+r.PREFERENCE},printResolution:{value:150,kind:r.VIEWER},sidebarViewOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},scrollModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},spreadModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},textLayerMode:{value:1,kind:r.VIEWER+r.PREFERENCE},useOnlyCssZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},viewerCssTheme:{value:0,kind:r.VIEWER+r.PREFERENCE},viewOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},cMapPacked:{value:!0,kind:r.API},cMapUrl:{value:"../web/cmaps/",kind:r.API},disableAutoFetch:{value:!1,kind:r.API+r.PREFERENCE},disableFontFace:{value:!1,kind:r.API+r.PREFERENCE},disableRange:{value:!1,kind:r.API+r.PREFERENCE},disableStream:{value:!1,kind:r.API+r.PREFERENCE},docBaseUrl:{value:"",kind:r.API},enableXfa:{value:!0,kind:r.API+r.PREFERENCE},fontExtraProperties:{value:!1,kind:r.API},isEvalSupported:{value:!0,kind:r.API},isOffscreenCanvasSupported:{value:!0,kind:r.API},maxImageSize:{value:-1,kind:r.API},pdfBug:{value:!1,kind:r.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:r.API},verbosity:{value:1,kind:r.API},workerPort:{value:null,kind:r.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:r.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:r.VIEWER},l.disablePreferences={value:!1,kind:r.VIEWER},l.locale={value:navigator.language||"en-US",kind:r.VIEWER},l.renderer={value:"canvas",kind:r.VIEWER+r.PREFERENCE},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:r.VIEWER};const I=Object.create(null);class y{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const d=I[n];if(d!==void 0)return d;const p=l[n];if(p!==void 0)return E[n]??p.value}static getAll(n=null){const d=Object.create(null);for(const p in l){const b=l[p];if(n){if(!(n&b.kind))continue;if(n===r.PREFERENCE){const t=b.value,a=typeof t;if(a==="boolean"||a==="string"||a==="number"&&Number.isInteger(t)){d[p]=t;continue}throw new Error(`Invalid type for preference: ${p}`)}}const m=I[p];d[p]=m!==void 0?m:E[p]??b.value}return d}static set(n,d){I[n]=d}static setAll(n){for(const d in n)I[d]=n[d]}static remove(n){delete I[n]}static _hasUserOptions(){return Object.keys(I).length>0}}s.AppOptions=y},(W,s,E)=>{var I,y,h,n,d,Qe,b,lt;Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var r=E(6);const t=class{constructor(){H(this,b);H(this,I,!1);H(this,y,null);H(this,h,new Map);H(this,n,new Map)}setTextMapping(c){ne(this,y,c)}enable(){if(x(this,I))throw new Error("TextAccessibilityManager is already enabled.");if(!x(this,y))throw new Error("Text divs and strings have not been set.");if(ne(this,I,!0),ne(this,y,x(this,y).slice()),x(this,y).sort(U(t,d,Qe)),x(this,h).size>0){const c=x(this,y);for(const[i,u]of x(this,h)){if(!document.getElementById(i)){x(this,h).delete(i);continue}U(this,b,lt).call(this,i,c[u])}}for(const[c,i]of x(this,n))this.addPointerInTextLayer(c,i);x(this,n).clear()}disable(){x(this,I)&&(x(this,n).clear(),ne(this,y,null),ne(this,I,!1))}removePointerInTextLayer(c){if(!x(this,I)){x(this,n).delete(c);return}const i=x(this,y);if(!i||i.length===0)return;const{id:u}=c,f=x(this,h).get(u);if(f===void 0)return;const T=i[f];x(this,h).delete(u);let A=T.getAttribute("aria-owns");A!=null&&A.includes(u)&&(A=A.split(" ").filter(S=>S!==u).join(" "),A?T.setAttribute("aria-owns",A):(T.removeAttribute("aria-owns"),T.setAttribute("role","presentation")))}addPointerInTextLayer(c,i){const{id:u}=c;if(!u)return;if(!x(this,I)){x(this,n).set(c,i);return}i&&this.removePointerInTextLayer(c);const f=x(this,y);if(!f||f.length===0)return;const T=(0,r.binarySearchFirstItem)(f,S=>{var k;return U(k=t,d,Qe).call(k,c,S)<0}),A=Math.max(0,T-1);U(this,b,lt).call(this,u,f[A]),x(this,h).set(u,A)}moveElementInDOM(c,i,u,f){if(this.addPointerInTextLayer(u,f),!c.hasChildNodes()){c.append(i);return}const T=Array.from(c.childNodes).filter(k=>k!==i);if(T.length===0)return;const A=u||i,S=(0,r.binarySearchFirstItem)(T,k=>{var Q;return U(Q=t,d,Qe).call(Q,A,k)<0});S===0?T[0].before(i):T[S-1].after(i)}};let l=t;I=new WeakMap,y=new WeakMap,h=new WeakMap,n=new WeakMap,d=new WeakSet,Qe=function(c,i){const u=c.getBoundingClientRect(),f=i.getBoundingClientRect();if(u.width===0&&u.height===0)return 1;if(f.width===0&&f.height===0)return-1;const T=u.y,A=u.y+u.height,S=u.y+u.height/2,k=f.y,Q=f.y+f.height,te=f.y+f.height/2;if(S<=k&&te>=A)return-1;if(te<=T&&S>=Q)return 1;const _=u.x+u.width/2,N=f.x+f.width/2;return _-N},b=new WeakSet,lt=function(c,i){const u=i.getAttribute("aria-owns");u!=null&&u.includes(c)||i.setAttribute("aria-owns",u?`${u} ${c}`:c),i.removeAttribute("role")},H(l,d),s.TextAccessibilityManager=l},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var r=E(6),l=E(3);class I{constructor({eventBus:h,sandboxBundleSrc:n=null,scriptingFactory:d=null,docPropertiesLookup:p=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=h,this._sandboxBundleSrc=n,this._scriptingFactory=d,this._docPropertiesLookup=p,this._scriptingFactory||window.addEventListener("updatefromsandbox",b=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:b.detail})})}setViewer(h){this._pdfViewer=h}async setDocument(h){var b;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=h,!h)return;const[n,d,p]=await Promise.all([h.getFieldObjects(),h.getCalculationOrderIds(),h.getJSActions()]);if(!n&&!p){await this._destroyScripting();return}if(h===this._pdfDocument){try{this._scripting=this._createScripting()}catch(m){console.error(`PDFScriptingManager.setDocument: "${m==null?void 0:m.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",m=>{(m==null?void 0:m.source)===window&&this._updateFromSandbox(m.detail)}),this._internalEvents.set("dispatcheventinsandbox",m=>{var t;(t=this._scripting)==null||t.dispatchEventInSandbox(m.detail)}),this._internalEvents.set("pagechanging",({pageNumber:m,previous:t})=>{m!==t&&(this._dispatchPageClose(t),this._dispatchPageOpen(m))}),this._internalEvents.set("pagerendered",({pageNumber:m})=>{this._pageOpenPending.has(m)&&m===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(m)}),this._internalEvents.set("pagesdestroy",async m=>{var t,a;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((t=this._scripting)==null?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(a=this._closeCapability)==null||a.resolve()}),this._domEvents.set("mousedown",m=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",m=>{this._mouseState.isDown=!1});for(const[m,t]of this._internalEvents)this._eventBus._on(m,t);for(const[m,t]of this._domEvents)window.addEventListener(m,t,!0);try{const m=await this._getDocProperties();if(h!==this._pdfDocument)return;await this._scripting.createSandbox({objects:n,calculationOrder:d,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...m,actions:p}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(m){console.error(`PDFScriptingManager.setDocument: "${m==null?void 0:m.message}".`),await this._destroyScripting();return}await((b=this._scripting)==null?void 0:b.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{h===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(h){var n;return(n=this._scripting)==null?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(h){var n;return(n=this._scripting)==null?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(h){var n;return(n=this._scripting)==null?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(h){var n;return(n=this._scripting)==null?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var h;return((h=this._destroyCapability)==null?void 0:h.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(h){var a;const n=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:d,siblings:p,command:b,value:m}=h;if(!d){switch(b){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(n)return;const c=(0,r.apiPageLayoutToViewerModes)(m);this._pdfViewer.spreadMode=c.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=m+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(m);break;case"zoom":if(n)return;this._pdfViewer.currentScaleValue=m;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(n)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(n)return;this._pdfViewer.decreaseScale();break}return}if(n&&h.focus)return;delete h.id,delete h.siblings;const t=p?[d,...p]:[d];for(const c of t){const i=document.querySelector(`[data-element-id="${c}"]`);i?i.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:h})):(a=this._pdfDocument)==null||a.annotationStorage.setValue(c,h)}}async _dispatchPageOpen(h,n=!1){const d=this._pdfDocument,p=this._visitedPages;if(n&&(this._closeCapability=(0,l.createPromiseCapability)()),!this._closeCapability)return;const b=this._pdfViewer.getPageView(h-1);if((b==null?void 0:b.renderingState)!==r.RenderingStates.FINISHED){this._pageOpenPending.add(h);return}this._pageOpenPending.delete(h);const m=(async()=>{var a,c;const t=await(p.has(h)?null:(a=b.pdfPage)==null?void 0:a.getJSActions());d===this._pdfDocument&&await((c=this._scripting)==null?void 0:c.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:h,actions:t}))})();p.set(h,m)}async _dispatchPageClose(h){var b;const n=this._pdfDocument,d=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(h))return;const p=d.get(h);p&&(d.set(h,null),await p,n===this._pdfDocument&&await((b=this._scripting)==null?void 0:b.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:h})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:h}=E(22);return h(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:h}=E(22);return new h(this._sandboxBundleSrc)}async _destroyScripting(){var h,n;if(!this._scripting){this._pdfDocument=null,(h=this._destroyCapability)==null||h.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(d=>{setTimeout(d,1e3)})]).catch(d=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[d,p]of this._internalEvents)this._eventBus._off(d,p);this._internalEvents.clear();for(const[d,p]of this._domEvents)window.removeEventListener(d,p,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(n=this._destroyCapability)==null||n.resolve()}}s.PDFScriptingManager=I},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=l;var r=E(3);async function l(y){const h="",n=h.split("#")[0];let{info:d,metadata:p,contentDispositionFilename:b,contentLength:m}=await y.getMetadata();if(!m){const{length:t}=await y.getDownloadInfo();m=t}return{...d,baseURL:n,filesize:m,filename:b||(0,r.getPdfFilenameFromUrl)(h),metadata:p==null?void 0:p.getRaw(),authors:p==null?void 0:p.get("dc:creator"),numPages:y.numPages,URL:h}}class I{constructor(h){this._ready=(0,r.loadScript)(h,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(h){(await this._ready).create(h)}async dispatchEventInSandbox(h){const n=await this._ready;setTimeout(()=>n.dispatchEvent(h),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}s.GenericScripting=I},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFSinglePageViewer=void 0;var r=E(6),l=E(24);class I extends l.PDFViewer{_resetView(){super._resetView(),this._scrollMode=r.ScrollMode.PAGE,this._spreadMode=r.SpreadMode.NONE}set scrollMode(h){}_updateScrollMode(){}set spreadMode(h){}_updateSpreadMode(){}}s.PDFSinglePageViewer=I},(W,s,E)=>{var S,k,Q,ut,_,N,M,P,X,j,g,Y,ae,Mt,_e,Tt,me,Ge,we,Ye,Ue,Ct,Ie,ht,ke,It,Ae,xt,L,Rt;Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFViewer=s.PDFPageViewBuffer=void 0;var r=E(3),l=E(6),I=E(2),y=E(5),h=E(4),n=E(18),d=E(25),p=E(7),b=E(8),m=E(26),t=E(9),a=E(10);const c=10,i="enablePermissions",u={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=u;function f(K){return Object.values(r.AnnotationEditorType).includes(K)&&K!==r.AnnotationEditorType.DISABLE}class T{constructor(e){H(this,Q);H(this,S,new Set);H(this,k,0);ne(this,k,e)}push(e){const o=x(this,S);o.has(e)&&o.delete(e),o.add(e),o.size>x(this,k)&&U(this,Q,ut).call(this)}resize(e,o=null){ne(this,k,e);const v=x(this,S);if(o){const D=v.size;let R=1;for(const V of v)if(o.has(V.id)&&(v.delete(V),v.add(V)),++R>D)break}for(;v.size>x(this,k);)U(this,Q,ut).call(this)}has(e){return x(this,S).has(e)}[Symbol.iterator](){return x(this,S).keys()}}S=new WeakMap,k=new WeakMap,Q=new WeakSet,ut=function(){const e=x(this,S).keys().next().value;e==null||e.destroy(),x(this,S).delete(e)},s.PDFPageViewBuffer=T;class A{constructor(e){H(this,ae);H(this,_e);H(this,me);H(this,we);H(this,Ue);H(this,Ie);H(this,ke);H(this,Ae);H(this,L);H(this,_,null);H(this,N,r.AnnotationEditorType.NONE);H(this,M,null);H(this,P,r.AnnotationMode.ENABLE_FORMS);H(this,X,!1);H(this,j,0);H(this,g,null);H(this,Y,null);var v,D;const o="3.1.81";if(r.version!==o)throw new Error(`The API version "${r.version}" does not match the Viewer version "${o}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,!(((v=this.container)==null?void 0:v.tagName.toUpperCase())==="DIV"&&((D=this.viewer)==null?void 0:D.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=e.eventBus,this.linkService=e.linkService||new p.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this._scriptingManager=e.scriptingManager||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=e.textLayerMode??l.TextLayerMode.ENABLE,ne(this,P,e.annotationMode??r.AnnotationMode.ENABLE_FORMS),ne(this,N,e.annotationEditorMode??r.AnnotationEditorType.NONE),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||h.NullL10n,ne(this,X,e.enablePermissions||!1),this.pageColors=e.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("PDFViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(e){return e==null?void 0:e.pdfPage}):!1}get renderForms(){return x(this,P)===r.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,o=!1){var D;if(this._currentPageNumber===e)return o&&U(this,Ie,ht).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const v=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((D=this._pageLabels)==null?void 0:D[e-1])??null,previous:v}),o&&U(this,Ie,ht).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let o=e|0;if(this._pageLabels){const v=this._pageLabels.indexOf(e);v>=0&&(o=v+1)}this._setCurrentPageNumber(o,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this._setScale(e,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,l.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const o=this._currentPageNumber,v={rotation:e};for(const D of this._pages)D.update(v);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:o}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(e){var B,$;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(B=this.findController)==null||B.setDocument(null),($=this._scriptingManager)==null||$.setDocument(null),x(this,M)&&(x(this,M).destroy(),ne(this,M,null))),this.pdfDocument=e,!e)return;const o=e.isPureXfa,v=e.numPages,D=e.getPage(1),R=e.getOptionalContentConfig(),V=x(this,X)?e.getPermissions():Promise.resolve();if(v>u.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Z=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Z})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:v})},()=>{}),this._onBeforeDraw=Z=>{const ge=this._pages[Z.pageNumber-1];ge&&x(this,_).push(ge)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Z=>{Z.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Z.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,x(this,Y)&&(document.removeEventListener("visibilitychange",x(this,Y)),ne(this,Y,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([D,V]).then(([Z,ge])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(Z),this._optionalContentConfigPromise=R;const{annotationEditorMode:oe,annotationMode:Me,textLayerMode:ve}=U(this,ae,Mt).call(this,ge);if(oe!==r.AnnotationEditorType.DISABLE){const q=oe;o?console.warn("Warning: XFA-editing is not implemented."):f(q)?(ne(this,M,new r.AnnotationEditorUIManager(this.container,this.eventBus)),q!==r.AnnotationEditorType.NONE&&x(this,M).updateMode(q)):console.error(`Invalid AnnotationEditor mode: ${q}`)}const Be=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,ie=this.currentScale,C=Z.getViewport({scale:ie*r.PixelsPerInch.PDF_TO_CSS_UNITS}),w=ve!==l.TextLayerMode.DISABLE&&!o?this:null,F=Me!==r.AnnotationMode.DISABLE?this:null,z=o?this:null,G=x(this,M)?this:null;for(let q=1;q<=v;++q){const le=new n.PDFPageView({container:Be,eventBus:this.eventBus,id:q,scale:ie,defaultViewport:C.clone(),optionalContentConfigPromise:R,renderingQueue:this.renderingQueue,textLayerFactory:w,textLayerMode:ve,annotationLayerFactory:F,annotationMode:Me,xfaLayerFactory:z,annotationEditorLayerFactory:G,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(le)}const J=this._pages[0];J&&(J.setPdfPage(Z),this.linkService.cachePageRef(1,Z.ref)),this._scrollMode===l.ScrollMode.PAGE?U(this,me,Ge).call(this):this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),U(this,_e,Tt).call(this).then(async()=>{var le,ee;if((le=this.findController)==null||le.setDocument(e),(ee=this._scriptingManager)==null||ee.setDocument(e),x(this,M)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:x(this,N)}),e.loadingParams.disableAutoFetch||v>u.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let q=v-1;if(q<=0){this._pagesCapability.resolve();return}for(let re=2;re<=v;++re){const ye=e.getPage(re).then(Oe=>{const Fe=this._pages[re-1];Fe.pdfPage||Fe.setPdfPage(Oe),this.linkService.cachePageRef(re,Oe.ref),--q===0&&this._pagesCapability.resolve()},Oe=>{console.error(`Unable to get page ${re} to initialize viewer`,Oe),--q===0&&this._pagesCapability.resolve()});re%u.PAUSE_EAGER_PAGE_INIT===0&&await ye}}),this.eventBus.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:q})=>{e===this.pdfDocument&&q.Language&&(this.viewer.lang=q.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Z=>{console.error("Unable to initialize viewer",Z),this._pagesCapability.reject(Z)})}setPageLabels(e){var o;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let v=0,D=this._pages.length;v<D;v++)this._pages[v].setPageLabel(((o=this._pageLabels)==null?void 0:o[v])??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,ne(this,_,new T(c)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,ne(this,g,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),x(this,Y)&&(document.removeEventListener("visibilitychange",x(this,Y)),ne(this,Y,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(i)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(e,o,v=!1,D=!1){if(this._currentScaleValue=o.toString(),U(this,Ue,Ct).call(this,e)){D&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:o});return}l.docStyle.setProperty("--scale-factor",e*r.PixelsPerInch.PDF_TO_CSS_UNITS);const R={scale:e};for(const V of this._pages)V.update(R);if(this._currentScale=e,!v){let V=this._currentPageNumber,B;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(V=this._location.pageNumber,B=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:V,destArray:B,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:D?o:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(e,o=!1){let v=parseFloat(e);if(v>0)this._setScaleUpdatePages(v,e,o,!1);else{const D=this._pages[this._currentPageNumber-1];if(!D)return;let R=l.SCROLLBAR_PADDING,V=l.VERTICAL_PADDING;this.isInPresentationMode?R=V=4:this.removePageBorders?R=V=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([R,V]=[V,R]);const B=(this.container.clientWidth-R)/D.width*D.scale/this._pageWidthScaleFactor,$=(this.container.clientHeight-V)/D.height*D.scale;switch(e){case"page-actual":v=1;break;case"page-width":v=B;break;case"page-height":v=$;break;case"page-fit":v=Math.min(B,$);break;case"auto":const Z=(0,l.isPortraitOrientation)(D)?B:Math.min($,B);v=Math.min(l.MAX_AUTO_SCALE,Z);break;default:console.error(`_setScale: "${e}" is an unknown zoom value.`);return}this._setScaleUpdatePages(v,e,o,!0)}}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const o=this._pageLabels.indexOf(e);return o<0?null:o+1}scrollPageIntoView({pageNumber:e,destArray:o=null,allowNegativeOffset:v=!1,ignoreDestinationZoom:D=!1}){if(!this.pdfDocument)return;const R=Number.isInteger(e)&&this._pages[e-1];if(!R){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!o){this._setCurrentPageNumber(e,!0);return}let V=0,B=0,$=0,Z=0,ge,oe;const Me=R.rotation%180!==0,ve=(Me?R.height:R.width)/R.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,Be=(Me?R.width:R.height)/R.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS;let ie=0;switch(o[1].name){case"XYZ":V=o[2],B=o[3],ie=o[4],V=V!==null?V:0,B=B!==null?B:Be;break;case"Fit":case"FitB":ie="page-fit";break;case"FitH":case"FitBH":B=o[2],ie="page-width",B===null&&this._location?(V=this._location.left,B=this._location.top):(typeof B!="number"||B<0)&&(B=Be);break;case"FitV":case"FitBV":V=o[2],$=ve,Z=Be,ie="page-height";break;case"FitR":V=o[2],B=o[3],$=o[4]-V,Z=o[5]-B;const z=this.removePageBorders?0:l.SCROLLBAR_PADDING,G=this.removePageBorders?0:l.VERTICAL_PADDING;ge=(this.container.clientWidth-z)/$/r.PixelsPerInch.PDF_TO_CSS_UNITS,oe=(this.container.clientHeight-G)/Z/r.PixelsPerInch.PDF_TO_CSS_UNITS,ie=Math.min(Math.abs(ge),Math.abs(oe));break;default:console.error(`scrollPageIntoView: "${o[1].name}" is not a valid destination type.`);return}if(D||(ie&&ie!==this._currentScale?this.currentScaleValue=ie:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),ie==="page-fit"&&!o[4]){U(this,we,Ye).call(this,R);return}const C=[R.viewport.convertToViewportPoint(V,B),R.viewport.convertToViewportPoint(V+$,B+Z)];let w=Math.min(C[0][0],C[1][0]),F=Math.min(C[0][1],C[1][1]);v||(w=Math.max(w,0),F=Math.max(F,0)),U(this,we,Ye).call(this,R,{left:w,top:F})}_updateLocation(e){const o=this._currentScale,v=this._currentScaleValue,D=parseFloat(v)===o?Math.round(o*1e4)/100:v,R=e.id,V=this._pages[R-1],B=this.container,$=V.getPagePoint(B.scrollLeft-e.x,B.scrollTop-e.y),Z=Math.round($[0]),ge=Math.round($[1]);let oe=`#page=${R}`;this.isInPresentationMode||(oe+=`&zoom=${D},${Z},${ge}`),this._location={pageNumber:R,scale:D,top:ge,left:Z,rotation:this._pagesRotation,pdfOpenParams:oe}}update(){const e=this._getVisiblePages(),o=e.views,v=o.length;if(v===0)return;const D=Math.max(c,2*v+1);x(this,_).resize(D,e.ids),this.renderingQueue.renderHighestPriority(e);const R=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),V=this._currentPageNumber;let B=!1;for(const $ of o){if($.percent<100)break;if($.id===V&&R){B=!0;break}}this._setCurrentPageNumber(B?V:o[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===l.ScrollMode.PAGE?x(this,g).pages:this._pages,o=this._scrollMode===l.ScrollMode.HORIZONTAL,v=o&&this._isContainerRtl;return(0,l.getVisibleElements)({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:o,rtl:v})}isPageVisible(e){return this.pdfDocument?Number.isInteger(e)&&e>0&&e<=this.pagesCount?this._getVisiblePages().ids.has(e):(console.error(`isPageVisible: "${e}" is not a valid page.`),!1):!1}isPageCached(e){if(!this.pdfDocument)return!1;if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount))return console.error(`isPageCached: "${e}" is not a valid page.`),!1;const o=this._pages[e-1];return x(this,_).has(o)}cleanup(){for(const e of this._pages)e.renderingState!==l.RenderingStates.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const o=e||this._getVisiblePages(),v=U(this,Ae,xt).call(this,o),D=this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL,R=this.renderingQueue.getHighestPriority(o,this._pages,v,D);return U(this,L,Rt).call(this,o.ids),R?(U(this,ke,It).call(this,R).then(()=>{this.renderingQueue.renderView(R)}),!0):!1}createTextLayerBuilder({textLayerDiv:e,pageIndex:o,viewport:v,eventBus:D,highlighter:R,accessibilityManager:V=null}){return new t.TextLayerBuilder({textLayerDiv:e,eventBus:D,pageIndex:o,viewport:v,highlighter:R,accessibilityManager:V})}createTextHighlighter({pageIndex:e,eventBus:o}){return new m.TextHighlighter({eventBus:o,pageIndex:e,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:e,pdfPage:o,annotationStorage:v=(ve=>(ve=this.pdfDocument)==null?void 0:ve.annotationStorage)(),imageResourcesPath:D="",renderForms:R=!0,l10n:V=h.NullL10n,enableScripting:B=this.enableScripting,hasJSActionsPromise:$=(Be=>(Be=this.pdfDocument)==null?void 0:Be.hasJSActions())(),mouseState:Z=(ie=>(ie=this._scriptingManager)==null?void 0:ie.mouseState)(),fieldObjectsPromise:ge=(C=>(C=this.pdfDocument)==null?void 0:C.getFieldObjects())(),annotationCanvasMap:oe=null,accessibilityManager:Me=null}){return new y.AnnotationLayerBuilder({pageDiv:e,pdfPage:o,annotationStorage:v,imageResourcesPath:D,renderForms:R,linkService:this.linkService,downloadManager:this.downloadManager,l10n:V,enableScripting:B,hasJSActionsPromise:$,mouseState:Z,fieldObjectsPromise:ge,annotationCanvasMap:oe,accessibilityManager:Me})}createAnnotationEditorLayerBuilder({uiManager:e=x(this,M),pageDiv:o,pdfPage:v,accessibilityManager:D=null,l10n:R,annotationStorage:V=(B=>(B=this.pdfDocument)==null?void 0:B.annotationStorage)()}){return new I.AnnotationEditorLayerBuilder({uiManager:e,pageDiv:o,pdfPage:v,annotationStorage:V,accessibilityManager:D,l10n:R})}createXfaLayerBuilder({pageDiv:e,pdfPage:o,annotationStorage:v=(D=>(D=this.pdfDocument)==null?void 0:D.annotationStorage)()}){return new a.XfaLayerBuilder({pageDiv:e,pdfPage:o,annotationStorage:v,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:e}){return new b.StructTreeLayerBuilder({pdfPage:e})}get hasEqualPageSizes(){const e=this._pages[0];for(let o=1,v=this._pages.length;o<v;++o){const D=this._pages[o];if(D.width!==e.width||D.height!==e.height)return!1}return!0}getPagesOverview(){return this._pages.map(e=>{const o=e.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(o)?{width:o.width,height:o.height,rotation:o.rotation}:{width:o.height,height:o.width,rotation:(o.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=e;const o={optionalContentConfigPromise:e};for(const v of this._pages)v.update(o);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,l.isValidScrollMode)(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>u.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const o=this._scrollMode,v=this.viewer;v.classList.toggle("scrollHorizontal",o===l.ScrollMode.HORIZONTAL),v.classList.toggle("scrollWrapped",o===l.ScrollMode.WRAPPED),!(!this.pdfDocument||!e)&&(o===l.ScrollMode.PAGE?U(this,me,Ge).call(this):this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,l.isValidSpreadMode)(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const o=this.viewer,v=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)U(this,me,Ge).call(this);else if(o.textContent="",this._spreadMode===l.SpreadMode.NONE)for(const D of this._pages)o.append(D.div);else{const D=this._spreadMode-1;let R=null;for(let V=0,B=v.length;V<B;++V)R===null?(R=document.createElement("div"),R.className="spread",o.append(R)):V%2===D&&(R=R.cloneNode(!1),o.append(R)),R.append(v[V].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,o=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{const{views:v}=this._getVisiblePages(),D=new Map;for(const{id:R,y:V,percent:B,widthPercent:$}of v){if(B===0||$<100)continue;let Z=D.get(V);Z||D.set(V,Z||(Z=[])),Z.push(R)}for(const R of D.values()){const V=R.indexOf(e);if(V===-1)continue;const B=R.length;if(B===1)break;if(o)for(let $=V-1,Z=0;$>=Z;$--){const ge=R[$],oe=R[$+1]-1;if(ge<oe)return e-oe}else for(let $=V+1,Z=B;$<Z;$++){const ge=R[$],oe=R[$-1]+1;if(ge>oe)return oe-e}if(o){const $=R[0];if($<e)return e-$+1}else{const $=R[B-1];if($>e)return $-e+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;const v=this._spreadMode-1;if(o&&e%2!==v)break;if(!o&&e%2===v)break;const{views:D}=this._getVisiblePages(),R=o?e-1:e+1;for(const{id:V,percent:B,widthPercent:$}of D)if(V===R){if(B>0&&$===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,o=this.pagesCount;if(e>=o)return!1;const v=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+v,o),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const o=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-o,1),!0}increaseScale(e=1){let o=this._currentScale;do o=(o*l.DEFAULT_SCALE_DELTA).toFixed(2),o=Math.ceil(o*10)/10,o=Math.min(l.MAX_SCALE,o);while(--e>0&&o<l.MAX_SCALE);this.currentScaleValue=o}decreaseScale(e=1){let o=this._currentScale;do o=(o/l.DEFAULT_SCALE_DELTA).toFixed(2),o=Math.floor(o*10)/10,o=Math.max(l.MIN_SCALE,o);while(--e>0&&o>l.MIN_SCALE);this.currentScaleValue=o}updateContainerHeightCss(){const e=this.container.clientHeight;e!==x(this,j)&&(ne(this,j,e),l.docStyle.setProperty("--viewer-container-height",`${e}px`))}get annotationEditorMode(){return x(this,M)?x(this,N):r.AnnotationEditorType.DISABLE}set annotationEditorMode(e){if(!x(this,M))throw new Error("The AnnotationEditor is not enabled.");if(x(this,N)!==e){if(!f(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);this.pdfDocument&&(ne(this,N,e),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),x(this,M).updateMode(e))}}set annotationEditorParams({type:e,value:o}){if(!x(this,M))throw new Error("The AnnotationEditor is not enabled.");x(this,M).updateParams(e,o)}refresh(){if(!this.pdfDocument)return;const e={};for(const o of this._pages)o.update(e);this.update()}}_=new WeakMap,N=new WeakMap,M=new WeakMap,P=new WeakMap,X=new WeakMap,j=new WeakMap,g=new WeakMap,Y=new WeakMap,ae=new WeakSet,Mt=function(e){const o={annotationEditorMode:x(this,N),annotationMode:x(this,P),textLayerMode:this.textLayerMode};return e&&(e.includes(r.PermissionFlag.COPY)||this.viewer.classList.add(i),e.includes(r.PermissionFlag.MODIFY_CONTENTS)||(o.annotationEditorMode=r.AnnotationEditorType.DISABLE),!e.includes(r.PermissionFlag.MODIFY_ANNOTATIONS)&&!e.includes(r.PermissionFlag.FILL_INTERACTIVE_FORMS)&&x(this,P)===r.AnnotationMode.ENABLE_FORMS&&(o.annotationMode=r.AnnotationMode.ENABLE)),o},_e=new WeakSet,Tt=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const e=new Promise(o=>{ne(this,Y,()=>{document.visibilityState==="hidden"&&(o(),document.removeEventListener("visibilitychange",x(this,Y)),ne(this,Y,null))}),document.addEventListener("visibilitychange",x(this,Y))});return Promise.race([this._onePageRenderedCapability.promise,e])},me=new WeakSet,Ge=function(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,o=x(this,g),v=this.viewer;if(v.textContent="",o.pages.length=0,this._spreadMode===l.SpreadMode.NONE&&!this.isInPresentationMode){const D=this._pages[e-1];v.append(D.div),o.pages.push(D)}else{const D=new Set,R=this._spreadMode-1;R===-1?D.add(e-1):e%2!==R?(D.add(e-1),D.add(e)):(D.add(e-2),D.add(e-1));const V=document.createElement("div");if(V.className="spread",this.isInPresentationMode){const B=document.createElement("div");B.className="dummyPage",V.append(B)}for(const B of D){const $=this._pages[B];$&&(V.append($.div),o.pages.push($))}v.append(V)}o.scrollDown=e>=o.previousPageNumber,o.previousPageNumber=e},we=new WeakSet,Ye=function(e,o=null){const{div:v,id:D}=e;if(this._currentPageNumber!==D&&this._setCurrentPageNumber(D),this._scrollMode===l.ScrollMode.PAGE&&(U(this,me,Ge).call(this),this.update()),!o&&!this.isInPresentationMode){const R=v.offsetLeft+v.clientLeft,V=R+v.clientWidth,{scrollLeft:B,clientWidth:$}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||R<B||V>B+$)&&(o={left:0,top:0})}(0,l.scrollIntoView)(v,o),!this._currentScaleValue&&this._location&&(this._location=null)},Ue=new WeakSet,Ct=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},Ie=new WeakSet,ht=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),U(this,we,Ye).call(this,e)},ke=new WeakSet,It=async function(e){var o,v;if(e.pdfPage)return e.pdfPage;try{const D=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(D),(v=(o=this.linkService)._cachedPageNumber)!=null&&v.call(o,D.ref)||this.linkService.cachePageRef(e.id,D.ref),D}catch(D){return console.error("Unable to get page for page view",D),null}},Ae=new WeakSet,xt=function(e){var o,v;if(((o=e.first)==null?void 0:o.id)===1)return!0;if(((v=e.last)==null?void 0:v.id)===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return x(this,g).scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},L=new WeakSet,Rt=function(e){for(const o of e){const v=this._pages[o-1];v==null||v.toggleLoadingIconSpinner(!0)}for(const o of x(this,_))e.has(o.id)||o.toggleLoadingIconSpinner(!1)},s.PDFViewer=A},(W,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var r=E(3),l=E(6);const I=3e4;class y{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){var d;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&((d=this.pdfThumbnailViewer)!=null&&d.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),I)))}getHighestPriority(n,d,p,b=!1){const m=n.views,t=m.length;if(t===0)return null;for(let f=0;f<t;f++){const T=m[f].view;if(!this.isViewFinished(T))return T}const a=n.first.id,c=n.last.id;if(c-a+1>t){const f=n.ids;for(let T=1,A=c-a;T<A;T++){const S=p?a+T:c-T;if(f.has(S))continue;const k=d[S-1];if(!this.isViewFinished(k))return k}}let i=p?c:a-2,u=d[i];return u&&!this.isViewFinished(u)||b&&(i+=p?1:-1,u=d[i],u&&!this.isViewFinished(u))?u:null}isViewFinished(n){return n.renderingState===l.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(d=>{d instanceof r.RenderingCancelledException||console.error(`renderView: "${d}"`)});break}return!0}}s.PDFRenderingQueue=y},(W,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class E{constructor({findController:l,eventBus:I,pageIndex:y}){this.findController=l,this.matches=[],this.eventBus=I,this.pageIdx=y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,I){this.textDivs=l,this.textContentItemsStr=I}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||l.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,I){if(!l)return[];const{textContentItemsStr:y}=this;let h=0,n=0;const d=y.length-1,p=[];for(let b=0,m=l.length;b<m;b++){let t=l[b];for(;h!==d&&t>=n+y[h].length;)n+=y[h].length,h++;h===y.length&&console.error("Could not find a matching mapping");const a={begin:{divIdx:h,offset:t-n}};for(t+=I[b];h!==d&&t>n+y[h].length;)n+=y[h].length,h++;a.end={divIdx:h,offset:t-n},p.push(a)}return p}_renderMatches(l){if(l.length===0)return;const{findController:I,pageIdx:y}=this,{textContentItemsStr:h,textDivs:n}=this,d=y===I.selected.pageIdx,p=I.selected.matchIdx,b=I.state.highlightAll;let m=null;const t={divIdx:-1,offset:void 0};function a(f,T){const A=f.divIdx;return n[A].textContent="",c(A,0,f.offset,T)}function c(f,T,A,S){let k=n[f];if(k.nodeType===Node.TEXT_NODE){const _=document.createElement("span");k.before(_),_.append(k),n[f]=_,k=_}const Q=h[f].substring(T,A),te=document.createTextNode(Q);if(S){const _=document.createElement("span");return _.className=`${S} appended`,_.append(te),k.append(_),S.includes("selected")?_.offsetLeft:0}return k.append(te),0}let i=p,u=i+1;if(b)i=0,u=l.length;else if(!d)return;for(let f=i;f<u;f++){const T=l[f],A=T.begin,S=T.end,k=d&&f===p,Q=k?" selected":"";let te=0;if(!m||A.divIdx!==m.divIdx?(m!==null&&c(m.divIdx,m.offset,t.offset),a(A)):c(m.divIdx,m.offset,A.offset),A.divIdx===S.divIdx)te=c(A.divIdx,A.offset,S.offset,"highlight"+Q);else{te=c(A.divIdx,A.offset,t.offset,"highlight begin"+Q);for(let _=A.divIdx+1,N=S.divIdx;_<N;_++)n[_].className="highlight middle"+Q;a(S,"highlight end"+Q)}m=S,k&&I.scrollMatchIntoView({element:n[A.divIdx],selectedLeft:te,pageIndex:y,matchIndex:p})}m&&c(m.divIdx,m.offset,t.offset)}_updateMatches(){if(!this.enabled)return;const{findController:l,matches:I,pageIdx:y}=this,{textContentItemsStr:h,textDivs:n}=this;let d=-1;for(const m of I){const t=Math.max(d,m.begin.divIdx);for(let a=t,c=m.end.divIdx;a<=c;a++){const i=n[a];i.textContent=h[a],i.className=""}d=m.end.divIdx+1}if(!(l!=null&&l.highlightMatches))return;const p=l.pageMatches[y]||null,b=l.pageMatchesLength[y]||null;this.matches=this._convertMatches(p,b),this._renderMatches(this.matches)}}s.TextHighlighter=E}],Te={};function se(W){var s=Te[W];if(s!==void 0)return s.exports;var E=Te[W]={exports:{}};return ce[W](E,E.exports,se),E.exports}var He={};return(()=>{var W=He;Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return l.AnnotationLayerBuilder}}),Object.defineProperty(W,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(W,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(W,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(W,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(W,"DownloadManager",{enumerable:!0,get:function(){return I.DownloadManager}}),Object.defineProperty(W,"EventBus",{enumerable:!0,get:function(){return y.EventBus}}),Object.defineProperty(W,"GenericL10n",{enumerable:!0,get:function(){return h.GenericL10n}}),Object.defineProperty(W,"LinkTarget",{enumerable:!0,get:function(){return E.LinkTarget}}),Object.defineProperty(W,"NullL10n",{enumerable:!0,get:function(){return n.NullL10n}}),Object.defineProperty(W,"PDFFindController",{enumerable:!0,get:function(){return d.PDFFindController}}),Object.defineProperty(W,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(W,"PDFLinkService",{enumerable:!0,get:function(){return E.PDFLinkService}}),Object.defineProperty(W,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(W,"PDFScriptingManager",{enumerable:!0,get:function(){return m.PDFScriptingManager}}),Object.defineProperty(W,"PDFSinglePageViewer",{enumerable:!0,get:function(){return t.PDFSinglePageViewer}}),Object.defineProperty(W,"PDFViewer",{enumerable:!0,get:function(){return a.PDFViewer}}),Object.defineProperty(W,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}}),Object.defineProperty(W,"RenderingStates",{enumerable:!0,get:function(){return r.RenderingStates}}),Object.defineProperty(W,"ScrollMode",{enumerable:!0,get:function(){return r.ScrollMode}}),Object.defineProperty(W,"SimpleLinkService",{enumerable:!0,get:function(){return E.SimpleLinkService}}),Object.defineProperty(W,"SpreadMode",{enumerable:!0,get:function(){return r.SpreadMode}}),Object.defineProperty(W,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return c.StructTreeLayerBuilder}}),Object.defineProperty(W,"TextLayerBuilder",{enumerable:!0,get:function(){return i.TextLayerBuilder}}),Object.defineProperty(W,"XfaLayerBuilder",{enumerable:!0,get:function(){return u.XfaLayerBuilder}}),Object.defineProperty(W,"parseQueryString",{enumerable:!0,get:function(){return r.parseQueryString}});var s=se(1),E=se(7),r=se(6),l=se(5),I=se(11),y=se(12),h=se(13),n=se(4),d=se(15),p=se(17),b=se(18),m=se(21),t=se(23),a=se(24),c=se(8),i=se(9),u=se(10)})(),He})())})(kt);const Bt=Ot(Je),Wt=Vt({__proto__:null,default:Bt},[Je]);export{Wt as p};
