import{t as S,o as K,a as b}from"./index.2c42bbf0.js";import{p as Z}from"./Button.d4222e6c.js";import{i as I,x as V,f as N,o as f,c as O,g as w,e as T,y as A,j as Y,k as D,z as J,l as L,A as U,r as g,q as h,w as y,B as $,a as k,t as B,h as F,s as Q,T as G,C as ee,D as te,d as ae,E as oe,n as ne}from"../app.daa127db.js";import{u as W}from"./utils-6ba05f5b.281f2023.js";import{a as re,c as se,f as ie,s as le,o as ue}from"./floating-ui.dom.esm.42b422b6.js";import{u as de}from"./index.efda7f73.js";import{I as ce}from"./16.f34f40aa.js";const H=Symbol("DROPDOWN_CONTEXT"),pe=I({props:{text:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const o=V(H,void 0,!0);function a(r){e("click",r),(o==null?void 0:o.close)&&!r.defaultPrevented&&o.close()}return{handleOnClick:a}}});function fe(t,e,o,a,r,s){return f(),O("button",{"data-testid":"dropdown-item",class:"dropdown__item",onClick:e[0]||(e[0]=(...n)=>t.handleOnClick&&t.handleOnClick(...n))},[w(t.$slots,"default",{},()=>[T(A(t.text),1)])])}const ve=N(pe,[["render",fe]]);var me=W,j=me.createSVGComponent(j,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),he=j;const we=he;var ge=W,x=ge.createSVGComponent(x,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),ye=x;const _e=ye,z=Symbol("DropdownTree"),be=I({components:{DropdownItem:ve,IconNext:we,IconBack:_e},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{slots:e,emit:o}){var p;const a=V(z,void 0,!0),r=Y("slide-left"),s=D(()=>a===void 0),n=(p=a==null?void 0:a.tree)!=null?p:J({_level:0,slots:e}),i=()=>{n.value={_level:n.value._level+1,prev:n.value,slots:e}},l=()=>{n.value.prev&&(n.value=n.value.prev)},d=D(()=>n.value.slots.default),v=D(()=>Boolean(s.value&&n.value.prev));L(n,(m,C)=>{r.value=m._level>C._level?"slide-left":"slide-right"}),s.value&&U(z,{tree:n,next:i,back:l});function c(){s.value&&(n.value={prev:void 0,_level:0,slots:e})}function u(){const m=new MouseEvent("click");o("click",m),m.defaultPrevented||i()}return{isRoot:s,tree:n,view:d,next:i,back:l,reset:c,canBack:v,transition:r,handleOnClick:u}}});const ke=F("div",{class:"dropdown__group-content"},null,-1),Ce={class:"dropdown__subitem-content"};function Se(t,e,o,a,r,s){const n=g("IconBack"),i=g("DropdownItem"),l=g("IconNext");return f(),h(G,{name:t.transition,mode:"out-in"},{default:y(()=>[(f(),O("div",{key:t.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[t.canBack?(f(),h(i,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem-btn dropdown__subitem-btn-back",onClick:e[0]||(e[0]=$(d=>t.back(),["prevent"]))},{default:y(()=>[w(t.$slots,"button-back",{},()=>[k(n,{class:"dropdown__subitem-next"}),ke])]),_:3})):B("",!0),t.isRoot?(f(),h(Q(t.view),{key:2})):(f(),h(i,{key:"btn-next",class:"dropdown__subitem-btn",onClick:$(t.handleOnClick,["prevent"])},{default:y(()=>[F("div",Ce,[w(t.$slots,"button-content",{next:t.next,back:t.back},()=>[T(A(t.text),1)])]),t.noCaret?B("",!0):(f(),h(l,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem-next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const De=N(be,[["render",Se]]);/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var $e=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],E=$e.join(","),X=typeof Element>"u",_=X?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,R=!X&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},Be=function(e,o,a){var r=Array.prototype.slice.apply(e.querySelectorAll(E));return o&&_.call(e,E)&&r.unshift(e),r=r.filter(a),r},Ee=function t(e,o,a){for(var r=[],s=Array.from(e);s.length;){var n=s.shift();if(n.tagName==="SLOT"){var i=n.assignedElements(),l=i.length?i:n.children,d=t(l,!0,a);a.flatten?r.push.apply(r,d):r.push({scopeParent:n,candidates:d})}else{var v=_.call(n,E);v&&a.filter(n)&&(o||!e.includes(n))&&r.push(n);var c=n.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(n),u=!a.shadowRootFilter||a.shadowRootFilter(n);if(c&&u){var p=t(c===!0?n.children:c.children,!0,a);a.flatten?r.push.apply(r,p):r.push({scopeParent:n,candidates:p})}else s.unshift.apply(s,n.children)}}return r},Re=function(e){return e.tagName==="INPUT"},Ie=function(e){return Re(e)&&e.type==="hidden"},Ne=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return o},Oe=function(e){for(var o,a=R(e).host,r=!!((o=a)!==null&&o!==void 0&&o.ownerDocument.contains(a)||e.ownerDocument.contains(e));!r&&a;){var s;a=R(a).host,r=!!((s=a)!==null&&s!==void 0&&s.ownerDocument.contains(a))}return r},M=function(e){var o=e.getBoundingClientRect(),a=o.width,r=o.height;return a===0&&r===0},Te=function(e,o){var a=o.displayCheck,r=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=_.call(e,"details>summary:first-of-type"),n=s?e.parentElement:e;if(_.call(n,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof r=="function"){for(var i=e;e;){var l=e.parentElement,d=R(e);if(l&&!l.shadowRoot&&r(l)===!0)return M(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=i}if(Oe(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return M(e);return!1},Ae=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var a=0;a<o.children.length;a++){var r=o.children.item(a);if(r.tagName==="LEGEND")return _.call(o,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}o=o.parentElement}return!1},P=function(e,o){return!(o.disabled||Ie(o)||Te(o,e)||Ne(o)||Ae(o))},Fe=function(e,o){o=o||{};var a;return o.getShadowRoot?a=Ee([e],o.includeContainer,{filter:P.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):a=Be(e,o.includeContainer,P.bind(null,o)),a};function ze(t){function e(r){const s=Fe(t.value),n=s.indexOf(document.activeElement),i=s.at((n+r)%s.length);i!==void 0&&i.focus()}function o(){e(1)}function a(){e(-1)}return{next:o,prev:a}}const Me=I({components:{Button:Z,DropdownGroup:De,IconArrow:ce},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"primary"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(t,{emit:e}){const o=S("dropdown"),a=S("menu"),r=S("wizard"),s=ee(t,"placement"),n=de(t),{next:i,prev:l}=ze(a);function d(){t.disabled||(n.value?c():v())}function v(){t.disabled||(n.value=!0,e("show"))}function c(){t.disabled||(n.value=!1,e("hide"))}return K(a,()=>{n.value&&setTimeout(()=>{c()})},{ignore:[o]}),b("Escape",u=>{const p=u.target;n.value&&(c(),typeof p.blur=="function"&&p.blur())}),b(["ArrowUp"],u=>{u.preventDefault(),n.value&&l()}),b(["ArrowDown"],u=>{u.preventDefault(),n.value&&i()}),b(["Tab"],u=>{u.preventDefault(),n.value&&(u.shiftKey?l():i())}),te(u=>{if(o.value&&a.value){const p=re(o.value,a.value,()=>{se(o.value,a.value,{strategy:"absolute",placement:s.value,middleware:[ie(),le(),ue(8)]}).then(({x:m,y:C,placement:q})=>{a.value&&(a.value.dataset.popperPlacement=q,a.value.style.left=`${m||0}px`,a.value.style.top=`${C||0}px`)})});u(p)}},{flush:"post"}),L(n,u=>{!u&&r.value&&r.value.reset()},{immediate:!0}),U(H,{isOpen:n,toggle:d,open:v,close:c}),{isOpen:n,toggle:d,open:v,close:c}}});const Pe={ref:"menu","data-testid":"dropdown-menu",class:"dropdown__menu"};function Ve(t,e,o,a,r,s){const n=g("IconArrow"),i=g("Button"),l=g("DropdownGroup");return f(),O("div",{ref:"dropdown",class:ne(["dropdown",{"dropdown--open":t.isOpen}]),"data-testid":"dropdown"},[w(t.$slots,"activator",{toggle:t.toggle,open:t.open,close:t.close,isOpen:t.isOpen},()=>[k(i,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:$(t.toggle,["prevent"])},{default:y(()=>[w(t.$slots,"button-content",{},()=>[T(A(t.text),1)]),t.noCaret?B("",!0):(f(),h(n,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),k(G,{name:"fade"},{default:y(()=>[ae(F("div",Pe,[k(l,{ref:"wizard",class:"dropdown__menuContainer"},{default:y(()=>[w(t.$slots,"default")]),_:3},512)],512),[[oe,t.isOpen]])]),_:3})],2)}const Xe=N(Me,[["render",Ve]]);export{Xe as D,ve as a,De as p};
