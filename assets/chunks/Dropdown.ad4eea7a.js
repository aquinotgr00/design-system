import{i as B,x as V,f as O,o as u,c as S,g as v,e as I,y as N,j as K,k as y,z as U,l as R,A as E,r as m,q as f,w as _,B as $,a as g,t as D,h as z,s as X,T as A,C,D as q,E as H,F as h,G as J,d as Q,H as Y,n as Z}from"../app.98882f81.js";import{p as x}from"./Button.50d435cd.js";import{u as P}from"./utils-6ba05f5b.5160683a.js";import{u as ee}from"./use-focus.0e5a5d4b.js";import{a as te,c as oe,f as ne,s as ae,o as se}from"./floating-ui.dom.esm.4e25a8ce.js";import{u as le}from"./index.b7e7b7cb.js";import{I as re}from"./16.ba0af3c7.js";const G=Symbol("DROPDOWN_CONTEXT"),ie=B({props:{text:{type:String,default:""}},emits:["click"],setup(e,{emit:a}){const s=V(G,void 0,!0);function n(l){a("click",l),s!=null&&s.close&&!l.defaultPrevented&&s.close()}return{handleOnClick:n}}});function de(e,a,s,n,l,i){return u(),S("button",{"data-testid":"dropdown-item",class:"dropdown__item",onClick:a[0]||(a[0]=(...t)=>e.handleOnClick&&e.handleOnClick(...t))},[v(e.$slots,"default",{},()=>[I(N(e.text),1)])])}const ue=O(ie,[["render",de]]);var pe=P,M=pe.createSVGComponent(M,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),ce=M;const fe=ce;var ve=P,F=ve.createSVGComponent(F,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),me=F;const _e=me,T=Symbol("DropdownTree"),we=B({components:{DropdownItem:ue,IconNext:fe,IconBack:_e},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:a,emit:s}){const n=V(T,void 0,!0),l=K("slide-left"),i=y(()=>n===void 0),t=(n==null?void 0:n.tree)??U({_level:0,slots:a}),r=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:a}},d=()=>{t.value.prev&&(t.value=t.value.prev)},b=y(()=>t.value.slots.default),k=y(()=>Boolean(i.value&&t.value.prev));R(t,(o,c)=>{l.value=o._level>c._level?"slide-left":"slide-right"}),i.value&&E(T,{tree:t,next:r,back:d});function w(){i.value&&(t.value={prev:void 0,_level:0,slots:a})}function p(){const o=new MouseEvent("click");s("click",o),o.defaultPrevented||r()}return{isRoot:i,tree:t,view:b,next:r,back:d,reset:w,canBack:k,transition:l,handleOnClick:p}}});const be=z("div",{class:"dropdown__group-content"},null,-1),ke={class:"dropdown__subitem__content"};function he(e,a,s,n,l,i){const t=m("IconBack"),r=m("DropdownItem"),d=m("IconNext");return u(),f(A,{name:e.transition,mode:"out-in"},{default:_(()=>[(u(),S("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),f(r,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:a[0]||(a[0]=$(b=>e.back(),["prevent"]))},{default:_(()=>[v(e.$slots,"button-back",{},()=>[g(t,{class:"dropdown__subitem__next"}),be])]),_:3})):D("",!0),e.isRoot?(u(),f(X(e.view),{key:2})):(u(),f(r,{key:"btn-next",class:"dropdown__subitem__btn",onClick:$(e.handleOnClick,["prevent"])},{default:_(()=>[z("div",ke,[v(e.$slots,"button-content",{next:e.next,back:e.back},()=>[I(N(e.text),1)])]),e.noCaret?D("",!0):(u(),f(d,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const ye=O(we,[["render",he]]),ge=B({components:{Button:x,DropdownGroup:ye,IconArrow:re},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:a}){const s=C("dropdown"),n=C("menu"),l=C("wizard"),i=q(e,"placement"),t=le(e),{next:r,prev:d}=ee(n),b=y(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o});function k(){e.disabled||(t.value?p():w())}function w(){e.disabled||(t.value=!0,a("show"))}function p(){e.disabled||(t.value=!1,a("hide"))}return H(n,()=>{t.value&&setTimeout(()=>{p()})},{ignore:[s]}),h("Escape",o=>{const c=o.target;t.value&&(p(),typeof c.blur=="function"&&c.blur())}),h(["ArrowUp"],o=>{o.preventDefault(),t.value&&d()}),h(["ArrowDown"],o=>{o.preventDefault(),t.value&&r()}),h(["Tab"],o=>{o.preventDefault(),t.value&&(o.shiftKey?d():r())}),J(o=>{if(s.value&&n.value){const c=te(s.value,n.value,()=>{oe(s.value,n.value,{strategy:"absolute",placement:i.value,middleware:[ne(),ae(),se(8)]}).then(({x:L,y:W,placement:j})=>{n.value&&(n.value.dataset.popperPlacement=j,n.value.style.left=`${L||0}px`,n.value.style.top=`${W||0}px`)})});o(c)}},{flush:"post"}),R(t,o=>{!o&&l.value&&l.value.reset()},{immediate:!0}),E(G,{isOpen:t,toggle:k,open:w,close:p}),{isOpen:t,classNames:b,toggle:k,open:w,close:p}}});const Ce={ref:"menu","data-testid":"dropdown-menu",class:"dropdown__menu"};function $e(e,a,s,n,l,i){const t=m("IconArrow"),r=m("Button"),d=m("DropdownGroup");return u(),S("div",{ref:"dropdown",class:Z(["dropdown",[{"dropdown--open":e.isOpen},e.classNames]]),"data-testid":"dropdown"},[v(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[g(r,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:$(e.toggle,["prevent"])},{default:_(()=>[v(e.$slots,"button-content",{},()=>[I(N(e.text),1)]),e.noCaret?D("",!0):(u(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),g(A,{name:"fade"},{default:_(()=>[Q(z("div",Ce,[g(d,{ref:"wizard",class:"dropdown__menu-container"},{default:_(()=>[v(e.$slots,"default")]),_:3},512)],512),[[Y,e.isOpen]])]),_:3})],2)}const Te=O(ge,[["render",$e]]);export{Te as D,ue as a,ye as p};
