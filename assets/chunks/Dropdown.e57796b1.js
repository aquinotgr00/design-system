import{t as D,o as Q,f as g}from"./theme.8e6a443b.js";import{p as U}from"./Button.a7efe8a4.js";import{p as X,I as Y,D as Z}from"./Dropdown.vue_vue_type_style_index_0_lang.d600bc8b.js";import{g as N}from"./commonjsHelpers.042e6b4d.js";import{u as V}from"./utils-6ba05f5b.9deb8fd3.js";import{m as A,V as x,r as E,c as _,s as ee,w as T,a1 as R,_ as G,J as m,x as u,A as f,B as v,p as M,a5 as S,q as b,N as h,C as I,G as z,y as j,z as F,Q as te,T as L,t as oe,l as ne,v as $,a7 as ae,a9 as se}from"./framework.303a6298.js";import{u as re}from"./use-focus.f1095479.js";import{A as le,B as ie,a as de,O as ue,L as pe,E as ce}from"./floating-ui.dom.browser.min.a94d243b.js";import{u as fe}from"./index.d1acaa84.js";var me=V,P=me.createSVGComponent(P,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),ve=P;const we=N(ve),O=Symbol("DropdownTree"),_e=A({components:{DropdownItem:X,IconNext:Y,IconBack:we},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:s,emit:i}){var c;const n=x(O,void 0,!0),p=E("slide-left"),d=_(()=>n===void 0),t=(c=n==null?void 0:n.tree)!=null?c:ee({_level:0,slots:s}),a=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:s}},l=()=>{t.value.prev&&(t.value=t.value.prev)},w=_(()=>t.value.slots.default),C=_(()=>!!(d.value&&t.value.prev));T(t,(r,o)=>{p.value=r._level>o._level?"slide-left":"slide-right"}),d.value&&R(O,{tree:t,next:a,back:l});function B(){d.value&&(t.value={prev:void 0,_level:0,slots:s})}function k(){const r=new MouseEvent("click");i("click",r),r.defaultPrevented||a()}return{isRoot:d,tree:t,view:w,next:a,back:l,reset:B,canBack:C,transition:p,handleOnClick:k}}}),be=z("div",{class:"dropdown__group-content"},null,-1),ke={class:"dropdown__subitem__content"};function ye(e,s,i,n,p,d){const t=m("IconBack"),a=m("DropdownItem"),l=m("IconNext");return u(),f(L,{name:e.transition,mode:"out-in"},{default:v(()=>[(u(),M("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),f(a,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=S(w=>e.back(),["prevent"]))},{default:v(()=>[b(e.$slots,"button-back",{},()=>[h(t,{class:"dropdown__subitem__next"}),be])]),_:3})):I("",!0),e.isRoot?(u(),f(te(e.view),{key:2})):(u(),f(a,{key:"btn-next",class:"dropdown__subitem__btn",onClick:S(e.handleOnClick,["prevent"])},{default:v(()=>[z("div",ke,[b(e.$slots,"button-content",{next:e.next,back:e.back},()=>[j(F(e.text),1)])]),e.noCaret?I("",!0):(u(),f(l,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const ge=G(_e,[["render",ye]]);var he=V,H=he.createSVGComponent(H,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"}}]),Ce=H;const Be=N(Ce),De=A({components:{Button:U,DropdownGroup:ge,IconArrow:Be},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:s}){const i=D("dropdown"),n=D("menu"),p=D("wizard"),d=oe(e,"placement"),t=fe(e),a=E(!1),{next:l,prev:w}=re(n),C=_(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o}),B=_(()=>{const o=[""];return e.menuSize&&o.push(`dropdown__menu--${e.menuSize}`),o});function k(){e.disabled||(t.value?r():c())}function c(){e.disabled||(t.value=!0,s("show"))}function r(){e.disabled||(t.value=!1,s("hide"))}return Q(n,()=>{t.value&&setTimeout(()=>{r()})},{ignore:[i]}),g("Escape",o=>{const y=o.target;t.value&&(r(),typeof y.blur=="function"&&y.blur())}),g(["ArrowUp"],o=>{t.value&&(o.preventDefault(),w())}),g(["ArrowDown"],o=>{t.value&&(o.preventDefault(),l())}),g(["Tab"],o=>{t.value&&(o.preventDefault(),o.shiftKey?w():l())}),ne(o=>{if(i.value&&n.value){const y=le(i.value,n.value,()=>{ie(i.value,n.value,{strategy:"absolute",placement:d.value,middleware:[de(),ue(),pe(8),ce()]}).then(({x:K,y:W,placement:q,middlewareData:J})=>{n.value&&(n.value.dataset.popperPlacement=q,n.value.style.left=`${K||0}px`,n.value.style.top=`${W||0}px`,a.value=J.hide.referenceHidden)})});o(y)}},{flush:"post"}),T(t,o=>{!o&&p.value&&p.value.reset()},{immediate:!0}),R(Z,{isOpen:t,toggle:k,open:c,close:r}),{isOpen:t,isHidden:a,classNames:C,containerSize:B,toggle:k,open:c,close:r}}});function $e(e,s,i,n,p,d){const t=m("IconArrow"),a=m("Button"),l=m("DropdownGroup");return u(),M("div",{ref:"dropdown",class:$(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[b(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[h(a,{"data-testid":"dropdown-activator",class:$(["dropdown__activator",e.buttonClass]),variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:S(e.toggle,["prevent"])},{default:v(()=>[b(e.$slots,"button-content",{},()=>[j(F(e.text),1)]),e.noCaret?I("",!0):(u(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled","onClick"])]),h(L,{name:"fade"},{default:v(()=>[ae(z("div",{ref:"menu","data-testid":"dropdown-menu",class:$(["dropdown__menu",[e.menuClass,e.containerSize]])},[h(l,{ref:"wizard",class:"dropdown__menu__container"},{default:v(()=>[b(e.$slots,"default")]),_:3},512)],2),[[se,e.isOpen&&!e.isHidden]])]),_:3})],2)}const Re=G(De,[["render",$e]]);export{Re as D,Be as I,ge as p};
