import{t as C,o as K,a as b}from"./index.734690a2.js";import{B as Z}from"./Button.7cbf5034.js";import{f as E,q as V,_ as I,o as f,c as N,r as h,k as O,t as T,g as x,h as S,s as Y,i as P,x as L,b as g,l as w,w as y,y as D,d as k,p as $,a as A,m as J,T as G,z as Q,A as ee,B as te,n as oe}from"../app.0f0a7ab1.js";import{u as U}from"./utils-6ba05f5b.966f5c87.js";import{u as ae}from"./use-popper.a06417a7.js";import{u as ne}from"./index.36f8c2c5.js";import{I as re}from"./16.f4ca7518.js";const W=Symbol("DROPDOWN_CONTEXT"),ie=E({props:{text:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const o=V(W,void 0,!0);function a(r){e("click",r),(o==null?void 0:o.close)&&!r.defaultPrevented&&o.close()}return{handleOnClick:a}}});function se(t,e,o,a,r,s){return f(),N("button",{"data-testid":"dropdown-item",class:"dropdown__item",onClick:e[0]||(e[0]=(...n)=>t.handleOnClick&&t.handleOnClick(...n))},[h(t.$slots,"default",{},()=>[O(T(t.text),1)])])}const le=I(ie,[["render",se]]);var ue=U,H=ue.createSVGComponent(H,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),de=H;const ce=de;var pe=U,X=pe.createSVGComponent(X,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),fe=X;const ve=fe,F=Symbol("DropdownTree"),me=E({components:{DropdownItem:le,IconNext:ce,IconBack:ve},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{slots:e,emit:o}){var u;const a=V(F,void 0,!0),r=x("slide-left"),s=S(()=>a===void 0),n=(u=a==null?void 0:a.tree)!=null?u:Y({_level:0,slots:e}),i=()=>{n.value={_level:n.value._level+1,prev:n.value,slots:e}},l=()=>{n.value.prev&&(n.value=n.value.prev)},d=S(()=>n.value.slots.default),m=S(()=>Boolean(s.value&&n.value.prev));P(n,(v,q)=>{r.value=v._level>q._level?"slide-left":"slide-right"}),s.value&&L(F,{tree:n,next:i,back:l});function c(){s.value&&(n.value={prev:void 0,_level:0,slots:e})}function p(){const v=new MouseEvent("click");o("click",v),v.defaultPrevented||i()}return{isRoot:s,tree:n,view:d,next:i,back:l,reset:c,canBack:m,transition:r,handleOnClick:p}}});const we=A("div",{class:"dropdown__group-content"},null,-1),he={class:"dropdown__subitem-content"};function ge(t,e,o,a,r,s){const n=g("IconBack"),i=g("DropdownItem"),l=g("IconNext");return f(),w(G,{name:t.transition,mode:"out-in"},{default:y(()=>[(f(),N("div",{key:t.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[t.canBack?(f(),w(i,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem-btn dropdown__subitem-btn-back",onClick:e[0]||(e[0]=D(d=>t.back(),["prevent"]))},{default:y(()=>[h(t.$slots,"button-back",{},()=>[k(n,{class:"dropdown__subitem-next"}),we])]),_:3})):$("",!0),t.isRoot?(f(),w(J(t.view),{key:2})):(f(),w(i,{key:"btn-next",class:"dropdown__subitem-btn",onClick:D(t.handleOnClick,["prevent"])},{default:y(()=>[A("div",he,[h(t.$slots,"button-content",{next:t.next,back:t.back},()=>[O(T(t.text),1)])]),t.noCaret?$("",!0):(f(),w(l,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem-next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const ye=I(me,[["render",ge]]);/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var _e=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],B=_e.join(","),j=typeof Element>"u",_=j?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,R=!j&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},be=function(e,o,a){var r=Array.prototype.slice.apply(e.querySelectorAll(B));return o&&_.call(e,B)&&r.unshift(e),r=r.filter(a),r},ke=function t(e,o,a){for(var r=[],s=Array.from(e);s.length;){var n=s.shift();if(n.tagName==="SLOT"){var i=n.assignedElements(),l=i.length?i:n.children,d=t(l,!0,a);a.flatten?r.push.apply(r,d):r.push({scopeParent:n,candidates:d})}else{var m=_.call(n,B);m&&a.filter(n)&&(o||!e.includes(n))&&r.push(n);var c=n.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(n),p=!a.shadowRootFilter||a.shadowRootFilter(n);if(c&&p){var u=t(c===!0?n.children:c.children,!0,a);a.flatten?r.push.apply(r,u):r.push({scopeParent:n,candidates:u})}else s.unshift.apply(s,n.children)}}return r},Ce=function(e){return e.tagName==="INPUT"},Se=function(e){return Ce(e)&&e.type==="hidden"},De=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return o},$e=function(e){for(var o,a=R(e).host,r=!!((o=a)!==null&&o!==void 0&&o.ownerDocument.contains(a)||e.ownerDocument.contains(e));!r&&a;){var s;a=R(a).host,r=!!((s=a)!==null&&s!==void 0&&s.ownerDocument.contains(a))}return r},z=function(e){var o=e.getBoundingClientRect(),a=o.width,r=o.height;return a===0&&r===0},Be=function(e,o){var a=o.displayCheck,r=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=_.call(e,"details>summary:first-of-type"),n=s?e.parentElement:e;if(_.call(n,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof r=="function"){for(var i=e;e;){var l=e.parentElement,d=R(e);if(l&&!l.shadowRoot&&r(l)===!0)return z(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=i}if($e(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return z(e);return!1},Re=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var a=0;a<o.children.length;a++){var r=o.children.item(a);if(r.tagName==="LEGEND")return _.call(o,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}o=o.parentElement}return!1},M=function(e,o){return!(o.disabled||Se(o)||Be(o,e)||De(o)||Re(o))},Ee=function(e,o){o=o||{};var a;return o.getShadowRoot?a=ke([e],o.includeContainer,{filter:M.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):a=be(e,o.includeContainer,M.bind(null,o)),a};function Ie(t){function e(r){const s=Ee(t.value),n=s.indexOf(document.activeElement),i=s.at((n+r)%s.length);i!==void 0&&i.focus()}function o(){e(1)}function a(){e(-1)}return{next:o,prev:a}}const Ne=E({components:{Button:Z,DropdownGroup:ye,IconArrow:re},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"primary"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(t,{emit:e}){const o=C("dropdown"),a=C("menu"),r=C("wizard"),s=Q(t,"placement"),n=ae(o,a,s),i=ne(t),{next:l,prev:d}=Ie(a);function m(){t.disabled||(i.value?p():c())}function c(){t.disabled||(i.value=!0,e("show"))}function p(){t.disabled||(i.value=!1,e("hide"))}return K(a,()=>{i.value&&setTimeout(()=>{p()})},{ignore:[o]}),b("Escape",u=>{const v=u.target;i.value&&(p(),typeof v.blur=="function"&&v.blur())}),b(["ArrowUp"],u=>{u.preventDefault(),i.value&&d()}),b(["ArrowDown"],u=>{u.preventDefault(),i.value&&l()}),b(["Tab"],u=>{u.preventDefault(),i.value&&(u.shiftKey?d():l())}),P(i,u=>{u&&n.value?n.value.update():r.value&&r.value.reset()},{immediate:!0}),L(W,{isOpen:i,toggle:m,open:c,close:p}),{isOpen:i,toggle:m,open:c,close:p}}});const Oe={ref:"menu","data-testid":"dropdown-menu",class:"dropdown__menu"};function Te(t,e,o,a,r,s){const n=g("IconArrow"),i=g("Button"),l=g("DropdownGroup");return f(),N("div",{ref:"dropdown",class:oe(["dropdown",{"dropdown--open":t.isOpen}]),"data-testid":"dropdown"},[h(t.$slots,"activator",{toggle:t.toggle,open:t.open,close:t.close,isOpen:t.isOpen},()=>[k(i,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:D(t.toggle,["prevent"])},{default:y(()=>[h(t.$slots,"button-content",{},()=>[O(T(t.text),1)]),t.noCaret?$("",!0):(f(),w(n,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),k(G,{name:"fade"},{default:y(()=>[ee(A("div",Oe,[k(l,{ref:"wizard",class:"dropdown__menuContainer"},{default:y(()=>[h(t.$slots,"default")]),_:3},512)],512),[[te,t.isOpen]])]),_:3})],2)}const Ge=I(Ne,[["render",Te]]);export{Ge as D,le as a,ye as p};
