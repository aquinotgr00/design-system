import{p as O}from"./Button.43a77af2.js";import{p as $}from"./Select.d5b8031c.js";import{I as M,a as z}from"./20.5aa92585.js";import{u as q}from"./index.800b94f2.js";import{f as N,l as g,d as A,w as T,_ as E,D as w,o as i,c as f,a as p,t as u,G as C,r as P,A as c,B as k,C as y,F as S,N as j,n as F}from"./framework.6feb5f37.js";const h="...",L=5;function b(e,a){const s=a-e+1;return Array.from({length:s},(t,r)=>r+e)}function G(e){const a=Math.floor((e-L)/2),t=2*a+L-2;return{totalSiblings:a,totalPageDisplay:t}}function J(e,a,s){const{totalSiblings:t,totalPageDisplay:r}=G(s),l=Math.max(e-t,1),n=Math.min(e+t,a),d=l>2,v=n<=a-2;if(d&&!v){const m=b(a-r+1,a);return[1,h,...m]}if(!d&&v)return[...b(1,r),h,a];if(d&&v){const m=b(l,n);return[1,h,...m,h,a]}}function U(e){const a=N(e,"modelValue"),s=N(e,"perPage"),t=N(e,"total"),r=N(e,"displayLimit"),l=g(()=>t.value<=0?0:Math.ceil(t.value/s.value)),n=g(()=>[t.value===0?0:(a.value-1)*s.value+1,a.value*s.value>t.value?t.value:a.value*s.value]),d=g(()=>l.value===0||r.value<L?[]:l.value===1?[1]:r.value>=l.value?b(1,l.value):J(a.value,l.value,r.value)),v=g(()=>a.value!==l.value),m=g(()=>a.value!==1);return{pageItems:d,rowRange:n,totalPageCount:l,canNext:v,canPrev:m}}const H=A({components:{IconPrev:M,Button:O,IconNext:z,Select:$},props:{modelValue:{type:Number,default:1},quickJump:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!1},showPerPage:{type:Boolean,default:!1},showDetail:{type:Boolean,default:!1},navigationText:{type:Boolean,default:!1},navigationOnly:{type:Boolean,default:!1},variant:{type:String,default:"short"},perPage:{type:Number,default:10},perPageOptions:{type:Array,default:()=>[10,20,30]},total:{type:Number,default:0},displayLimit:{type:Number,default:10},pageLabel:{type:String,default:"Page"},prevNavLabel:{type:String,default:"Previous"},nextNavLabel:{type:String,default:"Next"},firstNavLabel:{type:String,default:"First"},lastNavLabel:{type:String,default:"Last"},showRowsLabel:{type:String,default:"Show rows"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","update:perPage","change"],setup(e,{emit:a}){const s=g(()=>{const o=["pagination"];return e.navigationOnly&&o.push("pagination--navonly"),o}),t=q(e),{pageItems:r,rowRange:l,totalPageCount:n,canNext:d,canPrev:v}=U(e),m=g(()=>b(1,n.value).map(o=>({text:String(o),value:o}))),V=g(()=>e.perPageOptions.map(o=>({text:String(o),value:o}))),B=g({get(){return e.perPage},set(o){a("update:perPage",o)}});T(n,o=>{t.value>o&&(t.value=o)});function R(){t.value=Math.min(t.value+1,n.value),a("change",t.value)}function I(){t.value=Math.max(t.value-1,1),a("change",t.value)}function D(o){typeof o!="string"&&t.value!==o&&(t.value=o,a("change",o))}return{model:t,classNames:s,pageOptions:m,rowPerPageOptions:V,pageItems:r,rowRange:l,totalPageCount:n,rowPerPage:B,canNext:d,canPrev:v,selectPage:D,next:R,prev:I}}});const K={key:0,class:"pagination__quickjump","data-testid":"pagination-quickjump"},Q={key:1,class:"pagination__items"},W={key:2,class:"pagination__count","data-testid":"pagination-count"},X={key:3,class:"pagination__options","data-testid":"pagination-option"};function Y(e,a){const s=w("Select"),t=w("Button"),r=w("IconPrev"),l=w("IconNext");return i(),f("div",{"data-testid":"pagination",class:F(e.classNames)},[e.quickJump?(i(),f("div",K,[p(u(e.pageLabel)+" ",1),C(s,{modelValue:e.model,"onUpdate:modelValue":a[0]||(a[0]=n=>e.model=n),options:e.pageOptions,onChange:a[1]||(a[1]=({value:n})=>e.selectPage(n))},null,8,["modelValue","options"]),P(e.$slots,"quick-jump-count",{total:e.totalPageCount},()=>[p(" of "+u(e.totalPageCount),1)])])):(i(),f("nav",Q,[e.variant==="far"?(i(),c(t,{key:0,"data-testid":"pagination-nav-first",variant:"solid",size:"sm",disabled:!e.canPrev,class:"pagination__items__nav-first",icon:"",onClick:a[2]||(a[2]=n=>e.selectPage(1))},{default:k(()=>[P(e.$slots,"first-navigation",{},()=>[p(u(e.firstNavLabel),1)])]),_:3},8,["disabled"])):y("",!0),e.variant==="short"||e.variant==="far"?(i(),c(t,{key:1,"data-testid":"pagination-nav-prev",variant:"solid",size:"sm",disabled:!e.canPrev,class:"pagination__items__nav-prev",icon:"",onClick:e.prev},{default:k(()=>[P(e.$slots,"prev-navigation",{},()=>[e.navigationText?(i(),f(S,{key:0},[p(u(e.prevNavLabel),1)],64)):(i(),c(r,{key:1}))])]),_:3},8,["disabled","onClick"])):y("",!0),e.navigationOnly?y("",!0):(i(!0),f(S,{key:2},j(e.pageItems,(n,d)=>(i(),c(t,{key:d,"data-testid":"pagination-item",variant:"solid",size:"sm",icon:"",readonly:typeof n=="string",active:n===e.model,onClick:v=>e.selectPage(n)},{default:k(()=>[p(u(n),1)]),_:2},1032,["readonly","active","onClick"]))),128)),e.variant==="short"||e.variant==="far"?(i(),c(t,{key:3,"data-testid":"pagination-nav-next",variant:"solid",size:"sm",disabled:!e.canNext,class:"pagination__items__nav-next",icon:"",onClick:e.next},{default:k(()=>[P(e.$slots,"next-navigation",{},()=>[e.navigationText?(i(),f(S,{key:0},[p(u(e.nextNavLabel),1)],64)):(i(),c(l,{key:1}))])]),_:3},8,["disabled","onClick"])):y("",!0),e.variant==="far"?(i(),c(t,{key:4,"data-testid":"pagination-nav-last",variant:"solid",size:"sm",disabled:!e.canNext,class:"pagination__items__nav-last",icon:"",onClick:a[3]||(a[3]=n=>e.selectPage(e.totalPageCount))},{default:k(()=>[P(e.$slots,"last-navigation",{},()=>[p(u(e.lastNavLabel),1)])]),_:3},8,["disabled"])):y("",!0)])),e.showCounter||e.showDetail?(i(),f("div",W,[P(e.$slots,"pagination-count",{range:e.rowRange,total:e.total},()=>[p(u(e.rowRange[0])+" - "+u(e.rowRange[1])+" of "+u(e.total),1)])])):y("",!0),e.showPerPage||e.showDetail?(i(),f("div",X,[p(u(e.showRowsLabel)+" ",1),C(s,{modelValue:e.rowPerPage,"onUpdate:modelValue":a[4]||(a[4]=n=>e.rowPerPage=n),options:e.rowPerPageOptions},null,8,["modelValue","options"])])):y("",!0)],2)}const te=E(H,[["render",Y]]);export{te as p};
