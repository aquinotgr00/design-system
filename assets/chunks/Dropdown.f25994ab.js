import{t as C,o as K,a as b}from"./index.734690a2.js";import{B as Z}from"./Button.7cbf5034.js";import{f as B,q as V,_ as I,o as v,c as E,r as h,k as O,t as T,g as x,h as S,s as Y,i as L,x as P,b as g,l as w,w as y,y as D,d as k,p as $,a as N,m as J,T as G,z as Q,A as ee,B as te,n as oe}from"../app.0f0a7ab1.js";import{u as U}from"./utils-6ba05f5b.966f5c87.js";import{u as ne}from"./use-popper.a06417a7.js";import{u as ae}from"./index.36f8c2c5.js";import{I as re}from"./16.f4ca7518.js";const H=Symbol("DROPDOWN_CONTEXT"),ie=B({props:{text:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const o=V(H,void 0,!0);function n(r){e("click",r),(o==null?void 0:o.close)&&!r.defaultPrevented&&o.close()}return{handleOnClick:n}}});function se(t,e,o,n,r,s){return v(),E("button",{"data-testid":"dropdown-item",class:"dropdown__item",onClick:e[0]||(e[0]=(...a)=>t.handleOnClick&&t.handleOnClick(...a))},[h(t.$slots,"default",{},()=>[O(T(t.text),1)])])}const le=I(ie,[["render",se]]);var de=U,W=de.createSVGComponent(W,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),ue=W;const ce=ue;var pe=U,X=pe.createSVGComponent(X,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),fe=X;const ve=fe,A=Symbol("DropdownTree"),me=B({components:{DropdownItem:le,IconNext:ce,IconBack:ve},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{slots:e,emit:o}){var l;const n=V(A,void 0,!0),r=x("slide-left"),s=S(()=>n===void 0),a=(l=n==null?void 0:n.tree)!=null?l:Y({_level:0,slots:e}),i=()=>{a.value={_level:a.value._level+1,prev:a.value,slots:e}},d=()=>{a.value.prev&&(a.value=a.value.prev)},p=S(()=>a.value.slots.default),u=S(()=>Boolean(s.value&&a.value.prev));L(a,(m,q)=>{r.value=m._level>q._level?"slide-left":"slide-right"}),s.value&&P(A,{tree:a,next:i,back:d});function c(){s.value&&(a.value={prev:void 0,_level:0,slots:e})}function f(){const m=new MouseEvent("click");o("click",m),m.defaultPrevented||i()}return{isRoot:s,tree:a,view:p,next:i,back:d,reset:c,canBack:u,transition:r,handleOnClick:f}}});const we=N("div",{class:"dropdown__group-content"},null,-1),he={class:"dropdown__subitem-content"};function ge(t,e,o,n,r,s){const a=g("IconBack"),i=g("DropdownItem"),d=g("IconNext");return v(),w(G,{name:t.transition,mode:"out-in"},{default:y(()=>[(v(),E("div",{key:t.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[t.canBack?(v(),w(i,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem-btn dropdown__subitem-btn-back",onClick:e[0]||(e[0]=D(p=>t.back(),["prevent"]))},{default:y(()=>[h(t.$slots,"button-back",{},()=>[k(a,{class:"dropdown__subitem-next"}),we])]),_:3})):$("",!0),t.isRoot?(v(),w(J(t.view),{key:2})):(v(),w(i,{key:"btn-next",class:"dropdown__subitem-btn",onClick:D(t.handleOnClick,["prevent"])},{default:y(()=>[N("div",he,[h(t.$slots,"button-content",{next:t.next,back:t.back},()=>[O(T(t.text),1)])]),t.noCaret?$("",!0):(v(),w(d,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem-next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const ye=I(me,[["render",ge]]);/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var _e=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],R=_e.join(","),j=typeof Element>"u",_=j?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,F=!j&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},be=function(e,o,n){var r=Array.prototype.slice.apply(e.querySelectorAll(R));return o&&_.call(e,R)&&r.unshift(e),r=r.filter(n),r},ke=function t(e,o,n){for(var r=[],s=Array.from(e);s.length;){var a=s.shift();if(a.tagName==="SLOT"){var i=a.assignedElements(),d=i.length?i:a.children,p=t(d,!0,n);n.flatten?r.push.apply(r,p):r.push({scope:a,candidates:p})}else{var u=_.call(a,R);u&&n.filter(a)&&(o||!e.includes(a))&&r.push(a);var c=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),f=!n.shadowRootFilter||n.shadowRootFilter(a);if(c&&f){var l=t(c===!0?a.children:c.children,!0,n);n.flatten?r.push.apply(r,l):r.push({scope:a,candidates:l})}else s.unshift.apply(s,a.children)}}return r},Ce=function(e){return e.tagName==="INPUT"},Se=function(e){return Ce(e)&&e.type==="hidden"},De=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return o},z=function(e){var o=e.getBoundingClientRect(),n=o.width,r=o.height;return n===0&&r===0},$e=function(e,o){var n=o.displayCheck,r=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=_.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(_.call(a,"details:not([open]) *"))return!0;var i=F(e).host,d=(i==null?void 0:i.ownerDocument.contains(i))||e.ownerDocument.contains(e);if(!n||n==="full"){if(typeof r=="function"){for(var p=e;e;){var u=e.parentElement,c=F(e);if(u&&!u.shadowRoot&&r(u)===!0)return z(e);e.assignedSlot?e=e.assignedSlot:!u&&c!==e.ownerDocument?e=c.host:e=u}e=p}if(d)return!e.getClientRects().length}else if(n==="non-zero-area")return z(e);return!1},Re=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var n=0;n<o.children.length;n++){var r=o.children.item(n);if(r.tagName==="LEGEND")return _.call(o,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}o=o.parentElement}return!1},M=function(e,o){return!(o.disabled||Se(o)||$e(o,e)||De(o)||Re(o))},Be=function(e,o){o=o||{};var n;return o.getShadowRoot?n=ke([e],o.includeContainer,{filter:M.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):n=be(e,o.includeContainer,M.bind(null,o)),n};function Ie(t){function e(r){const s=Be(t.value),a=s.indexOf(document.activeElement),i=s.at((a+r)%s.length);i!==void 0&&i.focus()}function o(){e(1)}function n(){e(-1)}return{next:o,prev:n}}const Ee=B({components:{Button:Z,DropdownGroup:ye,IconArrow:re},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"primary"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(t,{emit:e}){const o=C("dropdown"),n=C("menu"),r=C("wizard"),s=Q(t,"placement"),a=ne(o,n,s),i=ae(t),{next:d,prev:p}=Ie(n);function u(){t.disabled||(i.value?f():c())}function c(){t.disabled||(i.value=!0,e("show"))}function f(){t.disabled||(i.value=!1,e("hide"))}return K(n,()=>{i.value&&setTimeout(()=>{f()})},{ignore:[o]}),b("Escape",l=>{const m=l.target;i.value&&(f(),typeof m.blur=="function"&&m.blur())}),b(["ArrowUp"],l=>{l.preventDefault(),i.value&&p()}),b(["ArrowDown"],l=>{l.preventDefault(),i.value&&d()}),b(["Tab"],l=>{l.preventDefault(),i.value&&(l.shiftKey?p():d())}),L(i,l=>{l&&a.value?a.value.update():r.value&&r.value.reset()},{immediate:!0}),P(H,{isOpen:i,toggle:u,open:c,close:f}),{isOpen:i,toggle:u,open:c,close:f}}});const Oe={ref:"menu","data-testid":"dropdown-menu",class:"dropdown__menu"};function Te(t,e,o,n,r,s){const a=g("IconArrow"),i=g("Button"),d=g("DropdownGroup");return v(),E("div",{ref:"dropdown",class:oe(["dropdown",{"dropdown--open":t.isOpen}]),"data-testid":"dropdown"},[h(t.$slots,"activator",{toggle:t.toggle,open:t.open,close:t.close,isOpen:t.isOpen},()=>[k(i,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:D(t.toggle,["prevent"])},{default:y(()=>[h(t.$slots,"button-content",{},()=>[O(T(t.text),1)]),t.noCaret?$("",!0):(v(),w(a,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),k(G,{name:"fade"},{default:y(()=>[ee(N("div",Oe,[k(d,{ref:"wizard",class:"dropdown__menuContainer"},{default:y(()=>[h(t.$slots,"default")]),_:3},512)],512),[[te,t.isOpen]])]),_:3})],2)}const Pe=I(Ee,[["render",Te]]);export{Pe as D,le as a,ye as p};
