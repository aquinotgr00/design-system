import{t as D,o as j,f as y}from"./theme.593b2b39.js";import{p as K}from"./Button.110514ba.js";import{p as L,I as W,D as q}from"./Dropdown.vue_vue_type_style_index_0_lang.03ae853c.js";import{g as H}from"./commonjsHelpers.042e6b4d.js";import{u as J}from"./utils-6ba05f5b.5b33f0d1.js";import{m as N,$ as U,r as X,c as g,s as Q,w as z,a0 as V,_ as R,K as m,x as u,H as f,I as v,p as T,a5 as B,q as _,M as h,J as $,F as I,y as E,z as A,R as Y,T as F,t as Z,l as x,a7 as ee,a9 as te,v as O}from"./framework.0401cdf8.js";import{u as oe}from"./use-focus.ae494a4f.js";import{z as ae,k as ne,b as se,a as le,D as re}from"./floating-ui.dom.browser.min.62fdc80a.js";import{u as de}from"./index.985ed991.js";import{I as ie}from"./16.82ebd9ac.js";var ue=J,M=ue.createSVGComponent(M,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),pe=M;const ce=H(pe),S=Symbol("DropdownTree"),fe=N({components:{DropdownItem:L,IconNext:W,IconBack:ce},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:s,emit:d}){var o;const a=U(S,void 0,!0),p=X("slide-left"),i=g(()=>a===void 0),t=(o=a==null?void 0:a.tree)!=null?o:Q({_level:0,slots:s}),n=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:s}},l=()=>{t.value.prev&&(t.value=t.value.prev)},b=g(()=>t.value.slots.default),k=g(()=>!!(i.value&&t.value.prev));z(t,(r,C)=>{p.value=r._level>C._level?"slide-left":"slide-right"}),i.value&&V(S,{tree:t,next:n,back:l});function w(){i.value&&(t.value={prev:void 0,_level:0,slots:s})}function c(){const r=new MouseEvent("click");d("click",r),r.defaultPrevented||n()}return{isRoot:i,tree:t,view:b,next:n,back:l,reset:w,canBack:k,transition:p,handleOnClick:c}}}),me=I("div",{class:"dropdown__group-content"},null,-1),ve={class:"dropdown__subitem__content"};function we(e,s,d,a,p,i){const t=m("IconBack"),n=m("DropdownItem"),l=m("IconNext");return u(),f(F,{name:e.transition,mode:"out-in"},{default:v(()=>[(u(),T("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),f(n,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=B(b=>e.back(),["prevent"]))},{default:v(()=>[_(e.$slots,"button-back",{},()=>[h(t,{class:"dropdown__subitem__next"}),me])]),_:3})):$("",!0),e.isRoot?(u(),f(Y(e.view),{key:2})):(u(),f(n,{key:"btn-next",class:"dropdown__subitem__btn",onClick:B(e.handleOnClick,["prevent"])},{default:v(()=>[I("div",ve,[_(e.$slots,"button-content",{next:e.next,back:e.back},()=>[E(A(e.text),1)])]),e.noCaret?$("",!0):(u(),f(l,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const _e=R(fe,[["render",we]]),be=N({components:{Button:K,DropdownGroup:_e,IconArrow:ie},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:s}){const d=D("dropdown"),a=D("menu"),p=D("wizard"),i=Z(e,"placement"),t=de(e),{next:n,prev:l}=oe(a),b=g(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o});function k(){e.disabled||(t.value?c():w())}function w(){e.disabled||(t.value=!0,s("show"))}function c(){e.disabled||(t.value=!1,s("hide"))}return j(a,()=>{t.value&&setTimeout(()=>{c()})},{ignore:[d]}),y("Escape",o=>{const r=o.target;t.value&&(c(),typeof r.blur=="function"&&r.blur())}),y(["ArrowUp"],o=>{t.value&&(o.preventDefault(),l())}),y(["ArrowDown"],o=>{t.value&&(o.preventDefault(),n())}),y(["Tab"],o=>{t.value&&(o.preventDefault(),o.shiftKey?l():n())}),x(o=>{if(d.value&&a.value){const r=ae(d.value,a.value,()=>{ne(d.value,a.value,{strategy:"absolute",placement:i.value,middleware:[se(),le(),re(8)]}).then(({x:C,y:G,placement:P})=>{a.value&&(a.value.dataset.popperPlacement=P,a.value.style.left=`${C||0}px`,a.value.style.top=`${G||0}px`)})});o(r)}},{flush:"post"}),z(t,o=>{!o&&p.value&&p.value.reset()},{immediate:!0}),V(q,{isOpen:t,toggle:k,open:w,close:c}),{isOpen:t,classNames:b,toggle:k,open:w,close:c}}});function ke(e,s,d,a,p,i){const t=m("IconArrow"),n=m("Button"),l=m("DropdownGroup");return u(),T("div",{ref:"dropdown",class:O(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[_(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[h(n,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:B(e.toggle,["prevent"])},{default:v(()=>[_(e.$slots,"button-content",{},()=>[E(A(e.text),1)]),e.noCaret?$("",!0):(u(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),h(F,{name:"fade"},{default:v(()=>[ee(I("div",{ref:"menu","data-testid":"dropdown-menu",class:O(["dropdown__menu",e.menuClass])},[h(l,{ref:"wizard",class:"dropdown__menu__container"},{default:v(()=>[_(e.$slots,"default")]),_:3},512)],2),[[te,e.isOpen]])]),_:3})],2)}const Ne=R(be,[["render",ke]]);export{Ne as D,_e as p};
