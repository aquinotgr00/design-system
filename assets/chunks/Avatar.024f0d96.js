import{d as u,c as l,a as f}from"./create-image.28dfb74f.js";import{l as v}from"./load-image.265b152a.js";import{m as g,r as y,c,w as S,o as _,_ as h,x as A,p as $,q as p,F as k,v as d}from"./framework.e0781a45.js";import"./Avatar.vue_vue_type_style_index_0_lang.4ed993c7.js";const z=g({props:{variant:{type:String,default:void 0},src:{type:String,default:void 0},fallbackSrc:{type:String,default:u()},name:{type:String,default:void 0},size:{type:String,default:"md"},imgClass:{type:[String,Array,Object],default:void 0}},emits:["imgloaded","imgerror"],setup(a,{emit:r}){const e=y(l(50)),n=c(()=>{const t=["avatar"];return a.size&&t.push(`avatar--${a.size}`),t}),s=c(()=>a.variant?a.variant:!a.src&&a.name?"alias":"image");function i(){s.value==="alias"?o():m()}function m(){e.value=l(50),v(a.src).then(()=>{e.value=a.src,r("imgloaded",a.src)}).catch(t=>{e.value=a.fallbackSrc,r("imgerror",t)})}function o(){e.value=f(a.name)}return S(()=>[a.src,a.name,a.variant],()=>{i()}),_(()=>{i()}),{classNames:n,type:s,imageSrc:e}}}),C=["data-type","src"];function b(a,r,e,n,s,i){return A(),$("div",{"data-testid":"avatar",class:d(a.classNames)},[p(a.$slots,"default",{},()=>[k("img",{"data-testid":"avatar-image",class:d(["avatar__image",a.imgClass]),"data-type":a.type,src:a.imageSrc,alt:"Avatar Image"},null,10,C)])],2)}const j=h(z,[["render",b]]);export{j as p};
