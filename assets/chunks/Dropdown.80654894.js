import{t as D,o as W,c as y}from"./index.f6017335.js";import{p as X}from"./Button.00c4db0e.js";import{p as Z,I as q,D as H}from"./Dropdown.vue_vue_type_style_index_0_lang.a4349bf7.js";import{g as O}from"./commonjsHelpers.042e6b4d.js";import{u as N}from"./utils-6ba05f5b.0166e5c7.js";import{d as V,U as J,j as Q,l as _,Z as Y,w as A,V as T,_ as E,D as m,o as u,A as f,B as v,c as R,a2 as $,r as b,G as h,C as S,z as I,a as G,t as j,K as x,T as M,f as ee,k as te,n as B,a4 as oe,a8 as ne}from"./framework.1cabf72c.js";import{u as ae}from"./use-focus.f1095479.js";import{A as se,B as re,a as le,O as ie,L as de}from"./floating-ui.dom.browser.min.a94d243b.js";import{u as ue}from"./index.69675e13.js";var pe=N,F=pe.createSVGComponent(F,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),ce=F;const fe=O(ce),z=Symbol("DropdownTree"),me=V({components:{DropdownItem:Z,IconNext:q,IconBack:fe},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:s,emit:l}){var d;const n=J(z,void 0,!0),p=Q("slide-left"),i=_(()=>n===void 0),t=(d=n==null?void 0:n.tree)!=null?d:Y({_level:0,slots:s}),a=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:s}},r=()=>{t.value.prev&&(t.value=t.value.prev)},k=_(()=>t.value.slots.default),C=_(()=>!!(i.value&&t.value.prev));A(t,(o,c)=>{p.value=o._level>c._level?"slide-left":"slide-right"}),i.value&&T(z,{tree:t,next:a,back:r});function g(){i.value&&(t.value={prev:void 0,_level:0,slots:s})}function w(){const o=new MouseEvent("click");l("click",o),o.defaultPrevented||a()}return{isRoot:i,tree:t,view:k,next:a,back:r,reset:g,canBack:C,transition:p,handleOnClick:w}}}),ve=I("div",{class:"dropdown__group-content"},null,-1),we={class:"dropdown__subitem__content"};function _e(e,s,l,n,p,i){const t=m("IconBack"),a=m("DropdownItem"),r=m("IconNext");return u(),f(M,{name:e.transition,mode:"out-in"},{default:v(()=>[(u(),R("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),f(a,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=$(k=>e.back(),["prevent"]))},{default:v(()=>[b(e.$slots,"button-back",{},()=>[h(t,{class:"dropdown__subitem__next"}),ve])]),_:3})):S("",!0),e.isRoot?(u(),f(x(e.view),{key:2})):(u(),f(a,{key:"btn-next",class:"dropdown__subitem__btn",onClick:$(e.handleOnClick,["prevent"])},{default:v(()=>[I("div",we,[b(e.$slots,"button-content",{next:e.next,back:e.back},()=>[G(j(e.text),1)])]),e.noCaret?S("",!0):(u(),f(r,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const be=E(me,[["render",_e]]);var ke=N,L=ke.createSVGComponent(L,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"}}]),ge=L;const ye=O(ge),he=V({components:{Button:X,DropdownGroup:be,IconArrow:ye},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:s}){const l=D("dropdown"),n=D("menu"),p=D("wizard"),i=ee(e,"placement"),t=ue(e),{next:a,prev:r}=ae(n),k=_(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o}),C=_(()=>{const o=[""];return e.menuSize&&o.push(`dropdown__menu--${e.menuSize}`),o});function g(){e.disabled||(t.value?d():w())}function w(){e.disabled||(t.value=!0,s("show"))}function d(){e.disabled||(t.value=!1,s("hide"))}return W(n,()=>{t.value&&setTimeout(()=>{d()})},{ignore:[l]}),y("Escape",o=>{const c=o.target;t.value&&(d(),typeof c.blur=="function"&&c.blur())}),y(["ArrowUp"],o=>{t.value&&(o.preventDefault(),r())}),y(["ArrowDown"],o=>{t.value&&(o.preventDefault(),a())}),y(["Tab"],o=>{t.value&&(o.preventDefault(),o.shiftKey?r():a())}),te(o=>{if(l.value&&n.value){const c=se(l.value,n.value,()=>{re(l.value,n.value,{strategy:"absolute",placement:i.value,middleware:[le(),ie(),de(8)]}).then(({x:P,y:K,placement:U})=>{n.value&&(n.value.dataset.popperPlacement=U,n.value.style.left=`${P||0}px`,n.value.style.top=`${K||0}px`)})});o(c)}},{flush:"post"}),A(t,o=>{!o&&p.value&&p.value.reset()},{immediate:!0}),T(H,{isOpen:t,toggle:g,open:w,close:d}),{isOpen:t,classNames:k,containerSize:C,toggle:g,open:w,close:d}}});function Ce(e,s,l,n,p,i){const t=m("IconArrow"),a=m("Button"),r=m("DropdownGroup");return u(),R("div",{ref:"dropdown",class:B(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[b(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[h(a,{"data-testid":"dropdown-activator",class:B(["dropdown__activator",e.buttonClass]),variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:$(e.toggle,["prevent"])},{default:v(()=>[b(e.$slots,"button-content",{},()=>[G(j(e.text),1)]),e.noCaret?S("",!0):(u(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled","onClick"])]),h(M,{name:"fade"},{default:v(()=>[oe(I("div",{ref:"menu","data-testid":"dropdown-menu",class:B(["dropdown__menu",[e.menuClass,e.containerSize]])},[h(r,{ref:"wizard",class:"dropdown__menu__container"},{default:v(()=>[b(e.$slots,"default")]),_:3},512)],2),[[ne,e.isOpen]])]),_:3})],2)}const Ae=E(he,[["render",Ce]]);export{Ae as D,ye as I,be as p};
