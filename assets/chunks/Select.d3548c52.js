import{D as T,a as z}from"./Dropdown.dc09e0f6.js";import{d as D,_ as A,M as j,S as q,b as y,a as c,c as p,x as E,r as w,j as i,l as $,h as b,g as f,e as V,k as C,q as S,s as U,n as L,f as k,F as x,p as G}from"../app.f8bfd2bd.js";import{u as P}from"./use-input.23459bf0.js";import{u as N}from"./utils-6ba05f5b.41086faf.js";import{S as R}from"./SpinnerRing.cc0d21cf.js";import{u as H}from"./use-loading.dc2619f0.js";import{i as B}from"./value.b16f1ede.js";import{t as J}from"./index.198b5589.js";import{b as K}from"./index.0877e5a7.js";const Q=D({props:{modelValue:{type:[String,Number],default:""},disabled:{type:Boolean},readonly:{type:Boolean}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){return{value:P(e)}}}),W=["disabled","readonly"];function X(e,a,l,n,r,s){return j((c(),y("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>e.value=d),disabled:e.disabled,readonly:e.readonly,"data-testid":"input",class:"input"},null,8,W)),[[q,e.value]])}var Y=A(Q,[["render",X]]),Z=N,M=Z.createSVGComponent(M,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"}}]),ee=M,te=ee,ae=N,O=ae.createSVGComponent(O,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z"}},{elem:"path",attrs:{d:"M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z","data-icon-path":"inner-path",opacity:"0"}}]),oe=O,se=oe;function le(e){return p(()=>Array.isArray(e.options)?e.options.map(a=>typeof a=="string"?{text:a,value:a}:a):[])}function Ve(e){return e}var ne={setup({props:e,keyword:a}){const l=le(e);return p(()=>l.value.filter(r=>r.text.toLowerCase().includes(a.value.toLowerCase())))}};const re=D({components:{Dropdown:T,DropdownItem:z,Input:Y,IconArrow:te,IconCheck:se,IconLoading:R},props:{modelValue:{type:[String,Number,Boolean,Array,Object,Date],default:""},selected:{type:Object,default:()=>({text:"",value:void 0})},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},emptyText:{type:String,default:"No Data"},loadingText:{type:String,default:"Loading..."},adapter:{type:Object,default:()=>ne},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["change","update:modelValue","update:selected","userInput"],setup(e,{emit:a}){const l=E(),n=w(),r=w(""),s=w(!1),d=H({elapsed:!1}),h={props:e,keyword:r,isOpen:s,isLoading:d},m=e.adapter.setup(h),u=p({get(){var t;return(t=m.value.find(F=>B(F.value,e.modelValue)))!=null?t:{text:"",value:void 0}},set(t){a("change",t),a("update:modelValue",t.value),a("update:selected",t),s.value&&a("userInput",t)}}),g=p(()=>{const t=[];return s.value&&t.push("select--open"),e.disabled&&t.push("select--disabled"),e.readonly&&t.push("select--readonly"),t}),v=p({get(){var t;return s.value?r.value:(t=u.value)==null?void 0:t.text},set(t){t!==v.value&&(r.value=t)}});function o(t){u.value=t}function _(){!e.disabled&&!e.readonly&&(s.value=!0)}function I(t){return B(t.value,u.value.value)}return K(()=>{s.value&&n.value&&n.value!==document.activeElement&&n.value.focus()}),J(()=>{var t;(t=l==null?void 0:l.proxy)!=null&&t.$el&&(n.value=l.proxy.$el.querySelector(".select__search"))}),{classNames:g,model:u,isOpen:s,isLoading:d,search:v,items:m,select:o,onFocus:_,isSelected:I}}}),de={key:0,"data-testid":"select-no-data",class:"select__empty"},ue={class:"select__option"},ie={class:"select__option-text"},ce={key:2,"data-testid":"select-loading",class:"select__loading"};function pe(e,a,l,n,r,s){const d=i("Input"),h=i("IconArrow"),m=i("IconCheck"),u=i("DropdownItem"),g=i("IconLoading"),v=i("Dropdown");return c(),$(v,{modelValue:e.isOpen,"onUpdate:modelValue":a[1]||(a[1]=o=>e.isOpen=o),class:L(["select",e.classNames]),"data-testid":"select","aria-label":"select",disabled:e.disabled},{activator:b(()=>[f(d,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=o=>e.search=o),"data-testid":"select-search",class:"select__search",placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,onFocus:e.onFocus},null,8,["modelValue","placeholder","disabled","readonly","onFocus"]),f(h,{class:"select__caret"})]),default:b(()=>[!e.isLoading&&e.items.length===0?(c(),y("div",de,[V(e.$slots,"empty",{},()=>[C(S(e.emptyText),1)])])):(c(!0),y(x,{key:1},U(e.items,(o,_)=>(c(),$(u,{key:_,"data-testid":"select-item",class:L({selected:e.isSelected(o)}),onClick:I=>e.select(o)},{default:b(()=>[k("div",ue,[k("div",ie,[V(e.$slots,"option",{isSelected:e.isSelected(o),item:o},()=>[C(S(o.text),1)])]),f(m,{class:"select__option-checked"})])]),_:2},1032,["class","onClick"]))),128)),e.isLoading?(c(),y("div",ce,[f(g,{width:"14",height:"14"}),V(e.$slots,"loading",{},()=>[C(S(e.loadingText),1)])])):G("",!0)]),_:3},8,["modelValue","disabled","class"])}var Ce=A(re,[["render",pe]]);export{Y as I,Ce as S,Ve as d,le as u};
