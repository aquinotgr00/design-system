import{t as D,o as j,a as y}from"./index.2747fdab.js";import{p as q}from"./Button.f3cb1916.js";import{f as N,h as m,z as V,k as I,o as c,q as f,w as v,l as w,e as O,y as S,n as R,s as E,g as H,A as J,i as P,B as A,r as _,c as G,C as $,a as g,t as B,m as z,T as M,D as Q,E as Y,d as Z,G as x}from"../app.390c480a.js";import{u as F}from"./utils-6ba05f5b.6074a229.js";import{u as ee}from"./use-focus.57b9612f.js";import{a as te,c as oe,f as ne,s as ae,o as se}from"./floating-ui.dom.esm.9d13274a.js";import{u as le}from"./index.08555fb1.js";import{I as re}from"./16.00b70311.js";var ie=F,L=ie.createSVGComponent(L,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),de=L;const ue=de,W=Symbol("DROPDOWN_CONTEXT"),ce=N({props:{text:{type:String,default:""},href:{type:String,default:void 0},active:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:s}){const a=V(W,void 0,!0);function o(t){s("click",t),(a!=null&&a.close&&!t.defaultPrevented||t.defaultPrevented&&e.href)&&a.close()}const i=m(()=>{const t=[""];return e.active&&t.push("dropdown__item--active"),t}),l=m(()=>{let t="button";return e.href&&(t="a"),t});return{handleOnClick:o,classNames:i,tagName:l}}});function pe(e,s,a,o,i,l){return c(),f(E(e.tagName),{"data-testid":"dropdown-item",class:R(["dropdown__item",e.classNames]),href:e.href,onClick:e.handleOnClick},{default:v(()=>[w(e.$slots,"default",{},()=>[O(S(e.text),1)])]),_:3},8,["class","href","onClick"])}const fe=I(ce,[["render",pe]]);var ve=F,K=ve.createSVGComponent(K,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),me=K;const we=me,T=Symbol("DropdownTree"),_e=N({components:{DropdownItem:fe,IconNext:ue,IconBack:we},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:s,emit:a}){var n;const o=V(T,void 0,!0),i=H("slide-left"),l=m(()=>o===void 0),t=(n=o==null?void 0:o.tree)!=null?n:J({_level:0,slots:s}),r=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:s}},d=()=>{t.value.prev&&(t.value=t.value.prev)},b=m(()=>t.value.slots.default),k=m(()=>Boolean(l.value&&t.value.prev));P(t,(u,C)=>{i.value=u._level>C._level?"slide-left":"slide-right"}),l.value&&A(T,{tree:t,next:r,back:d});function h(){l.value&&(t.value={prev:void 0,_level:0,slots:s})}function p(){const u=new MouseEvent("click");a("click",u),u.defaultPrevented||r()}return{isRoot:l,tree:t,view:b,next:r,back:d,reset:h,canBack:k,transition:i,handleOnClick:p}}});const he=z("div",{class:"dropdown__group-content"},null,-1),be={class:"dropdown__subitem__content"};function ke(e,s,a,o,i,l){const t=_("IconBack"),r=_("DropdownItem"),d=_("IconNext");return c(),f(M,{name:e.transition,mode:"out-in"},{default:v(()=>[(c(),G("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(c(),f(r,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=$(b=>e.back(),["prevent"]))},{default:v(()=>[w(e.$slots,"button-back",{},()=>[g(t,{class:"dropdown__subitem__next"}),he])]),_:3})):B("",!0),e.isRoot?(c(),f(E(e.view),{key:2})):(c(),f(r,{key:"btn-next",class:"dropdown__subitem__btn",onClick:$(e.handleOnClick,["prevent"])},{default:v(()=>[z("div",be,[w(e.$slots,"button-content",{next:e.next,back:e.back},()=>[O(S(e.text),1)])]),e.noCaret?B("",!0):(c(),f(d,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const ye=I(_e,[["render",ke]]),ge=N({components:{Button:q,DropdownGroup:ye,IconArrow:re},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:s}){const a=D("dropdown"),o=D("menu"),i=D("wizard"),l=Q(e,"placement"),t=le(e),{next:r,prev:d}=ee(o),b=m(()=>{const n=[""];return e.divider&&n.push("dropdown--divider"),n});function k(){e.disabled||(t.value?p():h())}function h(){e.disabled||(t.value=!0,s("show"))}function p(){e.disabled||(t.value=!1,s("hide"))}return j(o,()=>{t.value&&setTimeout(()=>{p()})},{ignore:[a]}),y("Escape",n=>{const u=n.target;t.value&&(p(),typeof u.blur=="function"&&u.blur())}),y(["ArrowUp"],n=>{n.preventDefault(),t.value&&d()}),y(["ArrowDown"],n=>{n.preventDefault(),t.value&&r()}),y(["Tab"],n=>{n.preventDefault(),t.value&&(n.shiftKey?d():r())}),Y(n=>{if(a.value&&o.value){const u=te(a.value,o.value,()=>{oe(a.value,o.value,{strategy:"absolute",placement:l.value,middleware:[ne(),ae(),se(8)]}).then(({x:C,y:U,placement:X})=>{o.value&&(o.value.dataset.popperPlacement=X,o.value.style.left=`${C||0}px`,o.value.style.top=`${U||0}px`)})});n(u)}},{flush:"post"}),P(t,n=>{!n&&i.value&&i.value.reset()},{immediate:!0}),A(W,{isOpen:t,toggle:k,open:h,close:p}),{isOpen:t,classNames:b,toggle:k,open:h,close:p}}});const Ce={ref:"menu","data-testid":"dropdown-menu",class:"dropdown__menu"};function De(e,s,a,o,i,l){const t=_("IconArrow"),r=_("Button"),d=_("DropdownGroup");return c(),G("div",{ref:"dropdown",class:R(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[w(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[g(r,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:$(e.toggle,["prevent"])},{default:v(()=>[w(e.$slots,"button-content",{},()=>[O(S(e.text),1)]),e.noCaret?B("",!0):(c(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),g(M,{name:"fade"},{default:v(()=>[Z(z("div",Ce,[g(d,{ref:"wizard",class:"dropdown__menu-container"},{default:v(()=>[w(e.$slots,"default")]),_:3},512)],512),[[x,e.isOpen]])]),_:3})],2)}const Ve=I(ge,[["render",De]]);export{Ve as D,ue as I,ye as a,fe as p};
