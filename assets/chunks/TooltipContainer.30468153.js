import{i as _,D as m,C as v,k as y,l as x,G as V,f as h,d as w,H as C,o as p,c as d,h as g,g as k,n as B,j as T,aj as b,r as N,W as j,N as M,O as P,q as U,w as q,aa as D}from"../app.98882f81.js";import{u as E}from"./index.b7e7b7cb.js";import{a as O,c as R,f as z,s as A,o as F,b as G}from"./floating-ui.dom.esm.4e25a8ce.js";import{p as H}from"./index.df6adbc8.js";import{t as I}from"./toString.401226e4.js";import"./browser.9e02169f.js";import"./isObjectLike.46b91259.js";import"./isArray.513c67aa.js";import"./isSymbol.b765f5ee.js";var L=0;function W(e){var r=++L;return I(e)+r}const J=_({props:{modelValue:{type:Boolean,default:!1},color:{type:String,default:"black"},target:{type:Object,default:void 0},placement:{type:String,default:"top"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","show","hide"],setup(e,{emit:r}){const i=E(e),u=m(e,"placement"),l=m(e,"target"),a=v("tooltip"),n=v("arrow"),o=y(()=>{const t=[];return e.color&&t.push(`tooltip--${e.color}`),t});return x(i,t=>{r(t?"show":"hide",l.value)}),V(t=>{if(a.value&&l.value&&n.value){const s=O(l.value,a.value,()=>{R(l.value,a.value,{strategy:"absolute",placement:u.value,middleware:[z(),A(),F(12),G({element:n.value})]}).then(({x:c,y:$,middlewareData:f,placement:S})=>{a.value&&(a.value.dataset.popperPlacement=S,a.value.style.left=`${c||0}px`,a.value.style.top=`${$||0}px`),n.value&&(n.value.style.left=`${f.arrow.x}px`,n.value.style.top=`${f.arrow.y}px`)})});t(s)}},{flush:"post"}),{isShow:i,classNames:o}}});const K={ref:"arrow",class:"tooltip__arrow","data-popper-arrow":""};function Q(e,r,i,u,l,a){return w((p(),d("div",{ref:"tooltip",class:B(["tooltip",e.classNames]),"data-testid":"tooltip"},[g("div",K,null,512),k(e.$slots,"default")],2)),[[C,e.isShow]])}const X=h(J,[["render",Q]]),Y=_({components:{Tooltip:X},directives:{pMd:H},setup(){const e=T(new Map);function r(o){const t=W("tooltip_");return e.value.set(t,b({...o,isShow:!1})),t}function i(o,t){const s=e.value.get(o);s&&(s.target=t.target,s.text=t.text,s.placement=t.placement)}function u(o){e.value.get(o).isShow=!0}function l(o){e.value.get(o).isShow=!1}function a(o){const t=e.value.get(o);t.isShow=!t.isShow}function n(o){e.value.delete(o)}return{items:e,add:r,update:i,show:u,hide:l,toggle:a,remove:n}}}),Z={class:"tooltip-container","data-testid":"tooltip-container"};function ee(e,r,i,u,l,a){const n=N("Tooltip"),o=j("p-md");return p(),d("div",Z,[(p(!0),d(M,null,P(e.items,([t,s])=>(p(),U(n,D({key:t,modelValue:s.isShow,"onUpdate:modelValue":c=>s.isShow=c},s),{default:q(()=>[w(g("span",null,null,512),[[o,s.text,void 0,{inline:!0}]])]),_:2},1040,["modelValue","onUpdate:modelValue"]))),128))])}const pe=h(Y,[["render",ee]]);export{pe as default};
