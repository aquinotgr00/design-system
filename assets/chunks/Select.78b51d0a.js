import{D as F,a as M}from"./Dropdown.92f8f4f5.js";import{d as S,_ as b,L as O,P as z,b as v,a as i,c,r as C,j as d,m as L,h as w,g as m,e as y,y as j,n as I,f as k,x,F as U,s as E,k as B}from"../app.d5253b79.js";import{u as G}from"./use-input.31f090d3.js";import{u as D}from"./utils-6ba05f5b.c0dd792e.js";import{S as P}from"./SpinnerRing.fd383f20.js";import{u as T}from"./use-loading.75d98fdc.js";import{i as $}from"./value.b16f1ede.js";const q=S({props:{modelValue:{type:[String,Number],default:""},disabled:{type:Boolean},readonly:{type:Boolean}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){return{value:G(e)}}});function R(e,o,n,a,l,f){return O((i(),v("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.value=r),"data-testid":"input",class:"input"},null,512)),[[z,e.value]])}var H=b(q,[["render",R]]),J=D,A=J.createSVGComponent(A,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"}}]),K=A,Q=K,W=D,N=W.createSVGComponent(N,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z"}},{elem:"path",attrs:{d:"M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z","data-icon-path":"inner-path",opacity:"0"}}]),X=N,Y=X;function Z(e){return c(()=>Array.isArray(e.options)?e.options.map(o=>typeof o=="string"?{text:o,value:o}:o):[])}function _e(e){return e}var ee={setup({props:e,keyword:o}){const n=Z(e);return c(()=>n.value.filter(l=>l.text.toLocaleLowerCase().includes(o.value.toLocaleLowerCase())))}};const te=S({components:{Dropdown:F,DropdownItem:M,Input:H,IconArrow:Q,IconCheck:Y,IconLoading:P},props:{modelValue:{default:""},selected:{type:Object,default:()=>({text:"",value:void 0})},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},adapter:{type:Object,default:()=>ee},noAutoClose:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","update:selected","userInput"],setup(e,{emit:o}){const n=C(""),a=C(!1),l=T(),f={props:e,keyword:n,isOpen:a,isLoading:l},r=e.adapter.setup(f),u=c({get(){var t;return(t=r.value.find(V=>$(V.value,e.modelValue)))!=null?t:{text:"",value:void 0}},set(t){o("update:modelValue",t.value),o("update:selected",t),a.value&&o("userInput",t)}}),_=c(()=>{const t=[];return a.value&&t.push("select--open"),t}),p=c({get(){var t;return a.value?n.value:(t=u.value)==null?void 0:t.text},set(t){t!==p.value&&(n.value=t)}});function h(t){u.value=t,a.value=e.noAutoClose}function g(){a.value=!0,n.value=""}function s(t){return $(t.value,u.value.value)}return{classNames:_,model:u,isOpen:a,isLoading:l,search:p,items:r,select:h,onFocus:g,isSelected:s}}}),oe={key:0,class:"select__empty"},ae=B(" No Data "),se={class:"select__option"},ne={class:"select__option-text"},le={key:2,class:"select__loading"},re=B(" Loading... ");function ue(e,o,n,a,l,f){const r=d("Input"),u=d("IconArrow"),_=d("IconCheck"),p=d("DropdownItem"),h=d("IconLoading"),g=d("Dropdown");return i(),L(g,{modelValue:e.isOpen,"onUpdate:modelValue":o[1]||(o[1]=s=>e.isOpen=s),class:I(["select",e.classNames]),"data-testid":"select"},{activator:w(()=>[m(r,{modelValue:e.search,"onUpdate:modelValue":o[0]||(o[0]=s=>e.search=s),class:"select__search",placeholder:e.placeholder,disabled:e.disabled,onFocus:e.onFocus},null,8,["modelValue","placeholder","disabled","onFocus"]),m(u,{class:"select__caret"})]),default:w(()=>[!e.isLoading&&e.items.length===0?(i(),v("div",oe,[y(e.$slots,"empty",{},()=>[ae])])):(i(!0),v(U,{key:1},j(e.items,(s,t)=>(i(),L(p,{key:t,class:I({selected:e.isSelected(s)}),onClick:V=>e.select(s)},{default:w(()=>[y(e.$slots,"option",{item:s},()=>[k("div",se,[k("span",ne,x(s.text),1),m(_,{class:"select__option-checked"})])])]),_:2},1032,["class","onClick"]))),128)),e.isLoading?(i(),v("div",le,[y(e.$slots,"loading",{},()=>[m(h,{width:"14",height:"14"}),re])])):E("",!0)]),_:3},8,["modelValue","class"])}var he=b(te,[["render",ue]]);export{H as I,he as S,_e as d,Z as u};
