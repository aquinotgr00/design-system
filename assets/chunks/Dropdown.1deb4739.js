import{t as D,o as K,f as g}from"./theme.593b2b39.js";import{p as L}from"./Button.110514ba.js";import{p as W,I as q,D as H}from"./Dropdown.vue_vue_type_style_index_0_lang.03ae853c.js";import{g as J}from"./commonjsHelpers.042e6b4d.js";import{u as U}from"./utils-6ba05f5b.5b33f0d1.js";import{m as O,$ as X,r as Q,c as _,s as Y,w as N,a0 as V,_ as R,K as m,x as u,H as f,I as v,p as T,a5 as B,q as b,M as h,J as $,F as S,y as E,z as A,R as Z,T as F,t as x,l as ee,a7 as te,a9 as oe,v as I}from"./framework.0401cdf8.js";import{u as ne}from"./use-focus.ae494a4f.js";import{z as ae,k as se,b as le,a as re,D as ie}from"./floating-ui.dom.browser.min.62fdc80a.js";import{u as de}from"./index.985ed991.js";import{I as ue}from"./16.82ebd9ac.js";var pe=U,M=pe.createSVGComponent(M,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),ce=M;const fe=J(ce),z=Symbol("DropdownTree"),me=O({components:{DropdownItem:W,IconNext:q,IconBack:fe},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:s,emit:r}){var d;const n=X(z,void 0,!0),p=Q("slide-left"),i=_(()=>n===void 0),t=(d=n==null?void 0:n.tree)!=null?d:Y({_level:0,slots:s}),a=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:s}},l=()=>{t.value.prev&&(t.value=t.value.prev)},k=_(()=>t.value.slots.default),C=_(()=>!!(i.value&&t.value.prev));N(t,(o,c)=>{p.value=o._level>c._level?"slide-left":"slide-right"}),i.value&&V(z,{tree:t,next:a,back:l});function y(){i.value&&(t.value={prev:void 0,_level:0,slots:s})}function w(){const o=new MouseEvent("click");r("click",o),o.defaultPrevented||a()}return{isRoot:i,tree:t,view:k,next:a,back:l,reset:y,canBack:C,transition:p,handleOnClick:w}}}),ve=S("div",{class:"dropdown__group-content"},null,-1),we={class:"dropdown__subitem__content"};function _e(e,s,r,n,p,i){const t=m("IconBack"),a=m("DropdownItem"),l=m("IconNext");return u(),f(F,{name:e.transition,mode:"out-in"},{default:v(()=>[(u(),T("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),f(a,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=B(k=>e.back(),["prevent"]))},{default:v(()=>[b(e.$slots,"button-back",{},()=>[h(t,{class:"dropdown__subitem__next"}),ve])]),_:3})):$("",!0),e.isRoot?(u(),f(Z(e.view),{key:2})):(u(),f(a,{key:"btn-next",class:"dropdown__subitem__btn",onClick:B(e.handleOnClick,["prevent"])},{default:v(()=>[S("div",we,[b(e.$slots,"button-content",{next:e.next,back:e.back},()=>[E(A(e.text),1)])]),e.noCaret?$("",!0):(u(),f(l,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const be=R(me,[["render",_e]]),ke=O({components:{Button:L,DropdownGroup:be,IconArrow:ue},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:s}){const r=D("dropdown"),n=D("menu"),p=D("wizard"),i=x(e,"placement"),t=de(e),{next:a,prev:l}=ne(n),k=_(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o}),C=_(()=>{const o=[""];return e.menuSize&&o.push(`dropdown__menu--${e.menuSize}`),o});function y(){e.disabled||(t.value?d():w())}function w(){e.disabled||(t.value=!0,s("show"))}function d(){e.disabled||(t.value=!1,s("hide"))}return K(n,()=>{t.value&&setTimeout(()=>{d()})},{ignore:[r]}),g("Escape",o=>{const c=o.target;t.value&&(d(),typeof c.blur=="function"&&c.blur())}),g(["ArrowUp"],o=>{t.value&&(o.preventDefault(),l())}),g(["ArrowDown"],o=>{t.value&&(o.preventDefault(),a())}),g(["Tab"],o=>{t.value&&(o.preventDefault(),o.shiftKey?l():a())}),ee(o=>{if(r.value&&n.value){const c=ae(r.value,n.value,()=>{se(r.value,n.value,{strategy:"absolute",placement:i.value,middleware:[le(),re(),ie(8)]}).then(({x:G,y:P,placement:j})=>{n.value&&(n.value.dataset.popperPlacement=j,n.value.style.left=`${G||0}px`,n.value.style.top=`${P||0}px`)})});o(c)}},{flush:"post"}),N(t,o=>{!o&&p.value&&p.value.reset()},{immediate:!0}),V(H,{isOpen:t,toggle:y,open:w,close:d}),{isOpen:t,classNames:k,containerSize:C,toggle:y,open:w,close:d}}});function ye(e,s,r,n,p,i){const t=m("IconArrow"),a=m("Button"),l=m("DropdownGroup");return u(),T("div",{ref:"dropdown",class:I(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[b(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[h(a,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:B(e.toggle,["prevent"])},{default:v(()=>[b(e.$slots,"button-content",{},()=>[E(A(e.text),1)]),e.noCaret?$("",!0):(u(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),h(F,{name:"fade"},{default:v(()=>[te(S("div",{ref:"menu","data-testid":"dropdown-menu",class:I(["dropdown__menu",[e.menuClass,e.containerSize]])},[h(l,{ref:"wizard",class:"dropdown__menu__container"},{default:v(()=>[b(e.$slots,"default")]),_:3},512)],2),[[oe,e.isOpen]])]),_:3})],2)}const Ne=R(ke,[["render",ye]]);export{Ne as D,be as p};
