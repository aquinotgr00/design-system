import{D as z}from"./Dropdown.254175d1.js";import{p as A}from"./Dropdown.vue_vue_type_style_index_0_lang.5443d310.js";import{p as F}from"./Input.44aac015.js";import{I as O}from"./16.ac452ce6.js";import{g as T}from"./commonjsHelpers.042e6b4d.js";import{u as j}from"./utils-6ba05f5b.e505c784.js";import{p as E}from"./SpinnerRing.2b1e3345.js";import{d as M,u as q}from"./adapter.4e3b6bb9.js";import{l as v,d as G,m as U,j as _,w as P,_ as R,D as i,o as c,A as V,B as w,G as f,c as I,r as C,a as b,t as L,F as x,N as H,n as k,z as D,C as J}from"./framework.e03f6a99.js";import{u as K}from"./use-loading.74cb7505.js";import{i as B}from"./value.830bdabd.js";import{t as Q}from"./index.2d7aa202.js";import{f as W}from"./index.f76bdc21.js";var X=j,N=X.createSVGComponent(N,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z"}},{elem:"path",attrs:{d:"M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z","data-icon-path":"inner-path",opacity:"0"}}]),Y=N;const Z=T(Y),ee=M({setup({props:e,keyword:o}){const l=q(e);return v(()=>l.value.filter(n=>n.text.toLowerCase().includes(o.value.toLowerCase())))}}),te=G({components:{Dropdown:z,DropdownItem:A,Input:F,IconArrow:O,IconCheck:Z,IconLoading:E},props:{modelValue:{type:[String,Number,Boolean,Array,Object,Date],default:""},selected:{type:Object,default:()=>({text:"",value:void 0})},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},emptyText:{type:String,default:"No Data"},loadingText:{type:String,default:"Loading..."},adapter:{type:Object,default:()=>ee},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},size:{type:String,default:"md"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["change","update:modelValue","update:selected","userInput"],setup(e,{emit:o}){const l=U(),r=_(),n=_(""),s=_(!1),u=K({elapsed:!1}),y={props:e,keyword:n,isOpen:s,isLoading:u},p=e.adapter.setup(y),d=v({get(){var t;return(t=p.value.find($=>B($.value,e.modelValue)))!=null?t:{text:"",value:void 0}},set(t){o("change",t),o("update:modelValue",t.value),o("update:selected",t),s.value&&o("userInput",t)}}),h=v(()=>{const t=[];return s.value&&t.push("select--open"),e.disabled&&t.push("select--disabled"),e.readonly&&t.push("select--readonly"),e.error&&t.push("select--error","state--error"),t}),m=v({get(){var t;return s.value?n.value:(t=d.value)==null?void 0:t.text},set(t){t!==m.value&&(n.value=t)}});function a(t){d.value=t}function g(){!e.disabled&&!e.readonly&&(s.value=!0)}function S(t){return B(t.value,d.value.value)}return P(s,t=>{t||(n.value="")},{flush:"post"}),W(()=>{s.value&&r.value&&r.value!==document.activeElement&&r.value.focus()}),Q(()=>{var t;(t=l==null?void 0:l.proxy)!=null&&t.$el&&(r.value=l.proxy.$el.querySelector(".select__search"))}),{classNames:h,model:d,isOpen:s,isLoading:u,search:m,items:p,select:a,onFocus:g,isSelected:S}}});const oe={key:0,"data-testid":"select-no-data",class:"select__empty"},ae={class:"select__option"},se={class:"select__option-text"},le={key:2,"data-testid":"select-loading",class:"select__loading"};function ne(e,o,l,r,n,s){const u=i("Input"),y=i("IconArrow"),p=i("IconCheck"),d=i("DropdownItem"),h=i("IconLoading"),m=i("Dropdown");return c(),V(m,{modelValue:e.isOpen,"onUpdate:modelValue":o[1]||(o[1]=a=>e.isOpen=a),class:k(["select",e.classNames]),"data-testid":"select","aria-label":"select",disabled:e.disabled},{activator:w(()=>[f(u,{modelValue:e.search,"onUpdate:modelValue":o[0]||(o[0]=a=>e.search=a),"data-testid":"select-search",class:"select__search",size:e.size,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,onFocus:e.onFocus},null,8,["modelValue","size","placeholder","disabled","readonly","onFocus"]),f(y,{class:"select__caret"})]),default:w(()=>[!e.isLoading&&e.items.length===0?(c(),I("div",oe,[C(e.$slots,"empty",{},()=>[b(L(e.emptyText),1)])])):(c(!0),I(x,{key:1},H(e.items,(a,g)=>(c(),V(d,{key:g,"data-testid":"select-item",class:k({selected:e.isSelected(a)}),onClick:S=>e.select(a)},{default:w(()=>[D("div",ae,[D("div",se,[C(e.$slots,"option",{isSelected:e.isSelected(a),item:a},()=>[b(L(a.text),1)])]),f(p,{class:"select__option-checked"})])]),_:2},1032,["class","onClick"]))),128)),e.isLoading?(c(),I("div",le,[f(h,{width:"14",height:"14"}),C(e.$slots,"loading",{},()=>[b(L(e.loadingText),1)])])):J("",!0)]),_:3},8,["modelValue","disabled","class"])}const we=R(te,[["render",ne]]);export{we as p};
