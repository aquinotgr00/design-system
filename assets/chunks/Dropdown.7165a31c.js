import{t as D,o as Z,a as b}from"./index.a4466092.js";import{p as Y}from"./Button.7ec005f9.js";import{i as N,x as V,f as I,o as v,c as O,g as w,e as T,y as A,j as J,k,z as Q,l as L,A as U,r as g,q as h,w as _,B as $,a as C,t as B,h as F,s as ee,T as G,C as te,D as ae,d as oe,E as ne,n as re}from"../app.34a3cf55.js";import{u as W}from"./utils-6ba05f5b.563bea36.js";import{a as se,c as ie,f as le,s as ue,o as de}from"./floating-ui.dom.esm.42b422b6.js";import{u as ce}from"./index.dac7e9c6.js";import{I as fe}from"./16.19641dcf.js";const H=Symbol("DROPDOWN_CONTEXT"),pe=N({props:{text:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const o=V(H,void 0,!0);function a(r){e("click",r),(o==null?void 0:o.close)&&!r.defaultPrevented&&o.close()}return{handleOnClick:a}}});function ve(t,e,o,a,r,s){return v(),O("button",{"data-testid":"dropdown-item",class:"dropdown__item",onClick:e[0]||(e[0]=(...n)=>t.handleOnClick&&t.handleOnClick(...n))},[w(t.$slots,"default",{},()=>[T(A(t.text),1)])])}const me=I(pe,[["render",ve]]);var he=W,j=he.createSVGComponent(j,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),we=j;const ge=we;var _e=W,X=_e.createSVGComponent(X,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),ye=X;const be=ye,z=Symbol("DropdownTree"),ke=N({components:{DropdownItem:me,IconNext:ge,IconBack:be},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{slots:e,emit:o}){var i;const a=V(z,void 0,!0),r=J("slide-left"),s=k(()=>a===void 0),n=(i=a==null?void 0:a.tree)!=null?i:Q({_level:0,slots:e}),l=()=>{n.value={_level:n.value._level+1,prev:n.value,slots:e}},u=()=>{n.value.prev&&(n.value=n.value.prev)},d=k(()=>n.value.slots.default),m=k(()=>Boolean(s.value&&n.value.prev));L(n,(p,S)=>{r.value=p._level>S._level?"slide-left":"slide-right"}),s.value&&U(z,{tree:n,next:l,back:u});function c(){s.value&&(n.value={prev:void 0,_level:0,slots:e})}function f(){const p=new MouseEvent("click");o("click",p),p.defaultPrevented||l()}return{isRoot:s,tree:n,view:d,next:l,back:u,reset:c,canBack:m,transition:r,handleOnClick:f}}});const Ce=F("div",{class:"dropdown__group-content"},null,-1),Se={class:"dropdown__subitem__content"};function De(t,e,o,a,r,s){const n=g("IconBack"),l=g("DropdownItem"),u=g("IconNext");return v(),h(G,{name:t.transition,mode:"out-in"},{default:_(()=>[(v(),O("div",{key:t.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[t.canBack?(v(),h(l,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:e[0]||(e[0]=$(d=>t.back(),["prevent"]))},{default:_(()=>[w(t.$slots,"button-back",{},()=>[C(n,{class:"dropdown__subitem__next"}),Ce])]),_:3})):B("",!0),t.isRoot?(v(),h(ee(t.view),{key:2})):(v(),h(l,{key:"btn-next",class:"dropdown__subitem__btn",onClick:$(t.handleOnClick,["prevent"])},{default:_(()=>[F("div",Se,[w(t.$slots,"button-content",{next:t.next,back:t.back},()=>[T(A(t.text),1)])]),t.noCaret?B("",!0):(v(),h(u,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const $e=I(ke,[["render",De]]);/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Be=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],E=Be.join(","),q=typeof Element>"u",y=q?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,R=!q&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},Ee=function(e,o,a){var r=Array.prototype.slice.apply(e.querySelectorAll(E));return o&&y.call(e,E)&&r.unshift(e),r=r.filter(a),r},Re=function t(e,o,a){for(var r=[],s=Array.from(e);s.length;){var n=s.shift();if(n.tagName==="SLOT"){var l=n.assignedElements(),u=l.length?l:n.children,d=t(u,!0,a);a.flatten?r.push.apply(r,d):r.push({scopeParent:n,candidates:d})}else{var m=y.call(n,E);m&&a.filter(n)&&(o||!e.includes(n))&&r.push(n);var c=n.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(n),f=!a.shadowRootFilter||a.shadowRootFilter(n);if(c&&f){var i=t(c===!0?n.children:c.children,!0,a);a.flatten?r.push.apply(r,i):r.push({scopeParent:n,candidates:i})}else s.unshift.apply(s,n.children)}}return r},Ne=function(e){return e.tagName==="INPUT"},Ie=function(e){return Ne(e)&&e.type==="hidden"},Oe=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return o},Te=function(e){for(var o,a=R(e).host,r=!!((o=a)!==null&&o!==void 0&&o.ownerDocument.contains(a)||e.ownerDocument.contains(e));!r&&a;){var s;a=R(a).host,r=!!((s=a)!==null&&s!==void 0&&s.ownerDocument.contains(a))}return r},M=function(e){var o=e.getBoundingClientRect(),a=o.width,r=o.height;return a===0&&r===0},Ae=function(e,o){var a=o.displayCheck,r=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=y.call(e,"details>summary:first-of-type"),n=s?e.parentElement:e;if(y.call(n,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof r=="function"){for(var l=e;e;){var u=e.parentElement,d=R(e);if(u&&!u.shadowRoot&&r(u)===!0)return M(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=l}if(Te(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return M(e);return!1},Fe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var a=0;a<o.children.length;a++){var r=o.children.item(a);if(r.tagName==="LEGEND")return y.call(o,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}o=o.parentElement}return!1},P=function(e,o){return!(o.disabled||Ie(o)||Ae(o,e)||Oe(o)||Fe(o))},ze=function(e,o){o=o||{};var a;return o.getShadowRoot?a=Re([e],o.includeContainer,{filter:P.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):a=Ee(e,o.includeContainer,P.bind(null,o)),a};function Me(t){function e(r){const s=ze(t.value),n=s.indexOf(document.activeElement),l=s.at((n+r)%s.length);l!==void 0&&l.focus()}function o(){e(1)}function a(){e(-1)}return{next:o,prev:a}}const Pe=N({components:{Button:Y,DropdownGroup:$e,IconArrow:fe},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(t,{emit:e}){const o=D("dropdown"),a=D("menu"),r=D("wizard"),s=te(t,"placement"),n=ce(t),{next:l,prev:u}=Me(a),d=k(()=>{const i=[""];return t.divider&&i.push("dropdown--divider"),i});function m(){t.disabled||(n.value?f():c())}function c(){t.disabled||(n.value=!0,e("show"))}function f(){t.disabled||(n.value=!1,e("hide"))}return Z(a,()=>{n.value&&setTimeout(()=>{f()})},{ignore:[o]}),b("Escape",i=>{const p=i.target;n.value&&(f(),typeof p.blur=="function"&&p.blur())}),b(["ArrowUp"],i=>{i.preventDefault(),n.value&&u()}),b(["ArrowDown"],i=>{i.preventDefault(),n.value&&l()}),b(["Tab"],i=>{i.preventDefault(),n.value&&(i.shiftKey?u():l())}),ae(i=>{if(o.value&&a.value){const p=se(o.value,a.value,()=>{ie(o.value,a.value,{strategy:"absolute",placement:s.value,middleware:[le(),ue(),de(8)]}).then(({x:S,y:x,placement:K})=>{a.value&&(a.value.dataset.popperPlacement=K,a.value.style.left=`${S||0}px`,a.value.style.top=`${x||0}px`)})});i(p)}},{flush:"post"}),L(n,i=>{!i&&r.value&&r.value.reset()},{immediate:!0}),U(H,{isOpen:n,toggle:m,open:c,close:f}),{isOpen:n,classNames:d,toggle:m,open:c,close:f}}});const Ve={ref:"menu","data-testid":"dropdown-menu",class:"dropdown__menu"};function Le(t,e,o,a,r,s){const n=g("IconArrow"),l=g("Button"),u=g("DropdownGroup");return v(),O("div",{ref:"dropdown",class:re(["dropdown",[{"dropdown--open":t.isOpen},t.classNames]]),"data-testid":"dropdown"},[w(t.$slots,"activator",{toggle:t.toggle,open:t.open,close:t.close,isOpen:t.isOpen},()=>[C(l,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:$(t.toggle,["prevent"])},{default:_(()=>[w(t.$slots,"button-content",{},()=>[T(A(t.text),1)]),t.noCaret?B("",!0):(v(),h(n,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),C(G,{name:"fade"},{default:_(()=>[oe(F("div",Ve,[C(u,{ref:"wizard",class:"dropdown__menu-container"},{default:_(()=>[w(t.$slots,"default")]),_:3},512)],512),[[ne,t.isOpen]])]),_:3})],2)}const xe=I(Pe,[["render",Le]]);export{xe as D,me as a,$e as p};
