import{t as D,o as q,f as h}from"./theme.0ede34c8.js";import{p as H}from"./Button.c0b369e2.js";import{p as J,I as U,D as X}from"./Dropdown.vue_vue_type_style_index_0_lang.0481f507.js";import{g as O}from"./commonjsHelpers.042e6b4d.js";import{u as N}from"./utils-6ba05f5b.bfd05ad6.js";import{m as V,$ as Q,r as Y,c as _,s as Z,w as R,a0 as T,_ as A,K as m,x as u,H as f,I as v,p as E,a5 as B,q as b,M as y,J as $,F as S,y as M,z as F,R as x,T as G,t as ee,l as te,a7 as oe,a9 as ne,v as I}from"./framework.d1aba3cb.js";import{u as ae}from"./use-focus.ae494a4f.js";import{z as se,M as re,A as le,O as ie,L as de}from"./floating-ui.dom.browser.min.b27d3e90.js";import{u as ue}from"./index.7ec55cbf.js";var pe=N,L=pe.createSVGComponent(L,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),ce=L;const fe=O(ce),z=Symbol("DropdownTree"),me=V({components:{DropdownItem:J,IconNext:U,IconBack:fe},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:s,emit:l}){var d;const n=Q(z,void 0,!0),p=Y("slide-left"),i=_(()=>n===void 0),t=(d=n==null?void 0:n.tree)!=null?d:Z({_level:0,slots:s}),a=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:s}},r=()=>{t.value.prev&&(t.value=t.value.prev)},k=_(()=>t.value.slots.default),C=_(()=>!!(i.value&&t.value.prev));R(t,(o,c)=>{p.value=o._level>c._level?"slide-left":"slide-right"}),i.value&&T(z,{tree:t,next:a,back:r});function g(){i.value&&(t.value={prev:void 0,_level:0,slots:s})}function w(){const o=new MouseEvent("click");l("click",o),o.defaultPrevented||a()}return{isRoot:i,tree:t,view:k,next:a,back:r,reset:g,canBack:C,transition:p,handleOnClick:w}}}),ve=S("div",{class:"dropdown__group-content"},null,-1),we={class:"dropdown__subitem__content"};function _e(e,s,l,n,p,i){const t=m("IconBack"),a=m("DropdownItem"),r=m("IconNext");return u(),f(G,{name:e.transition,mode:"out-in"},{default:v(()=>[(u(),E("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),f(a,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=B(k=>e.back(),["prevent"]))},{default:v(()=>[b(e.$slots,"button-back",{},()=>[y(t,{class:"dropdown__subitem__next"}),ve])]),_:3})):$("",!0),e.isRoot?(u(),f(x(e.view),{key:2})):(u(),f(a,{key:"btn-next",class:"dropdown__subitem__btn",onClick:B(e.handleOnClick,["prevent"])},{default:v(()=>[S("div",we,[b(e.$slots,"button-content",{next:e.next,back:e.back},()=>[M(F(e.text),1)])]),e.noCaret?$("",!0):(u(),f(r,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const be=A(me,[["render",_e]]);var ke=N,P=ke.createSVGComponent(P,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"}}]),ge=P;const he=O(ge),ye=V({components:{Button:H,DropdownGroup:be,IconArrow:he},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:s}){const l=D("dropdown"),n=D("menu"),p=D("wizard"),i=ee(e,"placement"),t=ue(e),{next:a,prev:r}=ae(n),k=_(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o}),C=_(()=>{const o=[""];return e.menuSize&&o.push(`dropdown__menu--${e.menuSize}`),o});function g(){e.disabled||(t.value?d():w())}function w(){e.disabled||(t.value=!0,s("show"))}function d(){e.disabled||(t.value=!1,s("hide"))}return q(n,()=>{t.value&&setTimeout(()=>{d()})},{ignore:[l]}),h("Escape",o=>{const c=o.target;t.value&&(d(),typeof c.blur=="function"&&c.blur())}),h(["ArrowUp"],o=>{t.value&&(o.preventDefault(),r())}),h(["ArrowDown"],o=>{t.value&&(o.preventDefault(),a())}),h(["Tab"],o=>{t.value&&(o.preventDefault(),o.shiftKey?r():a())}),te(o=>{if(l.value&&n.value){const c=se(l.value,n.value,()=>{re(l.value,n.value,{strategy:"absolute",placement:i.value,middleware:[le(),ie(),de(8)]}).then(({x:j,y:K,placement:W})=>{n.value&&(n.value.dataset.popperPlacement=W,n.value.style.left=`${j||0}px`,n.value.style.top=`${K||0}px`)})});o(c)}},{flush:"post"}),R(t,o=>{!o&&p.value&&p.value.reset()},{immediate:!0}),T(X,{isOpen:t,toggle:g,open:w,close:d}),{isOpen:t,classNames:k,containerSize:C,toggle:g,open:w,close:d}}});function Ce(e,s,l,n,p,i){const t=m("IconArrow"),a=m("Button"),r=m("DropdownGroup");return u(),E("div",{ref:"dropdown",class:I(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[b(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[y(a,{"data-testid":"dropdown-activator",class:"dropdown__activator",variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:B(e.toggle,["prevent"])},{default:v(()=>[b(e.$slots,"button-content",{},()=>[M(F(e.text),1)]),e.noCaret?$("",!0):(u(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["variant","color","size","icon","pill","disabled","onClick"])]),y(G,{name:"fade"},{default:v(()=>[oe(S("div",{ref:"menu","data-testid":"dropdown-menu",class:I(["dropdown__menu",[e.menuClass,e.containerSize]])},[y(r,{ref:"wizard",class:"dropdown__menu__container"},{default:v(()=>[b(e.$slots,"default")]),_:3},512)],2),[[ne,e.isOpen]])]),_:3})],2)}const Re=A(ye,[["render",Ce]]);export{Re as D,he as I,be as p};
