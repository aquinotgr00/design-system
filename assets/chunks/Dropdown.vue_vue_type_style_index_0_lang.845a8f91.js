import{t as y,o as L,a as h}from"./index.de94caa5.js";import{p as W}from"./Button.eeec7c82.js";import{f as B,h as v,z as S,k as I,o as p,q as f,w as b,l as C,n as K,s as O,e as x,y as T,g as U,A as X,i as V,B as R,r as g,c as j,C as D,a as q,t as $,m as E,T as H,D as J,E as Q}from"../app.8de4c67c.js";import{u as P}from"./utils-6ba05f5b.a5ef5455.js";import{u as Y}from"./use-focus.a4b3f3c4.js";import{a as Z,c as ee,f as te,s as oe,o as ae}from"./floating-ui.dom.esm.9d13274a.js";import{u as ne}from"./index.70913ba2.js";import{I as se}from"./16.daed8478.js";var le=P,z=le.createSVGComponent(z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}}]),re=z;const ie=re,A=Symbol("DROPDOWN_CONTEXT"),ue=B({props:{text:{type:String,default:""},href:{type:String,default:void 0},active:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:s}){const n=S(A,void 0,!0);function o(e){s("click",e),(n!=null&&n.close&&!e.defaultPrevented||e.defaultPrevented&&t.href)&&n.close()}const r=v(()=>{const e=[""];return t.active&&e.push("dropdown__item--active"),e}),l=v(()=>{let e="button";return t.href&&(e="a"),e});return{handleOnClick:o,classNames:r,tagName:l}}});function de(t,s,n,o,r,l){return p(),f(O(t.tagName),{"data-testid":"dropdown-item",class:K(["dropdown__item",t.classNames]),href:t.href,onClick:t.handleOnClick},{default:b(()=>[C(t.$slots,"default",{},()=>[x(T(t.text),1)])]),_:3},8,["class","href","onClick"])}const ce=I(ue,[["render",de]]);var pe=P,M=pe.createSVGComponent(M,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},[{elem:"path",attrs:{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"}}]),fe=M;const ve=fe,N=Symbol("DropdownTree"),me=B({components:{DropdownItem:ce,IconNext:ie,IconBack:ve},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{slots:s,emit:n}){var a;const o=S(N,void 0,!0),r=U("slide-left"),l=v(()=>o===void 0),e=(a=o==null?void 0:o.tree)!=null?a:X({_level:0,slots:s}),i=()=>{e.value={_level:e.value._level+1,prev:e.value,slots:s}},d=()=>{e.value.prev&&(e.value=e.value.prev)},_=v(()=>e.value.slots.default),w=v(()=>Boolean(l.value&&e.value.prev));V(e,(u,k)=>{r.value=u._level>k._level?"slide-left":"slide-right"}),l.value&&R(N,{tree:e,next:i,back:d});function m(){l.value&&(e.value={prev:void 0,_level:0,slots:s})}function c(){const u=new MouseEvent("click");n("click",u),u.defaultPrevented||i()}return{isRoot:l,tree:e,view:_,next:i,back:d,reset:m,canBack:w,transition:r,handleOnClick:c}}});const _e=E("div",{class:"dropdown__group-content"},null,-1),we={class:"dropdown__subitem__content"};function he(t,s,n,o,r,l){const e=g("IconBack"),i=g("DropdownItem"),d=g("IconNext");return p(),f(H,{name:t.transition,mode:"out-in"},{default:b(()=>[(p(),j("div",{key:t.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[t.canBack?(p(),f(i,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=D(_=>t.back(),["prevent"]))},{default:b(()=>[C(t.$slots,"button-back",{},()=>[q(e,{class:"dropdown__subitem__next"}),_e])]),_:3})):$("",!0),t.isRoot?(p(),f(O(t.view),{key:2})):(p(),f(i,{key:"btn-next",class:"dropdown__subitem__btn",onClick:D(t.handleOnClick,["prevent"])},{default:b(()=>[E("div",we,[C(t.$slots,"button-content",{next:t.next,back:t.back},()=>[x(T(t.text),1)])]),t.noCaret?$("",!0):(p(),f(d,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const be=I(me,[["render",he]]),Se=B({components:{Button:W,DropdownGroup:be,IconArrow:se},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(t,{emit:s}){const n=y("dropdown"),o=y("menu"),r=y("wizard"),l=J(t,"placement"),e=ne(t),{next:i,prev:d}=Y(o),_=v(()=>{const a=[""];return t.divider&&a.push("dropdown--divider"),a});function w(){t.disabled||(e.value?c():m())}function m(){t.disabled||(e.value=!0,s("show"))}function c(){t.disabled||(e.value=!1,s("hide"))}return L(o,()=>{e.value&&setTimeout(()=>{c()})},{ignore:[n]}),h("Escape",a=>{const u=a.target;e.value&&(c(),typeof u.blur=="function"&&u.blur())}),h(["ArrowUp"],a=>{a.preventDefault(),e.value&&d()}),h(["ArrowDown"],a=>{a.preventDefault(),e.value&&i()}),h(["Tab"],a=>{a.preventDefault(),e.value&&(a.shiftKey?d():i())}),Q(a=>{if(n.value&&o.value){const u=Z(n.value,o.value,()=>{ee(n.value,o.value,{strategy:"absolute",placement:l.value,middleware:[te(),oe(),ae(8)]}).then(({x:k,y:F,placement:G})=>{o.value&&(o.value.dataset.popperPlacement=G,o.value.style.left=`${k||0}px`,o.value.style.top=`${F||0}px`)})});a(u)}},{flush:"post"}),V(e,a=>{!a&&r.value&&r.value.reset()},{immediate:!0}),R(A,{isOpen:e,toggle:w,open:m,close:c}),{isOpen:e,classNames:_,toggle:w,open:m,close:c}}});export{ie as I,Se as _,be as a,ce as p};
