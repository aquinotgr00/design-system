import{c as U}from"./chunks/create-image.28dfb74f.js";import{u as R}from"./chunks/index.f2e1de82.js";import{u as $}from"./chunks/index.70913ba2.js";import{f as O}from"./chunks/base64.041d95b4.js";import{c as M}from"./chunks/canvas.5c47c0f6.js";import{l as H}from"./chunks/load-font.be619ac7.js";import{c as G}from"./chunks/use-focus.a4b3f3c4.js";import{f as J,j as Y,k as K,o as B,c as I,g as N,a7 as Q,r as W,a,w as C,m as y,y as L,u as l,b as m,e as _,L as V}from"./app.8de4c67c.js";import{j as X}from"./chunks/index.3cf6f51a.js";import{p as Z,F as ss}from"./chunks/Calibrator-v3.2352ef41.js";import{p as es}from"./chunks/PdfObject.c1790d5c.js";import"./chunks/avatar.bd58a373.js";import"./chunks/color-hash.af77277d.js";import"./chunks/load-image.265b152a.js";import"./chunks/toNumber.09abc7f0.js";import"./chunks/isSymbol.4326927f.js";import"./chunks/isObjectLike.53b0037d.js";import"./chunks/index.38b93130.js";import"./chunks/index.de94caa5.js";import"./chunks/16.77c75e48.js";import"./chunks/utils-6ba05f5b.a5ef5455.js";import"./chunks/16.daed8478.js";import"./chunks/Button.eeec7c82.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.8f1c439c.js";import"./chunks/Divider.1d20a560.js";import"./chunks/Divider.vue_vue_type_style_index_0_lang.b7d9f398.js";import"./chunks/Select.8684d265.js";import"./chunks/Dropdown.29fed958.js";import"./chunks/Dropdown.vue_vue_type_style_index_0_lang.845a8f91.js";import"./chunks/floating-ui.dom.esm.9d13274a.js";import"./chunks/Input.6825040e.js";import"./chunks/Input.vue_vue_type_style_index_0_lang.e72f1874.js";import"./chunks/SpinnerRing.3c281dc3.js";import"./chunks/adapter.582b0ff8.js";import"./chunks/use-loading.46322456.js";import"./chunks/value.830bdabd.js";import"./chunks/focus.419a5f01.js";import"./chunks/index.3e360db9.js";import"./chunks/debounce.425ad733.js";import"./chunks/toInteger.cccd26ae.js";import"./chunks/toString.9cda75b1.js";import"./chunks/isArray.513c67aa.js";import"./chunks/memoize.8367968b.js";function k(s,c,d,e,D,n){const p=[];s.font=`${d}px ${JSON.stringify(D)}`,s.textBaseline="top";let t="",F,r,h;for(const E of c.split(`
`)){const g=E.split(" ");for(F=0;F<g.length;F++){for(r=g[F],h=s.measureText(r);h.width>n;)r=r.slice(0,Math.max(0,r.length-1)),h=s.measureText(r);g[F]!==r&&(g.splice(F+1,0,g[F].slice(r.length)),g[F]=r),r=`${t+g[F]} `,h=s.measureText(r),h.width>n&&F>0?(p.push(t),t=`${g[F]} `):t=r}p.push(t),t=""}return p}async function ns(s){var T,q,w,z;const{text:c,color:d,padding:e,font:D,height:n,width:p,size:t,minSize:F,maxSize:r,fixedSize:h,label:E}=s;await H(D);const g=(T=s.canvas)!=null?T:M(p,n),o=g.getContext("2d");let f=e;if(E){const x=(q=s.labelSize)!=null?q:t,v=(w=s.labelFont)!=null?w:D,u=(z=s.labelColor)!=null?z:d;o.font=`${x}px ${JSON.stringify(v)}`,o.textBaseline="top",o.textAlign="start",o.fillStyle=u,o.fillText(E,e,f),f+=x*s.lineHeight}if(c){const x=p-e*2,v=n-(f+e);let u=t,A=u*s.lineHeight,S=k(o,c,u,A,D,x);if(!h){let b=S.length*A,j=0;do{const P=G(Math.round((v/b*u+u)/2),F,r);if(P===u)break;u=P,A=u*s.lineHeight,S=k(o,c,u,A,D,x),b=S.length*A}while(b>v&&++j<5)}o.font=`${u}px ${JSON.stringify(D)}`,o.textBaseline="top",o.textAlign="start",o.fillStyle=d,o.font=`${u}px ${JSON.stringify(D)}`,o.textBaseline="top",o.textAlign="start",o.fillStyle=d;for(const b of S)o.fillText(b,e,f),f+=A}return g.toDataURL("image/png")}const ts=J({props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},text:{type:String,default:""},width:{type:Number,default:198},height:{type:Number,default:106},color:{type:String,default:"#4a5362"},size:{type:Number,default:16},minSize:{type:Number,default:11},maxSize:{type:Number,default:72},fixedSize:{type:Boolean,default:!1},font:{type:String,default:"DM Sans"},lineHeight:{type:Number,default:1.5},padding:{type:Number,default:12},label:{type:String,default:""},labelColor:{type:String,default:"#9EA0A2"},labelFont:{type:String,default:void 0},labelSize:{type:Number,default:12}},setup(s){const c=$(s),d=R(c,U(s.width,s.height));X(()=>[s.text,s.width,s.height,s.color,s.size,s.fixedSize,s.font,s.lineHeight,s.padding,s.label,s.labelColor,s.labelFont,s.labelSize],()=>{e()},{debounce:300}),Y(()=>{e()});async function e(){const D=await ns(s),n=s.modelModifiers.base64?D:O(D);c.value=n}return{preview:d}}});const as=["width","height","src","alt"];function ls(s,c,d,e,D,n){return B(),I("img",{class:"pdf-text",width:s.width,height:s.height,src:s.preview,alt:s.text},null,8,as)}const i=K(ts,[["render",ls]]),os=m("",4),ps=m("",2),cs=m("",3),rs=m("",2),is=m("",3),ds=m("",3),Ds={class:"grid grid-cols-2 grid-rows-2 gap-4"},Fs=m("",3),ys=m("",2),us={class:"truncate"},gs=y("h3",{id:"encode-to-base64",tabindex:"-1"},[_("Encode to base64 "),y("a",{class:"header-anchor",href:"#encode-to-base64","aria-hidden":"true"},"#")],-1),Cs=y("p",null,[_("If you prefer "),y("a",{href:"https://en.wikipedia.org/wiki/Data_URI_scheme",target:"_blank",rel:"noreferrer"},"base64-dataURI"),_(" format, add modifier "),y("code",null,".base64"),_(" to your "),y("code",null,"v-model"),_(".")],-1),ms=y("p",null,[y("strong",null,"result")],-1),hs={class:"truncate"},As=m("",8),de=JSON.parse('{"title":"PDF Text · Components","description":"Generate text for Pdf Object","frontmatter":{"title":"PDF Text · Components","description":"Generate text for Pdf Object"},"headers":[{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[{"level":3,"title":"Simple Usage","slug":"simple-usage","link":"#simple-usage","children":[]},{"level":3,"title":"Using with PDF Object","slug":"using-with-pdf-object","link":"#using-with-pdf-object","children":[]}]},{"level":2,"title":"Change Font","slug":"change-font","link":"#change-font","children":[]},{"level":2,"title":"Change Color","slug":"change-color","link":"#change-color","children":[]},{"level":2,"title":"Label","slug":"label","link":"#label","children":[]},{"level":2,"title":"Fixed Font Size","slug":"fixed-font-size","link":"#fixed-font-size","children":[]},{"level":2,"title":"Binding v-model","slug":"binding-v-model","link":"#binding-v-model","children":[{"level":3,"title":"Encode to base64","slug":"encode-to-base64","link":"#encode-to-base64","children":[]}]},{"level":2,"title":"API","slug":"api","link":"#api","children":[{"level":3,"title":"Props","slug":"props","link":"#props","children":[]},{"level":3,"title":"Slots","slug":"slots","link":"#slots","children":[]},{"level":3,"title":"Events","slug":"events","link":"#events","children":[]}]}],"relativePath":"components/pdf-text/index.md"}'),fs={name:"components/pdf-text/index.md"},De=Object.assign(fs,{setup(s){const c=N(),d=N(),e=Q({src:void 0,page:1,x:100,y:200,width:void 0,height:void 0});return(D,n)=>{const p=W("preview");return B(),I("div",null,[os,a(p,{class:"flex-col"},{default:C(()=>[a(i,{text:"Lorem ipsum dolor sit amet consectetur adipisicing"})]),_:1}),ps,a(p,null,{default:C(()=>[a(Z,{src:l(ss)},{default:C(()=>[a(es,{page:l(e).page,"onUpdate:page":n[1]||(n[1]=t=>l(e).page=t),x:l(e).x,"onUpdate:x":n[2]||(n[2]=t=>l(e).x=t),y:l(e).y,"onUpdate:y":n[3]||(n[3]=t=>l(e).y=t),width:l(e).width,"onUpdate:width":n[4]||(n[4]=t=>l(e).width=t),height:l(e).height,"onUpdate:height":n[5]||(n[5]=t=>l(e).height=t)},{default:C(()=>[a(i,{modelValue:l(e).src,"onUpdate:modelValue":n[0]||(n[0]=t=>l(e).src=t),modelModifiers:{base64:!0},width:l(e).width,height:l(e).height,text:"Lorem ipsum dolor sit amet consectetur adipisicing"},null,8,["modelValue","width","height"])]),_:1},8,["page","x","y","width","height"])]),_:1},8,["src"])]),_:1}),cs,a(p,{class:"flex-col"},{default:C(()=>[a(i,{font:"Indie Flower",text:"Lorem ipsum dolor sit amet consectetur adipisicing"}),a(i,{font:"Satisfy",text:"Lorem ipsum dolor sit amet consectetur adipisicing"})]),_:1}),rs,a(p,{class:"flex-col"},{default:C(()=>[a(i,{color:"#004C9D",text:"Lorem ipsum dolor sit amet consectetur adipisicing"}),a(i,{color:"#23B242",text:"Lorem ipsum dolor sit amet consectetur adipisicing"}),a(i,{color:"#E42E2C",text:"Lorem ipsum dolor sit amet consectetur adipisicing"})]),_:1}),is,a(p,{class:"flex-col"},{default:C(()=>[a(i,{label:"Noted from Tarjono (TR001)",text:"Lorem ipsum dolor sit amet consectetur adipisicing"})]),_:1}),ds,a(p,null,{default:C(()=>[y("div",Ds,[a(i,{label:"Fixed Size",text:"Lorem ipsum dolor adipisicing","fixed-size":""}),a(i,{label:"Default",text:"Lorem ipsum dolor adipisicing"}),a(i,{label:"Fixed Size (long text)",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cupiditate, maxime. Amet enim soluta?","fixed-size":""}),a(i,{label:"Default (long text)",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cupiditate, maxime. Amet enim soluta?"})])]),_:1}),Fs,a(p,{class:"flex-col"},{default:C(()=>[a(i,{text:"Lorem ipsum dolor sit amet consectetur adipisicing",modelValue:l(c),"onUpdate:modelValue":n[6]||(n[6]=t=>V(c)?c.value=t:null)},null,8,["modelValue"])]),_:1}),ys,y("pre",us,[y("code",null,L(l(c)),1)]),gs,Cs,a(p,{class:"flex-col"},{default:C(()=>[a(i,{text:"Lorem ipsum dolor sit amet consectetur adipisicing",modelValue:l(d),"onUpdate:modelValue":n[7]||(n[7]=t=>V(d)?d.value=t:null),modelModifiers:{base64:!0}},null,8,["modelValue"])]),_:1}),ms,y("pre",hs,[y("code",null,L(l(d)),1)]),As])}}});export{de as __pageData,De as default};
